<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[C++å‡½æ•°æ¨¡æ¿åœ¨åˆ†ç¦»å¼ç¼–è¯‘ä¸­çš„å‘]]></title>
    <url>%2FCpp%2F20201019-1e61.html</url>
    <content type="text"><![CDATA[C++ ä¸­ æ¨¡æ¿ æ˜¯ æ³›åž‹ ç¼–ç¨‹çš„åŸºç¡€ï¼Œä½†æ˜¯æ¨¡æ¿åœ¨ åˆ†ç¦»å¼ç¼–è¯‘ ä¸­åˆæœ‰è®¸å¤šå‘~ å‡½æ•°æ¨¡æ¿å‡½æ•°æ¨¡æ¿ï¼ˆFunction Templateï¼‰è™½ç„¶ä¹Ÿå®šä¹‰äº†å‡½æ•°å®žçŽ°çš„å…·ä½“è¿‡ç¨‹ï¼Œä½†æ˜¯å®ƒå¹¶ä¸èƒ½å®Œå…¨ç­‰åŒäºŽæ™®é€šå‡½æ•°ã€‚ åœ¨ C++ ä¸­ï¼Œç±»åž‹ å’Œ å€¼ æ˜¯ æ•°æ® çš„ä¸¤ä¸ªä¸»è¦ç‰¹å¾ã€‚æ™®é€šå‡½æ•°é™å®šäº†æ•°æ®çš„ç±»åž‹ï¼Œåªå¯¹æ•°æ®çš„å€¼è¿›è¡Œæ“ä½œã€‚ å½“æˆ‘ä»¬éœ€è¦å¯¹ä¸åŒç±»åž‹æ•°æ®çš„å€¼è¿›è¡Œç›¸åŒçš„æ“ä½œæ—¶ï¼Œå°±éœ€è¦ä¸ºæ¯ä¸€ç§æ•°æ®ç±»åž‹å„è‡ªå®šä¹‰å¯¹åº”çš„æ™®é€šå‡½æ•°ï¼Œè¿™æ„å‘³ç€å¤§é‡å†—ä½™é‡å¤çš„ä»£ç ã€‚ å‡½æ•°æ¨¡æ¿ å°±æ˜¯ä¸ºäº†è§£å†³è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šé’ˆå¯¹ä¸åŒæ•°æ®ç±»åž‹çš„ç›¸åŒæ“ä½œåªå®šä¹‰ä¸€æ¬¡å‡½æ•°ã€‚ å‡½æ•°æ¨¡æ¿å®žé™…ä¸Šæ˜¯åœ¨æ™®é€šå‡½æ•°çš„åŸºç¡€ä¸Šï¼Œå°†æ•°æ®çš„ ç±»åž‹ çœ‹ä½œäº†å‚æ•°ï¼Œä»Žè€Œå»ºç«‹èµ·äº†ä¸€ä¸ª æ¨¡æ¿ï¼Œè¿™ä¸ªæ¨¡æ¿å¯ä»¥é€šè¿‡æŒ‡å®šç‰¹å®šçš„æ•°æ®ç±»åž‹è€Œ å®žä¾‹åŒ– ä¸ºå…·ä½“çš„æ™®é€šå‡½æ•°ã€‚æ¨¡æ¿ä¸­ä¼ é€’æ•°æ®ç±»åž‹çš„å‚æ•°å«åš æ¨¡æ¿å‚æ•°ï¼ˆTemplate Parametersï¼‰: 12template &lt;class T1, class T2&gt;returnType funcName(T1 t1, T2 t2) &#123; ... &#125; é€šè¿‡ template å…³é”®å­—å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ï¼ŒT1 å’Œ T2 æ˜¯æ¨¡æ¿å‚æ•°ï¼Œclass ä¹Ÿå¯æ›¿æ¢æˆ typenameã€‚ å®žä¾‹åŒ–å‡½æ•°æ¨¡æ¿ä¸Žå‡½æ•°çš„åŒºåˆ«åœ¨äºŽï¼šå‡½æ•°åœ¨å®šä¹‰æ—¶å°±å·²ç»è‡ªåŠ¨å®žä¾‹åŒ–ï¼ˆå®žä¾‹åŒ–çš„æ„æ€å°±æ˜¯ç¼–è¯‘æ—¶äº§ç”Ÿäº†å¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ï¼‰ï¼Œå› ä¸ºå‡½æ•°åªå¤„ç†æ•°æ®çš„å€¼ï¼Œè€Œæ•°æ®çš„ç±»åž‹æ˜¯å·²çŸ¥çš„ï¼›å‡½æ•°æ¨¡æ¿éœ€è¦æŒ‡å®šæ¨¡æ¿å‚æ•°è½¬åŒ–ä¸ºæ™®é€šå‡½æ•°æ‰èƒ½è¢«å®žä¾‹åŒ–ï¼Œè¿™å°±æ„å‘³ç€å¦‚æžœåªæ˜¯å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥å®ƒï¼Œè¿™æ˜¯ç†æ‰€åº”å½“çš„ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“æ¨¡æ¿çš„å…·ä½“æ•°æ®ç±»åž‹ã€‚æ¨¡æ¿å‚æ•°çš„å€¼åªæœ‰å½“å‡½æ•°æ¨¡æ¿è¢« è°ƒç”¨ æ—¶æ‰èƒ½ç¡®å®šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨å‡½æ•°æ¨¡æ¿ä¼šè‡ªåŠ¨å®žä¾‹åŒ–ä¸€ä¸ªç‰¹å®šæ•°æ®ç±»åž‹çš„æ™®é€šå‡½æ•°ï¼Œè¿™ç§ä¾èµ–äºŽå®žé™…è°ƒç”¨å’Œä¼ è¾“å‚æ•°æ•°æ®ç±»åž‹çš„å‡½æ•°æ¨¡æ¿å®žä¾‹åŒ–è¿‡ç¨‹å«åš éšå¼å®žä¾‹åŒ–ï¼ˆImplicit Instantiationï¼‰ã€‚ é™¤äº†éšå¼å®žä¾‹åŒ–ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨å‡½æ•°æ¨¡æ¿å‘ç”Ÿå®žé™…è°ƒç”¨ä¹‹å‰ä¸»åŠ¨å¯¹å‡½æ•°æ¨¡æ¿è¿›è¡Œå®žä¾‹åŒ–ï¼Œå³ä¸»åŠ¨å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬éœ€è¦å¯¹å“ªäº›ç‰¹å®šçš„æ•°æ®ç±»åž‹ï¼ˆæ¨¡æ¿å‚æ•°ï¼‰ç”Ÿæˆæ™®é€šå‡½æ•°ï¼Œè¿™ç§æ–¹å¼å«åš æ˜¾å¼å®žä¾‹åŒ–ï¼ˆExplicit Instantiationï¼‰ã€‚ 12345678910111213// å®šä¹‰å‡½æ•°æ¨¡æ¿template &lt;class T&gt; void swap(T &amp;x, T &amp;y) &#123; T temp = x; x = y; y = temp;&#125;// æ˜¾å¼å®žä¾‹åŒ–template void swap(int&amp;, int&amp;);// éšå¼å®žä¾‹åŒ–float x = 1.23, y = 3.21;swap(x, y); ç‰¹åŒ–æœ‰æ—¶å€™ï¼Œå‡½æ•°æ¨¡æ¿å¹¶ä¸é€‚ç”¨äºŽæŸäº›ç‰¹æ®Šçš„æ•°æ®ç±»åž‹ã€‚ä¾‹å¦‚ä¸Šé¢çš„ swap å‡½æ•°ï¼Œå¦‚æžœ T æ˜¯å¤æ‚çš„ç±»ï¼Œè€Œæˆ‘ä»¬æƒ³äº¤æ¢çš„æ˜¯å¯¹è±¡çš„ä¸¤ä¸ªå±žæ€§ï¼Œåˆ™ä¸Šé¢å®šä¹‰çš„æ¨¡æ¿å¹¶ä¸èƒ½å®žçŽ°è¿™ä¸ªç›®çš„ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é’ˆå¯¹ç‰¹æ®Šçš„æ•°æ®ç±»åž‹å¯¹å‡½æ•°æ¨¡æ¿è¿›è¡Œä¿®æ”¹ï¼Œå³å‡½æ•°æ¨¡æ¿çš„ ç‰¹åŒ–ï¼ˆSpecializationï¼‰ã€‚ ç‰¹åŒ–å®žçŽ°çš„æ˜¯æ™®é€šå‡½æ•°ï¼Œå®ƒéœ€è¦é‡å†™å‡½æ•°çš„å®šä¹‰è¿‡ç¨‹ï¼Œå¹¶è‡ªåŠ¨å®žä¾‹åŒ–ï¼ˆå› ä¸ºæ•°æ®çš„ç±»åž‹æŒ‡å®šäº†ï¼‰ã€‚ ç‰¹åŒ–å®žé™…ä¸Šç›¸å½“äºŽå‡½æ•°çš„é‡è½½ï¼šç›¸åŒçš„å‡½æ•°åï¼Œå½¢å‚å…·æœ‰ä¸åŒçš„æ•°æ®ç±»åž‹ã€‚ 1234567891011121314// å‡½æ•°æ¨¡æ¿template &lt;class T&gt; void swap(T &amp;x, T &amp;y) &#123; ... &#125;// ç‰¹åŒ–template &lt;&gt; void swap(Books &amp;x, Books &amp;y) &#123; string title = x.title; x.title = y.title; y.title = title;&#125;class Books &#123; public: string title;&#125; åˆ†ç¦»å¼ç¼–è¯‘åˆ†ç¦»å¼ç¼–è¯‘ï¼ˆSeparate Compilationï¼‰ï¼šC++ ä»¥ cpp æ–‡ä»¶ä¸ºåŸºæœ¬ç¼–è¯‘å•å…ƒï¼Œå°†æ¯ä¸ª cpp æ–‡ä»¶å•ç‹¬ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ï¼Œæœ€åŽé€šè¿‡è¿žæŽ¥å™¨è¿žæŽ¥æ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆè¦è¿žæŽ¥ï¼Ÿä¸€ä¸ªç›®æ ‡æ–‡ä»¶ä¸­çš„å‡½æ•°/ç±»/å˜é‡çš„å®šä¹‰å¯èƒ½åœ¨å…¶å®ƒçš„ç›®æ ‡æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”ç¨‹åºçš„æ‰§è¡Œå…¥å£åªåœ¨å…¶ä¸­æŸä¸€ä¸ªç›®æ ‡æ–‡ä»¶ä¸­ã€‚ æ¯ä¸€ä¸ª cpp æ–‡ä»¶åœ¨è¢«ç‹¬ç«‹ç¼–è¯‘æ—¶éƒ½ä¼š åŒ…å«ï¼ˆincludeï¼‰ç›¸å…³çš„å¤´æ–‡ä»¶ï¼Œå¦‚æžœä¸¤ä¸ª cpp æ–‡ä»¶åŒæ—¶å¼•å…¥äº†ç›¸åŒçš„å¤´æ–‡ä»¶ï¼Œæ„å‘³ç€è¿™ä¸ªå¤´æ–‡ä»¶ä¼šè¢«ç¼–è¯‘ä¸¤æ¬¡ï¼Œè¿™è¡¨ç¤ºå¤´æ–‡ä»¶ä¸­çš„å¯¹è±¡ä¼šè¢«å¤šæ¬¡å£°æ˜Žï¼Œè¿™å°†å¯¼è‡´ redefinition çš„é”™è¯¯ã€‚æ­£ç¡®çš„åšæ³•æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨ æ¡ä»¶ç¼–è¯‘ã€‚ æ¡ä»¶ç¼–è¯‘ç›¸å…³å®æŒ‡ä»¤ï¼š#if, #ifdef, #ifndef, #endif, #else, #elif å’Œ #define å› ä¸ºå‡½æ•°æ¨¡æ¿çš„å®šä¹‰å®žé™…ä¸Šä¸ä¼šè¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶ä»£ç ï¼ˆå®žä¾‹åŒ–ï¼‰ï¼Œæ‰€ä»¥å‡½æ•°æ¨¡æ¿çš„åˆ†ç¦»å¼ç¼–è¯‘å°±ä¼šå‡ºçŽ°ä¸€äº›é—®é¢˜ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç»å…¸çš„åˆ†ç¦»å¼ç¼–è¯‘ï¼Œä¸‰ä¸ªæ–‡ä»¶åˆ†åˆ«å®žçŽ°äº†å‡½æ•°çš„å£°æ˜Žã€å®šä¹‰å’Œè°ƒç”¨ï¼š å‡½æ•°å£°æ˜Ž swap.hï¼š 123#ifndef SWAP_H#define SWAP_Htemplate &lt;class T&gt; void swap2(T&amp;, T&amp;); å‡½æ•°å®šä¹‰ swap.cppï¼š 123456#include "swap.h"template &lt;class T&gt; void swap2(T &amp;x, T &amp;y) &#123; T temp = x; x = y; y = temp;&#125; å‡½æ•°è°ƒç”¨ main.cppï¼š 1234567891011#include &lt;iostream&gt;#include "swap.h"using namespace std;int main() &#123; int x = 3, y = 5; swap2(x, y); cout &lt;&lt; "x = " &lt;&lt; x &lt;&lt; endl; cout &lt;&lt; "y = " &lt;&lt; y &lt;&lt; endl; return 0;&#125; ç¼–è¯‘å™¨åˆ†åˆ«ç¼–è¯‘ swap.cpp å’Œ main.cpp ä¸¤ä¸ªæ–‡ä»¶ã€‚ ç”±äºŽä¸¤ä¸ªæ–‡ä»¶éƒ½åŒ…å«äº† swap.h æ–‡ä»¶ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨æ¡ä»¶ç¼–è¯‘ã€‚ ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ swap.cpp æ—¶è™½ç„¶ä¼šæ£€æŸ¥å‡½æ•°æ¨¡æ¿çš„è¯­æ³•ï¼Œä½†æ˜¯å´ä¸ä¼šç”Ÿæˆç›¸åº”çš„å‡½æ•°ä»£ç ï¼Œå› ä¸ºæ¨¡æ¿å‚æ•°æ˜¯æœªçŸ¥çš„ã€‚ main.cpp ä¸­è°ƒç”¨äº†å‡½æ•° swap2&lt;int&gt;ï¼Œç¼–è¯‘å™¨åªèƒ½åœ¨ swap.h ä¸­æ‰¾åˆ°å‡½æ•°æ¨¡æ¿ swap2&lt;T&gt; çš„å£°æ˜Žï¼Œè€Œæ²¡æœ‰æ¨¡æ¿çš„å®šä¹‰ã€‚è¿™å¯¼è‡´å‡½æ•°æ¨¡æ¿ä¸èƒ½è¢«æ­£ç¡®å®žä¾‹åŒ–ï¼ŒæŠ¥é”™ä¿¡æ¯æç¤ºæœªå®šä¹‰çš„å‡½æ•° void swap2&lt;int&gt;(int&amp;, int&amp;)ï¼š 1undefined reference to void swap2&lt;int&gt;(int&amp;, int&amp;) å› ä¸º main.cpp åŒ…å«äº† swap.h æ–‡ä»¶ï¼Œå¦‚æžœæˆ‘ä»¬åœ¨ swap.h æ–‡ä»¶ä¸­å®žçŽ°äº†å‡½æ•°æ¨¡æ¿ï¼Œåˆ™ä¸ä¼šæŠ¥é”™ï¼š 123456789#ifndef SWAP_H#define SWAP_Htemplate &lt;class T&gt; void swap2(T&amp;, T&amp;);template &lt;class T&gt; void swap2(T &amp;x, T &amp;y) &#123; T t = x; x = y; y = t;&#125;#endif å› ä¸ºæ­¤æ—¶ç¼–è¯‘ main.cpp æ—¶èƒ½å¤Ÿåœ¨ swap.h ä¸­æ‰¾åˆ° å‡½æ•°æ¨¡æ¿çš„å®šä¹‰ï¼Œå¹¶ä¸”æ ¹æ®å®žé™…è°ƒç”¨æ—¶çš„å˜é‡ç±»åž‹å¯¹å‡½æ•°æ¨¡æ¿è¿›è¡Œ éšå¼å®žä¾‹åŒ– ç”Ÿæˆ void swap2&lt;int&gt;(int&amp;, int&amp;) ç›¸å…³çš„ä»£ç ã€‚ä½†æ˜¯ï¼Œè¿™ç§å†™æ³•æ˜Žæ˜¾ä¸ç¬¦åˆåˆ†ç¦»å¼ç¼–è¯‘çš„è§„èŒƒï¼šåœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜Žï¼Œåœ¨æºæ–‡ä»¶ä¸­å®šä¹‰ã€‚ ä¸€ç§è¾ƒå¥½çš„åšæ³•æ˜¯åœ¨ swap.cpp ä¸­å¯¹å‡½æ•°æ¨¡æ¿è¿›è¡Œ æ˜¾å¼å®žä¾‹åŒ–ï¼š 1234567#include "swap.h"template &lt;class T&gt; void swap2(T &amp;x, T &amp;y) &#123; T t = x; x = y; y = t;&#125;template void swap2&lt;int&gt;(int&amp;, int&amp;); æ²¡æƒ³æ˜Žç™½çš„æ˜¯ï¼Œæ˜¾å¼å®žä¾‹åŒ–è¯­å¥å†™åœ¨å¤´æ–‡ä»¶ä¸­ä¼šæç¤ºæ‰¾ä¸åˆ°æ¨¡æ¿çš„å®šä¹‰ï¼Œè€Œå†™åœ¨æºæ–‡ä»¶ä¸­çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥~ è¿›è¡Œæ˜¾å¼å®žä¾‹åŒ–åŽï¼Œå°±å¯ä»¥æ­£å¸¸ç¼–è¯‘å•¦ï¼š 123&gt; g++ main.cpp swap.cpp &amp;&amp; a.exe &amp;&amp; del a.exeBefore swapping: x = 3, y = 5After swapping: x = 5, y = 3 ç±»æ¨¡æ¿ç±»æ¨¡æ¿ ä¸Ž å‡½æ•°æ¨¡æ¿ ç±»ä¼¼ï¼š books.h 1234#ifndef BOOKS_H#define BOOKS_Htemplate &lt;class T&gt; class Books;#endif books.cpp 123#include "books.h"template &lt;class T&gt; class Books &#123; ... &#125;;template class Books&lt;int&gt;; å‚è€ƒèµ„æ–™ä¸ºä»€ä¹ˆC++ç¼–è¯‘å™¨ä¸èƒ½æ”¯æŒå¯¹æ¨¡æ¿çš„åˆ†ç¦»å¼ç¼–è¯‘ C++ å‡½æ•°æ¨¡æ¿ å®žä¾‹åŒ–å’Œå…·ä½“åŒ–]]></content>
      <categories>
        <category>Cpp</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é«˜é˜¶å‡½æ•°ä¹‹è£…é¥°å™¨(1)]]></title>
    <url>%2Fpython%2F20200928-95fe.html</url>
    <content type="text"><![CDATA[å½“æˆ‘ä»¬å®žçŽ°äº†æŸä¸ªæ ¸å¿ƒæ¨¡å—ï¼ˆå‡½æ•°ï¼‰åŽï¼Œå¯èƒ½æŒ‰ç…§å®žé™…æƒ…å†µéœ€è¦ä¸ºè¿™ä¸ªæ¨¡å—æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ç»Ÿè®¡ç¨‹åºè¿è¡Œæ—¶é—´ã€è®°å½•æ—¥å¿—ç­‰ç­‰ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›åŽ»ä¿®æ”¹æ¨¡å—æœ¬èº«çš„ä»£ç ï¼ˆæƒ³æƒ³éƒ½è§‰å¾—å¾ˆlowï¼‰ï¼Œä¹Ÿä¸å¸Œæœ›æ”¹å˜å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼ˆä¸ç„¶é‚£ä¹ˆå¤šè°ƒç”¨æ¯ä¸ªéƒ½åŽ»æ”¹å²‚ä¸æ˜¯ä¹Ÿå¾ˆlowï¼‰ã€‚è£…é¥°å™¨ æä¾›äº†è§£å†³è¿™ä¸€é—®é¢˜çš„æ–¹æ¡ˆã€‚ç®€å•æ¥è¯´ï¼Œè£…é¥°å™¨å¯ä»¥åœ¨æ ¸å¿ƒä»£ç çš„å¤–é¢å¥—ä¸€å±‚å£³ï¼Œæ‰§è¡Œè¿™æ®µå¸¦å£³çš„ä»£ç å°±èƒ½è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚æˆ‘å°†ä»Žä¸€ä¸ª Python æ¸£æ¸£çš„è§’åº¦ç†è§£ä»€ä¹ˆæ˜¯ è£…é¥°å™¨ã€‚ å¥—å£³è¿™ä¸€æ“ä½œé€šè¿‡ @è¯­æ³•ç³– å®žçŽ°ï¼Œ@è¯­æ³•ç³–æŒ‡å®šäº†ä½¿ç”¨ä»€ä¹ˆå£³ï¼ˆè£…é¥°å™¨å‡½æ•°çš„å¼•ç”¨ï¼‰ï¼Œå£³çš„å†…å®¹é€šè¿‡ è£…é¥°å™¨å‡½æ•° å®šä¹‰ã€‚ æˆ‘ä»¬åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹æ—¶ç”¨åˆ°çš„ @staticmethod å’Œ @classmethod å°±å±žäºŽè£…é¥°å™¨çš„ä¸€ç§ã€‚ è¿™é‡Œåªä»¥æœ€ç®€å•çš„ â€å£³â€œ ç†è§£è£…é¥°å™¨çš„æ‰§è¡Œé€»è¾‘ã€‚ æœ€åŸºç¡€çš„è£…é¥°å™¨è£…é¥°å™¨ä¼šå¯¹ç›®æ ‡å‡½æ•°è¿›è¡ŒåŒ…è£…ï¼Œç„¶åŽå°†ç›®æ ‡å‡½æ•°åæŒ‡å‘åŒ…è£…åŽçš„å‡½æ•°å®šä¹‰ã€‚ä¸€èˆ¬è¯­æ³•æ˜¯ 12@decoratordef func(*args, **kwargs): pass è¿™é‡Œæˆ‘ä»¬å°† decorator ç§°ä¹‹ä¸º è£…é¥°å™¨å‡½æ•°ï¼Œå°† func ç§°ä¹‹ä¸º ç›®æ ‡å‡½æ•°ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ @ è¯­æ³•æ—¶ä¸ä»…ä»…æ˜¯åœ¨å®šä¹‰ç›®æ ‡å‡½æ•°ï¼Œä¹Ÿæ˜¯åœ¨è°ƒç”¨è£…é¥°å™¨å‡½æ•°ï¼Œæžæ¸…æ¥šè¿™ä¸€ç‚¹å°±èƒ½ç†è§£ @ è¯­æ³•çš„ä½œç”¨æœºåˆ¶ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè£…é¥°å™¨å‡½æ•°çš„ å¼•ç”¨ ç´§è·Ÿåœ¨ @ ç¬¦å·åŽé¢ï¼Œç´§æŽ¥ç€ä¸‹ä¸€è¡Œå°±æ˜¯ç›®æ ‡å‡½æ•°çš„å®šä¹‰ã€‚è£…é¥°å™¨å‡½æ•°åªæŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œé‚£å°±æ˜¯ç›®æ ‡å‡½æ•°ã€‚æ‰€ä»¥è¯´ï¼Œè£…é¥°å™¨å‡½æ•°æ˜¯ä¸€ä¸ª é«˜é˜¶å‡½æ•°ï¼Œå®ƒä»¥å‡½æ•°å¼•ç”¨ä½œä¸ºå‚æ•°ï¼ŒåŒæ—¶è¿”å›žå¦ä¸€ä¸ªå‡½æ•°çš„å¼•ç”¨ã€‚ å½“ç¨‹åºæ£€æµ‹åˆ° @ ç¬¦å·æ—¶ï¼Œä¼š è°ƒç”¨ï¼ˆæˆ–è€…å« æ‰§è¡Œï¼‰ è£…é¥°å™¨å‡½æ•°ï¼Œä¼ å…¥ç›®æ ‡å‡½æ•°çš„å¼•ç”¨ï¼Œè¿”å›žå¦å¤–ä¸€ä¸ªå‡½æ•°çš„å¼•ç”¨ï¼Œå¹¶å°†æŒ‡å‘åŽŸæ¥ç›®æ ‡å‡½æ•°çš„å˜é‡ï¼ˆä¸Šé¢çš„ func å˜é‡ï¼‰æŒ‡å‘è¿”å›žçš„æ–°å‡½æ•°ã€‚æ‰€ä»¥ä¸Šé¢çš„ç¤ºä¾‹ä»£ç å°±ç›¸å½“äºŽï¼š 12345## å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ˆå…·ä½“å®žçŽ°ç•¥ï¼‰ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªå˜é‡funcï¼ˆå‡½æ•°å˜é‡ï¼‰æŒ‡å‘è¿™ä¸ªå‡½æ•°def func(*args, **kwargs): pass## è°ƒç”¨è£…é¥°å™¨å‡½æ•°ï¼Œå¹¶ä½¿funcå˜é‡æŒ‡å‘è£…é¥°å™¨è¿”å›žçš„é‚£ä¸ªå‡½æ•°func = decorator(func) è¯´å®Œäº† @ ç¬¦å·ï¼Œæˆ‘ä»¬å†æ¥è°ˆè°ˆ è£…é¥°å™¨å‡½æ•° æœ¬èº«ã€‚ä¸Šé¢æåˆ°äº†ï¼Œè£…é¥°å™¨å‡½æ•°æŽ¥å—ç›®æ ‡å‡½æ•°ä½œä¸ºå‚æ•°å¹¶è¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚ æˆ‘ä»¬ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸º è£…é¥°å™¨ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æƒ³æ‰©å±•ç›®æ ‡å‡½æ•°çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ç»Ÿè®¡ç›®æ ‡å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ç­‰ç­‰ã€‚ æ¢è¨€ä¹‹ï¼Œç›®æ ‡å‡½æ•°å®šä¹‰äº†æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œè€ŒæŸäº›æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹è¯¥æ¨¡å—åšä¸€äº›æ‹“å±•ï¼Œä¾‹å¦‚ç»Ÿè®¡è¿è¡Œæ—¶é—´ã€‚ æ‰€ä»¥è£…é¥°å™¨å‡½æ•°çš„åŸºæœ¬å½¢å¼åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š 123456789101112def decorator(func): ## æˆ‘ä»¬åŠ ä¸Šä¸‹é¢è¿™ä¸€å¥å¯ä»¥éªŒè¯æ‰§è¡Œåˆ°@æ—¶æ˜¯å¦æ‰§è¡Œäº†è£…é¥°å™¨å‡½æ•° print('run decorator ...') def wrapper(*args, **kwargs): ## do something, such as print('run wrapper ...') result = func(*args, **kwargs) ## do something, such as print('wrapper end!') return result print(wrapper) return wrapper ä¸Šé¢æè¿°äº†ä¸€ä¸ªè£…é¥°å™¨å‡½æ•°çš„åŸºæœ¬æ¨¡åž‹ï¼Œå®ƒä¸»è¦å®šä¹‰äº†ä¸¤ä¸ªä¸œè¥¿ï¼š å±€éƒ¨çš„å‡½æ•°å˜é‡ funcï¼šdecorator.&lt;locals&gt;.funcï¼Œå®ƒæŒ‡å‘äº†ç›®æ ‡å‡½æ•° å†…åµŒçš„å‡½æ•° wrapperï¼šdecorator.&lt;locals&gt;.wrapperï¼Œç›®æ ‡å‡½æ•°çš„å‡½æ•°å˜é‡å°†æŒ‡å‘å®ƒ æ‰§è¡Œ decorator å‡½æ•°è¿”å›žäº†å¦å¤–ä¸€ä¸ªå‡½æ•° wrapper çš„å¼•ç”¨ï¼Œæ˜¾ç„¶è¿™ä¸ªå‡½æ•°çš„ __name__ å±žæ€§æ˜¯ wrapperã€‚ ä¸‹é¢æ˜¯ç”¨è£…é¥°å™¨ä¿®é¥°ç›®æ ‡å‡½æ•°çš„ä¸€ä¸ªä¾‹å­ï¼š 123@decoratordef exp(x, y): return x ** y è¿è¡Œè¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ï¼š 12run decorator ...&lt;function decorator.&lt;locals&gt;.wrapper at 0x0000023AEDADC488&gt; å¯ä»¥çœ‹åˆ°ï¼Œ@ ç¡®å®žæ‰§è¡Œäº†è£…é¥°å™¨å‡½æ•° decoratorï¼ŒåŒæ—¶ å®šä¹‰ äº†ä¸€ä¸ªå‡½æ•° wrapperã€‚ ä½†æ˜¯ wrapper å‡½æ•°å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œæˆ‘ä»¬å†æ¬¡ 1234print(exp(2,3))#&gt; run wrapper ...#&gt; wrapper end!#&gt; 8 å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶æ‰§è¡Œäº† wrapper å‡½æ•°ï¼ŒåŒæ—¶è¿”å›žäº†è®¡ç®—ç»“æžœï¼Œæœ€ç»ˆä½¿ç”¨ print å‡½æ•°æ‰“å°äº†è¿”å›žç»“æžœã€‚ æ£€æŸ¥å‡½æ•°å˜é‡ exp çš„ __name__ å±žæ€§ï¼Œå‘çŽ°ä¸å†æ˜¯ â€œexpâ€ï¼Œè€Œæ˜¯ â€œwrapperâ€ï¼š 12exp.__name__#&gt; 'wrapper' å¸¦å‚æ•°çš„è£…é¥°å™¨æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§å¸¦å‚æ•°çš„è£…é¥°å™¨ï¼Œä¾‹å¦‚ï¼š 12345@auth('barwe')def access_database(*args, **kwargs): print("è®¿é—®æŸä¸ªæ•°æ®åº“...") access_database() å‡å®šçš„æ‰§è¡Œç»“æžœæ˜¯ 123å‡½æ•°ï¼ˆaccess_databaseï¼‰å‡†å¤‡æŽˆæƒç»™ç”¨æˆ·ï¼ˆbarweï¼‰...è®¿é—®æŸä¸ªæ•°æ®åº“...æŽˆæƒå®Œæˆ! æˆ‘ä»¬å›žå¿†ä¸€ä¸‹ä¸Šé¢æåˆ°çš„è§„åˆ™ï¼š@ åŽé¢åº”ç´§è·Ÿ è£…é¥°å™¨å‡½æ•° çš„å¼•ç”¨ã€‚è¿™é‡Œå¾ˆæ˜Žæ˜¾ auth(&#39;barwe&#39;) æ˜¯è°ƒç”¨äº† auth å‡½æ•°ï¼Œè€Œä¸”å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚é‚£ä¹ˆå¯ä»¥é¢„è§çš„æ˜¯ï¼Œauth(&#39;barwe&#39;) åº”è¯¥è¿”å›žä¸€ä¸ªçœŸæ­£çš„è£…é¥°å™¨å‡½æ•°çš„å¼•ç”¨ï¼Œç„¶åŽå†è§£é‡Š @ ç¬¦å·ï¼Œå†è°ƒç”¨ä¸€æ¬¡è£…é¥°å™¨å‡½æ•°ã€‚å¦å¤–ï¼Œä»Žæ‰“å°ç»“æžœæˆ‘ä»¬çŸ¥é“ï¼Œè£…é¥°å™¨å‡½æ•°è¿˜å¯ä»¥è®¿é—® auth å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å€¼ â€œbarweâ€ã€‚ä¸éš¾å®šä¹‰ï¼š 12345678910111213141516171819def auth(name): #print('start auth ...') def _auth(func): #print('start _auth ...') def wrapper(*args, **kwargs): #print('start wrapper ...') print(f'å‡½æ•°ï¼ˆ&#123;func.__name__&#125;ï¼‰å‡†å¤‡æŽˆæƒç»™ç”¨æˆ·ï¼ˆ&#123;name&#125;ï¼‰...') result = func(*args, **kwargs) print('æŽˆæƒå®Œæˆ!') #print('wrapper end!') return result #print('_auth end!') return wrapper #print('auth end!') return _auth@auth('barwe')def access_database(*args, **kwargs): print("è®¿é—®æŸä¸ªæ•°æ®åº“...") å¦‚æžœåŽ»æŽ‰ä¸Šé¢ print å‡½æ•°çš„æ³¨é‡Šå†æ¬¡æ‰§è¡Œï¼Œå°±èƒ½å¾—åˆ° 1234start auth ...auth end!start _auth ..._auth end! è¿™è¡¨ç¤ºå…ˆè°ƒç”¨äº† auth(&#39;barwe&#39;) ï¼Œå†è§£é‡Š @ æ—¶åˆè°ƒç”¨äº† auth.&lt;locals&gt;._auth(access_database)ã€‚ ä½†æ˜¯ access_database &lt;- auth.&lt;locals&gt;._auth.&lt;locals&gt;.wrapper å¹¶æ²¡æœ‰æ‰§è¡Œï¼ æˆ‘ä»¬æ­£å¼æ‰§è¡Œä¿®é¥°åŽçš„ç›®æ ‡å‡½æ•°ï¼š 1access_database() è¾“å‡ºç»“æžœæ˜¯ 12345start wrapper ...å‡½æ•°ï¼ˆaccess_databaseï¼‰å‡†å¤‡æŽˆæƒç»™ç”¨æˆ·ï¼ˆbarweï¼‰...è®¿é—®æŸä¸ªæ•°æ®åº“...æŽˆæƒå®Œæˆ!wrapper end! æ€»ç»“ä¸€ä¸‹ï¼Œ@ ç¬¦å·ä¼šè°ƒç”¨ä¸€æ¬¡è£…é¥°å™¨å‡½æ•°ã€‚å¦‚æžœæ˜¯å¸¦å‚çš„è£…é¥°å™¨ï¼Œå…ˆæ‰§è¡ŒåŽé¢çš„å‡½æ•°ï¼Œç„¶åŽå†è§£é‡Š @ï¼Œè¿™å°±è¦æ±‚åŽé¢é‚£ä¸ªå‡½æ•°åº”è¯¥è¿”å›žä¸€ä¸ªæ ‡å‡†çš„è£…é¥°å™¨å‡½æ•°ï¼ˆå³ä»¥ç›®æ ‡å‡½æ•°ä¸ºå‚æ•°ï¼Œè¿”å›žå¯¹ç›®æ ‡å‡½æ•°è¿›è¡Œä¿®é¥°åŽçš„æ–°å‡½æ•°ï¼‰ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åœ¨çº¿èŽ·å–UserAgent]]></title>
    <url>%2Fspider%2F20200927-204d.html</url>
    <content type="text"><![CDATA[UserAgent è®©ä½ çš„çˆ¬è™«ä»¥ï¼ˆå†’å……ï¼‰æµè§ˆå™¨çš„èº«ä»½å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚æ›´æ¢ UserAgent å¯ä»¥é¿å…è§¦å‘æŸäº›åçˆ¬æœºåˆ¶ã€‚fake-useragent æ˜¯ç”¨æ¥ä¸ºçˆ¬è™«æä¾› UserAgent çš„ç¬¬ä¸‰æ–¹åŒ…ã€‚ åŸºæœ¬ç”¨æ³•ä½¿ç”¨ pip install fake-useragent å®‰è£… fake-useragent è¿™ä¸ªåŒ…ï¼Œå¦‚æžœç½‘ç»œé”™è¯¯ï¼Œå°±å¤šè¯•å‡ æ¬¡ã€‚ ä½¿ç”¨ import fake_useragent å¯¼å…¥ã€‚ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬åªéœ€è¦ from fake_useragent import UserAgent å³å¯ã€‚ fake-useragent çš„API ååˆ†ç®€å•ï¼š UserAgent().random å³å¯èŽ·å–ä¸€ä¸ªéšæœºçš„ UserAgentï¼ˆä¸€èˆ¬ç”¨è¿™ä¸ªå°±è¡Œäº†ï¼‰ èŽ·å–å­é¡¹çš„å€¼ï¼š.ie, .msie, [&#39;Internet Explore&#39;], opera, chrome, google, [&#39;google chrome&#39;], firefox, ff, safari ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸åž‹çš„ UserAgentï¼š 1Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36 å…¶æ¯ä¸ªå­—æ®µçš„å«ä¹‰æ˜¯ï¼š è¿™äº›ä¿¡æ¯å¯ä»¥é€šè¿‡åœ¨çº¿ç½‘ç«™ http://useragentstring.com/ è¿›è¡ŒæŸ¥è¯¢ã€‚ å…¶å®ƒä¿¡æ¯fake-useragent ä¼šå°†æ•°æ®ç¼“å­˜åœ¨ç³»ç»Ÿçš„ä¸´æ—¶ç›®ä¸‹ï¼Œä¾‹å¦‚ Linux çš„ /tmpã€‚ å¯åœ¨ python è„šæœ¬ä¸­éšæ—¶æ›´æ–°æœ¬åœ°ç¼“å­˜çš„æ•°æ®åº“ï¼š 123from fake_useragent import UserAgentua = UserAgent()ua.update() å¦‚æžœä¸æƒ³å°†æ•°æ®ç¼“å­˜åˆ°æœ¬åœ°ï¼Œå¯è®¾ç½®ï¼š 1ua = UserAgent(cache = False) å¦‚æžœ useragentstring.com æˆ–è€… w3schools.com æ”¹å˜æˆ–è€…å…³é—­äº†å®ƒä»¬çš„èµ„æºï¼Œfake-useragent ä¼šä½¿ç”¨å¤‡ç”¨çš„ herokuã€‚ å¦‚æžœä½ ä¸æƒ³ä½¿ç”¨æ‰˜ç®¡çš„ç¼“å­˜æœåŠ¡å™¨ï¼ˆæ­¤è®¾ç½®åœ¨0.1.5ç‰ˆæœ¬æ·»åŠ ï¼‰ï¼Œå¯è®¾ç½®ï¼š 1ua = UserAgent(use_cache_server = False) åœ¨æžå°‘æ•°æƒ…å†µä¸‹ï¼Œå¦‚æžœæ‰˜ç®¡çš„ç¼“å­˜æœåŠ¡å™¨å’Œæ•°æ®æºéƒ½ä¸å¯ç”¨ï¼Œfake-useragent å°†ä¸ä¼šä¸‹è½½ä»»ä½•æ•°æ®ï¼ˆç‰ˆæœ¬0.1.3æ·»åŠ ï¼‰ã€‚æ­¤æ—¶è°ƒç”¨ UserAgent() ä¼šæŠ›å‡º fake_useragent.errors.FakeUserAgentError é”™è¯¯ï¼Œå¯å†æ¬¡å°è¯•ã€‚ ä½ å¯ä»¥è‡ªå®šä¹‰æ•°æ®ç¼“å­˜çš„è·¯å¾„ï¼š 12#version = fake_useragent.VERSIONua = UserAgent(path = "/path/to/xxx.json") å¦‚é‡æŠ¥é”™å¯å°è¯•æ›´æ–° fake-useragentï¼š 1pip install -U fake-useragent å‚è€ƒèµ„æ–™é¡¹ç›®åœ°å€ï¼šhttps://github.com/hellysmile/fake-useragent]]></content>
      <categories>
        <category>spider</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2Gç”¨æˆ·æ€Žä¹ˆè£…SnapATAC]]></title>
    <url>%2FR%2F20200903-2dec.html</url>
    <content type="text"><![CDATA[æœ€è¿‘å‡çº§Råˆ°4.0ç‰ˆæœ¬ï¼Œé‚é‡æ–°å®‰è£…åˆ†æžéœ€è¦çš„åŒ…ã€‚å¤§éƒ¨åˆ†åŒ…éƒ½å¾ˆé¡ºåˆ©ï¼Œå”¯ç‹¬è¿™ä¸ªSnapATACï¼Œä»ŽRstudioä¸­ä¸ç®¡æ˜¯ç”¨devtools::install_githubè¿˜æ˜¯ç”¨biocManager::installéƒ½ä¸å“åº”ï¼Œç­‰ä¸€æ®µæ—¶é—´å°±timeoutäº†ã€‚ç»è¿‡æŒ å¤´çš®æ€è€ƒä¹‹åŽï¼Œæ‰¾åˆ°äº†ä¸€ç§å®‰è£…æ–¹æ³•ã€‚é€‚åˆè®¿é—®githubé€Ÿåº¦æ…¢æˆ–è€…ä»Žgithubä¸‹è½½æºç é€Ÿåº¦æ…¢çš„å°å¯çˆ±ã€‚æƒ³æƒ³è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œé‚è®°ä¸‹æ¥ä»¥ä¾›å‚è€ƒ~ é¦–å…ˆSnapATACä¸ºä»€ä¹ˆä¸‹è½½è¿™ä¹ˆæ…¢ï¼Ÿ çœ‹githubä¸Šçš„æºç ç»“æž„æˆ‘ä»¬å¯ä»¥å‘çŽ°ä½œè€…å…¶å®žæ˜¯æŠŠä»£ç å’Œæ•°æ®æ··åœ¨ä¸€èµ·ï¼Œä¸‹è½½æ•°æ®æ—¶ç»å¸¸å¡æ­»ã€‚ æ‰€ä»¥è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªä¸‹æºç ï¼Œä¸ä¸‹demoæ•°æ®ã€‚æ•…è€Œï¼Œè¿™é‡Œæˆ‘ä»¬æŽ’é™¤ä¸‹è½½ data, examples, images å’Œ inst/extdata è¿™å››ä¸ªç›®å½•ã€‚æ€Žä¹ˆåšå‘¢ï¼Ÿ å®‰è£…ä¸€ä¸ªå«åš GitZip çš„chromeæ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶å®žçŽ°äº†ä»Žgithubé¡¹ç›®ä¸­ä¸‹è½½éƒ¨åˆ†æ–‡ä»¶æˆ–è€…ç›®å½•çš„åŠŸèƒ½ã€‚ æ‰©å±•è¿· ä¸Šå¯ä¸‹è½½æ’ä»¶ï¼šhttps://www.extfans.com/ å®‰è£…å®Œæˆä¹‹åŽåŒå‡»æƒ³è¦ä¸‹è½½çš„ç›®å½•æˆ–è€…æ–‡ä»¶åç§°åŽçš„ç©ºç™½éƒ¨åˆ†æ ‡è®°æƒ³è¦ä¸‹è½½çš„ç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œç‚¹å‡»å³ä¸‹è§’çš„ä¸‹è½½æŒ‰é’®å³å¯ã€‚ ç‚¹å‡»ä¸‹è½½åŽä¼šä¿å­˜åˆ°æœ¬åœ°ï¼ŒåŽ‹ç¼©åŒ…åä¸º SnapATAC-.zipï¼Œè§£åŽ‹å¹¶é‡å‘½åç›®å½•ä¸º SnapATACã€‚ å·²ç»æ•´ç†å¥½çš„æºç ï¼šhttps://barwe.lanzous.com/insiGgbf7ba æ‰“å¼€cmdå¹¶è¿›å…¥åˆ°è§£åŽ‹ç›®å½•æ‰€åœ¨çš„ç›®å½•ï¼Œæ‰§è¡Œ 1R CMD build SnapATAC è¿™ä¸€æ­¥ç¼–è¯‘SnapATACå¹¶ç”Ÿæˆä¸€ä¸ªåŽ‹ç¼©åŒ… SnapATAC_x.x.x.tar.gzï¼Œå…¶ä¸­ x.x.x æ˜¯ç‰ˆæœ¬å·ã€‚ ç„¶åŽç»§ç»­æ‰§è¡Œ 1R CMD INSTALL SnapATAC_x.x.x.tar.gz å¦‚æžœæç¤ºç¼ºå°‘ä¾èµ–å°±å…ˆè£…å¥½ä¾èµ–~ å¤§åŠŸå‘Šæˆ~]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å®žç”¨çš„condaæ¢æºæ•™ç¨‹]]></title>
    <url>%2Fpython%2F20200827-862f.html</url>
    <content type="text"><![CDATA[å®˜æ–¹çš„é»˜è®¤æºåœ¨ä¸‹è½½æŸäº›åŒ…ï¼ˆä¾‹å¦‚pytorchï¼‰æ—¶å®žåœ¨æ˜¯å¤ªæ…¢äº†ï¼Œå»ºè®®åœ¨æ–°å»ºä¸€ä¸ªè™šæ‹ŸçŽ¯å¢ƒå‰å°±æ¢æºã€‚ å› ä¸ºä¸åŒæºçš„åŒ…çš„é»˜è®¤ç‰ˆæœ¬å¯èƒ½ä¸ä¸€è‡´ï¼Œå¦‚æžœä¸­é€”æ¢æºå¯èƒ½ä¼šå¯¼è‡´è®¸å¤šä¸å¿…è¦çš„éº»çƒ¦ã€‚ è¿™é‡ŒæŽ¨èä½¿ç”¨æ¸…åŽå¤§å­¦æä¾›çš„condaæºï¼Œäº²æµ‹å¥½ä½¿ã€‚ åœ¨ç”¨æˆ·ç›®å½•ï¼ˆlinuxä¸º/home/USER/ï¼Œwindowsä¸ºC:\Users\USER\ï¼‰ä¸‹æ–°å»º .condarc æ–‡ä»¶ï¼Œå¹¶æ”¹æˆä»¥ä¸‹å†…å®¹ï¼š 1234567891011show_channel_urls: truechannel_priority: disabledchannels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/ - https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/ - default windowsä¸‹ä¸å…è®¸æ–°å»ºæ²¡æœ‰æ–‡ä»¶åçš„æ–‡ä»¶ï¼ˆå³ä»¥ç‚¹å·å¼€å¤´çš„æ–‡ä»¶ï¼‰ï¼Œæœ‰ä»¥ä¸‹å‡ ç§è§£å†³åŠžæ³•ï¼š åœ¨cmdä¸­ä½¿ç”¨ conda config --set show_channel_urls yes ä¼šè‡ªåŠ¨ç”Ÿæˆ.condarcæ–‡ä»¶ ä½¿ç”¨æ¨¡æ‹ŸbashçŽ¯å¢ƒï¼ˆä¾‹å¦‚git-bashæˆ–è€…msys2ç­‰ï¼‰æ–°å»ºï¼štouch .condarc ä½¿ç”¨cmdä¸‹è½½ï¼šwget https://barwe.oss-cn-shenzhen.aliyuncs.com/config/.condarc æ¢æºåŽéœ€è¦é‡å¯cmdæˆ–è€…terminalæ‰èƒ½ä½¿ç”¨æ–°çš„æºã€‚ æ“ä½œæºçš„å…¶å®ƒå‘½ä»¤ æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æºï¼š 12conda config --show channelsconda config --show-sources é‡ç½®ä¸ºé»˜è®¤æºï¼š 1conda config --remove-key channels æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªæºï¼š 1conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ å¦å¤–ï¼Œä¸­ç§‘å¤§ä¹Ÿæä¾›äº†æºï¼Œä½†æ˜¯åœ¨æˆ‘ç”µè„‘ä¸Šä¸å’‹å¥½ä½¿ï¼Œç”¨æ¸…åŽæºè¶³çŸ£ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å°†SpaceSnifferæ·»åŠ åˆ°å³é”®èœå•]]></title>
    <url>%2Fos%2F20200818-7e4.html</url>
    <content type="text"><![CDATA[SpaceSniffer èƒ½å¤Ÿä»¥ç½‘æ ¼å½¢å¼å±•ç¤ºæŒ‡å®šç›®å½•çš„ç»“æž„å±‚æ¬¡ä»¥åŠå®ƒçš„å­ç›®å½•å’Œå­æ–‡ä»¶çš„å¤§å°ã€‚ è¿™é‡Œä»‹ç»æ€Žä¹ˆæŠŠåº”ç”¨æ·»åŠ åˆ°ç›®å½•çš„å³é”®èœå•ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸Šå³é”®åˆ†æžè¿™ä¸ªç›®å½•çš„ç£ç›˜ç©ºé—´ã€‚æ•ˆæžœå¦‚ä¸‹ï¼š ä¸‹è½½å’Œå®‰è£…è¿™æ˜¯ä¸€ä¸ªç»¿è‰²åŒ…ï¼Œæ‰€ä»¥ä¸éœ€è¦å®‰è£… ~ é“¾æŽ¥ï¼šhttps://pan.baidu.com/s/186OKHlF_2IJ0VsnwDhvJnQ æå–ç ï¼š83vc å¯åŠ¨ç¨‹åºç›´æŽ¥æ‰“å¼€ SpaceSniffer.exe å³å¯ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœå¾…åˆ†æžçš„ç›®å½•ä¸­åŒ…å«éœ€è¦ç®¡ç†å‘˜æƒé™æ“ä½œçš„å­ç›®å½•æˆ–è€…å­æ–‡ä»¶ï¼Œéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½å¯åŠ¨è½¯ä»¶æ‰èƒ½æ­£å¸¸åˆ†æžï¼Œå¦åˆ™ä¼šæŠ›å‡ºè­¦å‘Šã€‚ å¯åŠ¨åŽä¾æ¬¡ç‚¹å‡» Help &gt; command line help å¯ä»¥æŸ¥çœ‹å‘½ä»¤è¡Œå¸®åŠ©æ–‡æ¡£ï¼š æˆ‘ä»¬çš„ä»»æ„ç›®å½•å³é”®åˆ†æžæ´—ç›˜ç©ºé—´éœ€è¦ç”¨åˆ°è¿™ä¸ªã€‚ è§‚å¯Ÿä¸€ä¸‹ï¼Œscan å‚æ•°å¯ä»¥æŒ‡å®šæˆ‘ä»¬æƒ³è¦åˆ†æžçš„ç›®å½•ï¼Œå¦‚æžœæ˜¯åœ¨å³é”®ä¸Šï¼Œæˆ‘ä»¬åº”è¯¥é€šè¿‡å˜é‡å®žæ—¶èŽ·å–ç›®æ ‡ç›®å½•ã€‚ æ·»åŠ å³é”®å…¥å£ é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé»˜è®¤ä»¥ç®¡ç†å‘˜æƒé™å¯åŠ¨çš„ cmd.exeï¼Œcmd.exe ä¸€èˆ¬ä½äºŽ C:\WINDOWS\system32 ä¸‹ï¼Œæ‰¾åˆ°å®ƒç„¶åŽå¤åˆ¶ä¸€ä¸ªæ–°çš„ç¨‹åºå¹¶é‡å‘½åä¸º cmda.exe å³é”®è¿™ä¸ª cmda.exeï¼Œä¾æ¬¡ç‚¹å‡» å±žæ€§ &gt; å…¼å®¹æ€§ï¼Œå‹¾é€‰ ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œæ­¤ç¨‹åºï¼Œç„¶åŽ ç¡®å®šï¼Œè®°ä¸‹è¿™ä¸ª cmda.exe çš„è·¯å¾„ C:\WINDOWS\system32\cmda.exe æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼ˆwin + r ç„¶åŽè¾“å…¥ regedit ç¡®å®šï¼‰ï¼Œå®šä½åˆ° HKEY_CLASSES_ROOT\Directory\shellï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ä»£è¡¨äº† ä¸€èˆ¬ç›®å½•çš„å³é”®èœå•ï¼š å¯ä»¥çœ‹åˆ°æˆ‘è¿™é‡Œå·²ç»æ·»åŠ äº†å››ä¸ªå…¥å£ï¼Œåˆ†åˆ«æ˜¯ cmder, find, git bash å’Œå°†è¦æ·»åŠ çš„ SpaceSniffer å³é”® shellï¼Œæ–°å»º é¡¹ï¼Œå–åä¸º SpaceSniffer ä¿®æ”¹ SpaceSniffer é¡¹çš„ (é»˜è®¤) ä¸º ä½¿ç”¨ SpaceSniffer åˆ†æžè¿™ä¸ªç›®å½•çš„ç£ç›˜ç©ºé—´ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°†å‡ºçŽ°åœ¨ä½ çš„å³é”®èœå•ä¸­ï¼Œå¯ä¸ªæ€§åŒ–ä¿®æ”¹ï¼›åœ¨ (é»˜è®¤) å€¼çš„åŒçº§çŽ¯å¢ƒä¸­å³é”®ä¾æ¬¡ç‚¹å‡» æ–°å»ºå€¼ &gt; å­—ç¬¦ä¸²å€¼ï¼Œå–åä¸º Iconã€‚åŒå‡» Iconï¼Œä¿®æ”¹å…¶å€¼ä¸º SpaceSniffer.exe ç¨‹åºçš„è·¯å¾„ï¼›æœ€åŽå†æ–°å»ºä¸€ä¸ª é¡¹ï¼Œå–åä¸º commandã€‚æœ€ç»ˆæ•ˆæžœå¦‚ä¸‹ï¼š åŒå‡» command é¡¹ï¼Œä¿®æ”¹å…¶é»˜è®¤å€¼ä¸º â€œC:\WINDOWS\system32\cmda.exeâ€ â€œ/C start D:\Portable\spacesniffer\SpaceSniffer.exe scan %1â€ï¼š /C è¡¨ç¤ºæ‰§è¡Œå…¶å®ƒç¨‹åº start ä¸ä¼šæ˜¾ç¤ºcmdçš„é»‘é»¢é»¢çš„çª—å£ scan è·¯å¾„ ä½œä¸º SpaceSniffer.exe çš„å‚æ•° %1 å˜é‡åŠ¨æ€èŽ·å–å½“å‰ç›®å½•è·¯å¾„ çœŸé¦™ ~]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R-ä¸‹è½½githubæºç å¹¶ç¦»çº¿å®‰è£…]]></title>
    <url>%2FR%2F20200804-fcaf.html</url>
    <content type="text"><![CDATA[devtools::install_github è™½ç„¶å¥½ç”¨ï¼Œä½†æ˜¯æœ‰æ—¶å€™Rä¸èƒ½ä¸Žgithubé€šè®¯æ—¶å°±å¾ˆå°´å°¬ã€‚ åœ¨jupyterä¸­ä½¿ç”¨Ræ—¶éœ€è¦å®‰è£…IRkernelåŒ…ï¼š 1devtools::install_github('IRkernel/IRkernel') ä½†æ˜¯ç½‘ç»œä¼¼ä¹Žå‡ºçŽ°äº†é—®é¢˜ï¼Œbutæµè§ˆå™¨ä¸­è¿˜æ˜¯å¯ä»¥è®¿é—®è¿™ä¸ªrepoçš„ï¼š è¿™æ—¶å€™å¯ä»¥è€ƒè™‘æŠŠrepoå…‹éš†åˆ°æœ¬åœ°åŽå†ç¦»çº¿å®‰è£…ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š ä¸‹è½½æºç ï¼š 12345678$ git clone https://github.com/IRkernel/IRkernel.gitCloning into 'IRkernel'...remote: Enumerating objects: 12, done.remote: Counting objects: 100% (12/12), done.remote: Compressing objects: 100% (11/11), done.remote: Total 2359 (delta 3), reused 4 (delta 1), pack-reused 2347Receiving objects: 100% (2359/2359), 694.02 KiB | 30.00 KiB/s, done.Resolving deltas: 100% (1401/1401), done. ç¼–è¯‘ï¼šéœ€è¦ç”¨åˆ°å‘½ä»¤è¡Œç¼–è¯‘ï¼Œå¦‚æžœgit bashä¸­èƒ½å¤Ÿæ£€æµ‹åˆ°Rå¯ä»¥ç›´æŽ¥åœ¨git bashä¸­ç¼–è¯‘å’Œå®‰è£… 12$ which R/d/Program/R/R-4.0.2/bin/R 12345678910$ R CMD build IRkernel* checking for file 'IRkernel/DESCRIPTION' ... OK* preparing 'IRkernel':* checking DESCRIPTION meta-information ... OK* checking for LF line-endings in source and make files and shell scripts* checking for empty or unneeded directoriesRemoved empty directory 'IRkernel/example-notebooks'Removed empty directory 'IRkernel/tests/testthat/jkt'Removed empty directory 'IRkernel/tests/testthat/njr'* building 'IRkernel_1.1.1.9000.tar.gz' ç¼–è¯‘ä¼šç”Ÿæˆä¸€ä¸ªä»¥ .tar.gz ç»“å°¾çš„åŽ‹ç¼©åŒ…ï¼Œå®‰è£…å®ƒå³å¯ã€‚ å®‰è£…ï¼šéœ€è¦ç”¨åˆ°å‘½ä»¤è¡Œ 12345678910111213141516171819202122232425262728$ R CMD INSTALL IRkernel_1.1.1.9000.tar.gz* installing to library 'D:/Program/R/R-4.0.2/library'* installing *source* package 'IRkernel' ...** using staged installation** R** inst** byte-compile and prepare package for lazy loading** help*** installing help indices converting help for package 'IRkernel' finding HTML links ... â–’â–’â–’â–’ Comm-class html CommManager-class html IRkernel-package html comm_manager html installspec html log html main html** building package indices** testing if installed package can be loaded from temporary location*** arch - i386*** arch - x64** testing if installed package can be loaded from final location*** arch - i386*** arch - x64** testing if installed package keeps a record of temporary installation path* DONE (IRkernel)Making 'packages.html' ... â–’â–’â–’â–’]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[C++æ ‡å‡†åº“-fstreamæ–‡ä»¶æµ]]></title>
    <url>%2FCpp%2F20200710-111f.html</url>
    <content type="text"><![CDATA[C++æ ‡å‡†åº“ fstream ç”¨æ¥è¯»å†™æ–‡ä»¶ã€‚ æ–‡ä»¶æµC++æ ‡å‡†åº“å¤´æ–‡ä»¶ #include &lt;fstream&gt; ä¸­åŒ…å«äº†ä¸‰ä¸ªé‡è¦çš„æ–‡ä»¶æµç±»ï¼š fstreamï¼šæ—¢å¯ä»¥è¯»æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å†™æ–‡ä»¶ ifstreamï¼šåªèƒ½è¯»æ–‡ä»¶ ofstreamï¼šåªèƒ½å†™æ–‡ä»¶ æ–‡ä»¶è¯»å†™çš„åŸºæœ¬æ­¥éª¤æ˜¯ï¼š åˆå§‹åŒ–æ–‡ä»¶æµå¯¹è±¡ï¼šå£°æ˜Žï¼Œä¾‹å¦‚ fstream f å£°æ˜Žäº†è¯»å†™æ–‡ä»¶æµå¯¹è±¡f æ‰“å¼€æ–‡ä»¶ï¼šè°ƒç”¨ open æ–¹æ³•ï¼Œä¾‹å¦‚ f.open(&quot;xxx.txt&quot;, ios::in) è¯»/å†™æ–‡ä»¶ï¼šè¯»å–å†…å®¹æˆ–è€…å†™å…¥å†…å®¹ å…³é—­æ–‡ä»¶ï¼šè°ƒç”¨ close æ–¹æ³•ï¼Œf.close() å£°æ˜Žæ–‡ä»¶æµå¯¹è±¡å¦‚æžœåªæ˜¯å¯¹æ–‡ä»¶è¿›è¡Œ è¯» æ“ä½œï¼Œè¯·ä½¿ç”¨ ifstreamï¼›å¦‚æžœåªæ˜¯å¯¹æ–‡ä»¶è¿›è¡Œå†™æ“ä½œï¼Œè¯·ä½¿ç”¨ ofstreamã€‚è¯­æ³•å¦‚ä¸‹ï¼š 123std::ifstream in;std::ofstream out;std::fstream in_out; æ‰“å¼€æ–‡ä»¶open æ–¹æ³•æ‰“å¼€open æ˜¯ä¸‰ä¸ªæ–‡ä»¶æµç±»çš„æˆå‘˜æ–¹æ³•ï¼Œå¯è¢«æ–‡ä»¶æµå¯¹è±¡è°ƒç”¨ä»¥æ‰“å¼€æ–‡ä»¶ï¼Œå®žçŽ°æ–‡ä»¶æµå¯¹è±¡ä¸Žå…·ä½“æ–‡ä»¶çš„ç»‘å®šã€‚ open æ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šæ–‡ä»¶è·¯å¾„ï¼Œæ–‡ä»¶æ“çºµæ¨¡å¼ã€‚ 123in.open("xxx.txt", std::ios::in);out.open("yyy.txt", std::ios::app);in_out.open("zzz.txt", std::ios::in | std::ios::out) è¯»æ–‡ä»¶æµå¯¹è±¡çš„æ¨¡å¼é»˜è®¤ä¸º ios::inï¼Œå¯ä»¥ç¼ºçœã€‚ iosæ ‡å‡†åº“ å†…ç½®äº†æ—¥å¸¸æ‰€éœ€çš„æ–‡ä»¶æ“çºµæ¨¡å¼ï¼ŒåŒ…æ‹¬ï¼š ios::in æ‰“å¼€æ–‡ä»¶ç”¨äºŽè¯»å– ios::out æ‰“å¼€æ–‡ä»¶ç”¨äºŽå†™å…¥ ios::ate æ–‡ä»¶æ‰“å¼€åŽå®šä½åˆ°æœ«å°¾ ios::app è¿½åŠ æ¨¡å¼ï¼Œæ‰€æœ‰å†™å…¥æ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾ ios::binary äºŒè¿›åˆ¶æ–¹å¼ ios::trunc å¦‚æžœæ–‡ä»¶å·²å­˜åœ¨åˆ™å…ˆåˆ é™¤æ–‡ä»¶ å¸¸è§çš„æ–‡ä»¶æ“çºµæ¨¡å¼ç»„åˆï¼š è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼šios::in è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ï¼šios::in | ios::binary å†™å…¥ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨æ—¶è¦†ç›–å†™å…¥ï¼šios::out å†™å…¥ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨æ—¶è¿½åŠ å†™å…¥ï¼šios::out | ios::ate æˆ–è€… ios::app å†™å…¥ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨æ—¶å…ˆåˆ é™¤å†å†™å…¥ï¼šios::out | ios::trunc å†™å…¥ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨æ—¶è¦†ç›–å†™å…¥ï¼šios::out | ios::binary å…³äºŽå†™å…¥æ–‡ä»¶çš„ä¸‰ç§æƒ…å½¢ï¼Œå‡è®¾æˆ‘æœ‰ä¸€ä¸ªæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œæƒ³è¦å†™å…¥çš„å†…å®¹æ˜¯ Fuzhou å’Œ Guangzhouï¼š 123NanjingShanghaiShenzhen æ–‡ä»¶å†™å…¥æ–¹å¼ ç»“æžœ è¦†ç›–å¼ FuzhouGuangzhouShenzhen è¿½åŠ å¼ NanjingShanghaiShenzhenFuzhouGuangzhou åˆ é™¤å¼ FuzhouGuangzhou åœ¨å£°æ˜Žæ—¶æ‰“å¼€é™¤äº†ä½¿ç”¨ open æ–¹æ³•ï¼Œåœ¨å£°æ˜Žæ–‡ä»¶æµå¯¹è±¡æ—¶å¯ä»¥ç›´æŽ¥æ‰“å¼€æ–‡ä»¶ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š 12std::ifstream in("xxx.txt");std::ofstream out("yyy.txt", std::ios::out); æ£€æŸ¥æ–‡ä»¶æ‰“å¼€æ˜¯å¦æˆåŠŸé€šè¿‡ if(in_out) æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ‰“å¼€æˆåŠŸã€‚ è¯»å–æ–‡ä»¶åœ¨æŸäº›ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ–‡ä»¶æµå¯¹è±¡æ‰“å¼€æ–‡ä»¶åŽåˆå«åš æ–‡ä»¶å¥æŸ„ã€‚æ–‡ä»¶å¥æŸ„æœ¬èº«ä¸å­˜å‚¨æ–‡ä»¶çš„å†…å®¹ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä»Žæ–‡ä»¶å¥æŸ„è®¿é—®æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹æˆ–è€…å†™å…¥å†…å®¹åˆ°æ–‡ä»¶ã€‚æ–‡ä»¶å¥æŸ„ç›¸å½“äºŽç¨‹åºå’Œæ–‡ä»¶ä¹‹é—´çš„ä¸€ä¸ªé€šé“ã€‚ æ–‡ä»¶å¥æŸ„çš„è¯»å–æ–¹æ³•å¾ˆå¤šã€‚ é€ä¸ªå•è¯è¯»å–è‡³stringå˜é‡æµè¿ç®—ç¬¦çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ä»Žç©ºç™½ç¬¦åŽçš„ç¬¬ä¸€ä¸ªéžç©ºç™½å­—ç¬¦å¼€å§‹ï¼Œè¯»å–åˆ°ä¸‹ä¸€ä¸ªç©ºç™½ç¬¦ä¸ºæ­¢ã€‚æ‰€ä»¥åªèƒ½ä¸€ä¸ªå•è¯ä¸€ä¸ªå•è¯çš„æå–ã€‚ å¸¸è§çš„ç©ºç™½ç¬¦æœ‰ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ã€‚ 12345678910111213#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;vector&gt;using namespace std;int main()&#123; int x; vector&lt;int&gt; vec; ifstream in("data.txt"); if (in) while (in &gt;&gt; x) vec.push_back(x); for (int x : vec) cout&lt;&lt;x&lt;&lt;" "; return 0;&#125; é€è¡Œè¯»å–è‡³stringå˜é‡getline å‡½æ•°å¯ä»¥æŒ‰è¡Œï¼ˆæ¢è¡Œç¬¦åˆ†å‰²ï¼‰è¯»å–æ–‡ä»¶ï¼Œå¹¶å°†æ¯è¡Œçš„å†…å®¹ä¿å­˜åœ¨å­—ç¬¦ä¸²ç±»åž‹çš„å˜é‡varé‡Œé¢ï¼š 1while (getline(æ–‡ä»¶å¥æŸ„fh, è¿­ä»£å˜é‡var)) &#123; ... &#125; ðŸ–ï¼švarä¸­çš„è¡Œå­—ç¬¦ä¸²ä¸åŒ…å«æœ«å°¾çš„æ¢è¡Œç¬¦ã€‚ è¿™ä¸ªgetlineå‡½æ•°ä»Žå“ªé‡Œæ¥çš„ï¼Ÿ getlineå‡½æ•°ç”¨äºŽä»Ž ifstream ä¸­æŒ‰è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œifstream æ´¾ç”Ÿè‡ª istreamï¼Œ&lt;istream&gt; å¤´æ–‡ä»¶ä¸­å°±å®šä¹‰äº†è¿™ä¸ª getline å‡½æ•°ã€‚ é€è¡Œè¯»å–è‡³charæ•°ç»„æ­¤å¤–ï¼Œæ–‡ä»¶è¾“å…¥æµæœ¬èº«ä¹Ÿæä¾›äº†ä¸€ä¸ª getline æ–¹æ³•ï¼š 123const int LINE_LENGTH = 100;char var[100];while (in.getline(var, LINE_LENGTH)) &#123; ... &#125; è¿™ä¸ª getline æ–¹æ³•å°±æ˜¾å¾—ç¬¨é‡äº†è®¸å¤šï¼Œæˆ‘ä»¬éœ€è¦å…ˆé¢„è®¾ä¸€ä¸ª LINE_LENGTHï¼Œè¿™ä¸ªå€¼è¦æ¯”æ–‡ä»¶æœ€é•¿çš„é‚£ä¸€è¡Œçš„é•¿åº¦è¿˜è¦é•¿ï¼ˆå‡è®¾æœ€é•¿è¡Œçš„é•¿åº¦ä¸º99ï¼Œåˆ™è¿™ä¸ªå€¼æœ€å°åº”è¯¥è®¾ç½®ä¸º100ï¼‰ã€‚ç„¶åŽæˆ‘ä»¬éœ€è¦å£°æ˜Žä¸€ä¸ªè¿­ä»£å˜é‡varï¼Œå®ƒæ˜¯ä¸€ä¸ªé•¿ä¸º LINE_LENGTH çš„ å­—ç¬¦æ•°ç»„ã€‚ getline æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿­ä»£å˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ LINE_LENGTHã€‚ æ‰€ä»¥è¿™ä¸ª getline æ–¹æ³•å®žé™…ä¸Šæ˜¯å°†æ–‡ä»¶çš„æ¯ä¸€è¡Œè¯»è¿›äº†ä¸€ä¸ªç­‰é•¿çš„å­—ç¬¦æ•°ç»„é‡Œé¢ã€‚ å†™å…¥æ–‡ä»¶æµè¿ç®—ç¬¦æµè¿ç®—ç¬¦å¯ä»¥ç”¨äºŽå†™å…¥æ–‡æœ¬æ–‡ä»¶ï¼Œç”¨äºŽäºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½ä¼šäº§ç”Ÿé”™è¯¯ã€‚ 12ofstream out("output.txt");out &lt;&lt; setw(20) &lt;&lt; setfill('#') &lt;&lt; setiosflags(ios::left) &lt;&lt; "name: " &lt;&lt; "barwe" &lt;&lt; endl; å…³é—­æ–‡ä»¶å°½ç®¡ç¨‹åºç»“æŸæ—¶ä¼šè‡ªåŠ¨å…³é—­æ‰“å¼€çš„æ–‡ä»¶ï¼Œä½†ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®æ‰‹åŠ¨å…³é—­ã€‚ 123in.close();out.close();in_out.close();]]></content>
      <categories>
        <category>Cpp</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[C++æ ‡å‡†åº“ç´¢å¼•]]></title>
    <url>%2FCpp%2F20200710-e3c6.html</url>
    <content type="text"><![CDATA[C++æ ‡å‡†åº“æ€»å…±51ä¸ªå¤´æ–‡ä»¶ï¼ŒæŒ‰ç…§å†…å®¹å¯åˆ†ä¸º10ä¸ªç±»ï¼ŒæŒ‰ç…§æ¥æºå¯åˆ†ä¸º3ä¸ªç±»ã€‚ 51 C++ ï¼ˆ20ï¼‰ C (18) STL (13) è¯­è¨€æ”¯æŒ (11) limitsï¼šC++æ•°å€¼ç±»åž‹ç‰¹æ€§newï¼šåŠ¨æ€å†…å­˜ç®¡ç†typeinfoï¼šè¿è¡Œæ—¶å†…å­˜ä¿¡æ¯exceptionï¼šå¼‚å¸¸å¤„ç† cstddefï¼šCæ ‡å‡†å®šä¹‰climitsï¼šæ•´åž‹å¤§å°cfloatï¼šæµ®ç‚¹åž‹ç‰¹æ€§cstdlibï¼šCæ ‡å‡†å®žç”¨å·¥å…·cstdargï¼šå¯å˜å‚æ•°csetjmpï¼šéžå±€éƒ¨è·³è½¬csignalï¼šCä¸­æ–­å¤„ç† - è¾“å…¥è¾“å‡º (10) iostreamï¼šæ ‡å‡†è¾“å…¥è¾“å‡ºæµistreamï¼šæ ‡å‡†è¾“å…¥æµostreamï¼šæ ‡å‡†è¾“å‡ºæµsstreamï¼šå­—ç¬¦ä¸²æµfstreamï¼šæ–‡ä»¶æµiomanipï¼šè¾“å…¥è¾“å‡ºæ“çºµå™¨iosï¼šiostreamçš„åŸºç±»iosfwdï¼šè¾“å…¥è¾“å‡ºå‰å‘å£°æ˜Žstreambufï¼šæµç¼“å­˜ cstdioï¼šCæ ‡å‡†è¾“å…¥è¾“å‡º - è¯Šæ–­åŠŸèƒ½ (3) stdexceptï¼šå¼‚å¸¸ç±» cassertï¼šCæ–­è¨€éªŒè¯cerrnoï¼šCå‡ºé”™ç  - é€šç”¨å·¥å…·(4) - ctimeï¼šCæ—¶é—´æ—¥æœŸ utilityï¼šå®žç”¨å…ƒä»¶functionalï¼šå‡½æ•°å¯¹è±¡memoryï¼šå†…å­˜ç®¡ç†å™¨ å­—ç¬¦ä¸² (6) stringï¼šå­—ç¬¦ä¸²ç±»strstreamï¼šCå­—ç¬¦ä¸²æµç±» cstringï¼šCå­—ç¬¦ä¸²cctypeï¼šå•å­—èŠ‚å­—ç¬¦ç±»åž‹cwctypeï¼šå¤šå­—èŠ‚å­—ç¬¦ç±»åž‹cwcharï¼šæ‰©å±•å¤šå­—èŠ‚å®½å­—ç¬¦ - å®¹å™¨ (8) bitsetï¼šä½é›† - vectorï¼šå‘é‡listï¼šåˆ—è¡¨queueï¼šé˜Ÿåˆ—dequeï¼šåŒé˜Ÿstackï¼šå †æ ˆmapï¼šæ˜ å°„setï¼šé›†åˆ è¿­ä»£å™¨ (1) - - iteratorï¼šè¿­ä»£å™¨ ç®—æ³• (2) - cios646ï¼šISO646å­—ç¬¦é›†æ›¿æ¢ algorithmï¼šç®—æ³• æ•°å€¼æ“ä½œ (4) complexï¼šå¤æ•°valarrayï¼šæ•°å€¼çŸ¢é‡ cmathï¼šCæ•°å­¦åº“ numericï¼šæ•°å­¦è¿ç®— æœ¬åœ°åŒ– (2) localeï¼šæœ¬åœ°åŒ– clocaleï¼šCæœ¬åœ°åŒ– -]]></content>
      <categories>
        <category>Cpp</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ODçš„åŸºæœ¬ä½¿ç”¨2 - demoä¿®æ”¹]]></title>
    <url>%2Fcracking%2F20191130-9c79.html</url>
    <content type="text"><![CDATA[ODBG110: https://pan.baidu.com/s/1VklVhE7wH7qrEW2OOLElqw æå–ç ï¼šuuhgODBG110BasicPlugins: https://pan.baidu.com/s/1QG0ealpvKTTtjd26U9himQ æå–ç ï¼š6fymODBG Very More Plugins: https://pan.baidu.com/s/1VQoodK3ArkiGYzJazUToiw æå–ç ï¼šdaoo[æ•™ç¨‹]ä½¿ç”¨OllyDbgä»Žé›¶å¼€å§‹Cracking: https://pan.baidu.com/s/1l094huv-bQvka-QOhgNhhg æå–ç ï¼š65jv äº†è§£è½¯ä»¶æˆ‘ä»¬ç›´æŽ¥è¿è¡Œæ‰“å¼€CRACKME.EXEæ–‡ä»¶è¿›è¡Œæ³¨å†Œï¼Œéšæœºè¾“å…¥ç”¨æˆ·åå’Œæ³¨å†Œç ï¼Œç‚¹å‡»æ³¨å†Œï¼Œè½¯ä»¶æŠ¥é”™ï¼Œåºåˆ—å·ä¸å¯¹ï¼Œå¥½å§ï¼Œè¿™æ‰æ˜¯æ­£å¸¸çš„é€»è¾‘ã€‚çŽ°åœ¨å°è¯•ç€ä¿®æ”¹è½¯ä»¶ï¼Œä½¿æˆ‘ä»¬è¾“å…¥ä»»æ„çš„ç”¨æˆ·åå’Œåºåˆ—å·ï¼Œå‡é€šè¿‡éªŒè¯ã€‚ ç¨‹åºå¼¹å‡ºéªŒè¯é”™è¯¯çš„æ¶ˆæ¯æ¡†ï¼Œè°ƒç”¨çš„æ˜¯ç³»ç»Ÿçš„ MessageBoxA æ–¹æ³•ï¼Œå…¶å®ƒè½¯ä»¶åº”è¯¥ä¹Ÿæ˜¯ç±»ä¼¼çš„å§ã€‚ æ¶ˆæ¯æ¡†çš„æ ‡é¢˜æ˜¯â€œNo luck!â€ï¼Œæ–‡æœ¬æ˜¯â€œNo luck there, mate!â€ã€‚ ä»¥ä¸Šè¿™æ˜¯æˆ‘ä»¬å·²çŸ¥çš„é‡è¦ä¿¡æ¯ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ç ´è§£çš„å…³é”®åœ°æ–¹ã€‚ å¼€å§‹ç ´è§£ä½¿ç”¨ODæ‰“å¼€CRACKME.EXEï¼Œç•Œé¢å¦‚ä¸‹ï¼š æˆ‘ä»¬é€šè¿‡æ’ä»¶Command Barï¼ˆä½äºŽODæœ€ä¸‹æ–¹ï¼‰å¯¹æ¶ˆæ¯å¼¹çª—å‡½æ•° MessageBoxA() åŠ æ–­ç‚¹ï¼Œæ–­ç‚¹çš„ä½ç½®ä½äºŽè¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤å¤„ï¼Œè¿™æ„å‘³ç€å¦‚æžœç¨‹åºé‡åˆ°è°ƒç”¨è¯¥å‡½æ•°çš„æŒ‡ä»¤ï¼Œä¼šåœ¨è·³è½¬åˆ°è¯¥å‡½æ•°æ‰€åœ¨çš„å†…å­˜åŒºåŸŸåŽåœç•™åœ¨ç¬¬ä¸€ä¸ªæŒ‡ä»¤å¤„ã€‚ åŠ æ–­ç‚¹çš„å‘½ä»¤ä¸ºï¼šbp MessageBoxA åŠ æ–­ç‚¹åŽç‚¹å‡»BæŒ‰é’®æŸ¥çœ‹æ–­ç‚¹æ ‡è®°æƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°èƒŒæ™¯è‡ªåŠ¨å˜ç°çš„å“ªä¸€è¡Œå°±æ˜¯æˆ‘ä»¬ä¸Šä¸€æ­¥åŠ æ–­ç‚¹çš„åœ°æ–¹ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒMessageBoxA() å‡½æ•°çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼š è¯¥å‡½æ•°å­˜å‚¨çš„ä½ç½®ä¸º 750F8700 åˆ°æŸä¸ªæœªçŸ¥ä½ç½® è¯¥å‡½æ•°çš„ä»£ç ä½äºŽ USER32 æ¨¡å—ä¸­ è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤æ˜¯ MOV EDI, EDI æˆ‘ä»¬åœ¨è¯¥æ¡ç›®ä¸Šå³é”®é€‰æ‹© Follw in Disassembler æˆ–è€…ç›´æŽ¥æŒ‰å›žè½¦é”®è¿›å…¥è¯¥å‡½æ•°å­˜å‚¨çš„æŒ‡ä»¤åŒºåŸŸã€‚ å¦‚ä¸‹å›¾ï¼ŒæŒ‡ä»¤åŒºåŸŸè·³è½¬è‡³ 750F8700 å¤„å¹¶è‡ªåŠ¨é«˜äº®æ˜¾ç¤ºã€‚ç¬¬ä¸€åˆ—åœ°å€å¤„çº¢è‰²é«˜äº®ï¼Œè¯´æ˜Žæ­¤å¤„æ·»åŠ äº†æ–­ç‚¹ã€‚ æˆ‘ä»¬å¾€ä¸‹æ•°ç›´åˆ°ç¬¬ä¸€ä¸ª RETN å‡ºçŽ°çš„åŒºåŸŸä¸º MessageBoxA() å‡½æ•°çš„å†…å­˜åŒºåŸŸã€‚ å¦‚æžœæˆ‘ä»¬æ­¤æ—¶æ‰§è¡Œç¨‹åºï¼Œç¨‹åºä¼šè¿è¡Œåˆ°ç«¯ç‚¹å¤„æš‚åœï¼Œå› ä¸ºæ²¡æœ‰å®žé™…æ‰§è¡Œ MessageBoxA() å‡½æ•°ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰æ³¨å†ŒæˆåŠŸæˆ–è€…æ³¨å†Œå¤±è´¥çš„æ¶ˆæ¯å¼¹å‡ºã€‚ ç¬¬ä¸€æ¬¡æŒ‰ä¸‹ F9 ä¼šè·³è½¬åˆ° 00401000ï¼Œè¿™ä¸ªä½ç½®æ˜¯ç¨‹åºæ‰§è¡Œçš„å…¥å£ã€‚ å†æ¬¡æŒ‰ä¸‹ F9 è¿è¡Œç¨‹åºã€‚ æ­¤æ—¶å¼¹å‡ºäº†ä¸€ä¸ªç¬‘è„¸çª—å£ï¼Œè¿™ä¸ªå°±æ˜¯æ¨¡æ‹Ÿè½¯ä»¶çš„ä¸»çª—å£ã€‚ åŒæ—¶æˆ‘ä»¬è§‚å¯Ÿ EIP = 777BA8FCï¼Œè¯´æ˜Žç¨‹åºå¹¶æœªæ‰§è¡Œåˆ°æˆ‘ä»¬è®¾ç½®çš„æ–­ç‚¹ï¼ˆ750F8700ï¼‰å¤„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæ‰§è¡Œ MessageBoxA() å‡½æ•°çš„å‰ææ˜¯è¿›è¡Œæ³¨å†Œï¼Œè€Œæ³¨å†Œæ˜¯ç”¨æˆ·æ‰‹åŠ¨å®Œæˆçš„ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æ¨¡æ‹Ÿè½¯ä»¶ä¸­æ‰‹åŠ¨æ³¨å†Œã€‚ ç‚¹å‡» Help æŒ‰é’®é€‰æ‹©æ³¨å†Œï¼Œè¿™é‡Œæˆ‘ä»¬ç‰¹å®šéšæœºè¾“å…¥ç”¨æˆ·åâ€œ123qweâ€ï¼Œå¯†ç ä¸ºâ€œasdzxcâ€ï¼Œç‚¹å‡» OKã€‚ æŽ¥ç€ODä¸­ç¨‹åºæš‚åœåœ¨æˆ‘ä»¬è®¾ç½®çš„æ–­ç‚¹ä¸Šï¼Œæ³¨æ„æ­¤æ—¶ EIP = 750F8700ã€‚ è§‚å¯Ÿå †æ ˆçš„ä¿¡æ¯ï¼š å½“å‰æ ˆé¡¶ä½ç½®ä¸º 0019FDB8ï¼Œå­˜å‚¨åœ¨å¯„å­˜å™¨ ESP ä¸­ å½“å‰å­ç¨‹åºæ‰§è¡Œå®Œä¹‹åŽä¼šè·³å›žåˆ° 004013C1 ç¨‹åºæ˜¯ä»Ž 004013BC è·³è½¬åˆ°å½“å‰æ–­ç‚¹ä½ç½®çš„ï¼Œ004013BC å¤„è¿›è¡Œäº† MessageBoxA() å‡½æ•°çš„è°ƒç”¨ï¼ˆCALLï¼‰ åœ¨è°ƒç”¨ 004013BC å¤„çš„ MessageBoxA() å‡½æ•°ä¹‹å‰ï¼Œè¯¥å‡½æ•°çš„å‚æ•°ä¹Ÿè¢«åŽ‹å…¥æ ˆä¸­ã€‚è°ƒç”¨è¯¥å‡½æ•°æä¾›äº†å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ Style, Title, Text, hOwnerã€‚è§‚å¯Ÿå®ƒä»¬çš„å€¼å¯ä»¥å‘çŽ°ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°å°†ä¼šå‘Šè¯‰ç”¨æˆ·æ³¨å†Œå¤±è´¥ã€‚ æˆ‘ä»¬åœ¨æ ˆé¡¶ä½ç½®å³é”®é€‰æ‹© Follw in Disassembler æˆ–è€…ç›´æŽ¥æŒ‰å›žè½¦æ‰“å¼€ 004013BC å¤„è°ƒç”¨ MessageBoxA() å‡½æ•°çš„ä½ç½® æŒ‡ä»¤åŒºåŸŸæ˜¾ç¤ºçš„å¹¶ä¸æ˜¯ 004013BC å¤„è°ƒç”¨ MessageBoxA() å‡½æ•°çš„ä½ç½®ï¼Œè€Œæ˜¯è°ƒç”¨ç»“æŸåŽè·³è½¬ç»§ç»­æ‰§è¡Œçš„ä½ç½® 004013C1 æ»‘åŠ¨æ»šè½®æˆ–è€…æ‹‰åŠ¨æ»‘æ¡ï¼Œè§‚å¯Ÿ 004013C1 ä¸Šé¢çš„å‡ è¡Œå‘½ä»¤ 004013C1 å¤„è°ƒç”¨äº† MessageBoxA() å‡½æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦çš„å‚æ•°åœ¨ 004013AD ~ 004013B9ã€‚ å¯ä»¥é¢„è§çš„æ˜¯ï¼Œç¨‹åºä¼šåœ¨è¿™é‡Œè°ƒç”¨ MessageBoxA() å‡½æ•°ï¼Œå¯¹æˆ‘ä»¬è¾“å…¥çš„æ³¨å†Œç åšå‡ºå›žåº”ï¼Œå¹¶ä¸”å‘Šè¯‰æˆ‘ä»¬å¾ˆé—æ†¾ã€‚ é‚£ä¹ˆæ˜¯ä»€ä¹ˆå¯¼è‡´ç¨‹åºä¼šé€‰æ‹©åœ¨è¿™é‡Œè°ƒç”¨ MessageBoxA() å‡½æ•°å‘¢ï¼Ÿ å› ä¸ºæŒ‡ä»¤éƒ½æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œæˆ‘ä»¬åŽ» 004013C1 ä¸Šé¢æ‰¾å¯»ç­”æ¡ˆã€‚ å› ä¸º 004013AD ~ 004013BC æ˜¯åœ¨å®šä¹‰ MessageBoxA() å‡½æ•°çš„å‚æ•°å’Œè°ƒç”¨ï¼Œæˆ‘ä»¬ç‚¹å‡»å®ƒä»¬ä¸Šé¢çš„ POP ESIï¼Œå“Žï¼Œæˆ‘ä»¬åœ¨ä¸‹é¢çš„ä¿¡æ¯æ ä¸­å‘çŽ°äº†ä¸€æ¡é‡è¦ä¿¡æ¯ï¼šâ€œJump from 0040138Bâ€ï¼Œè¯´æ˜Ž POP ESI æŒ‡ä»¤ä»Ž 0040138B è·³è½¬è€Œæ¥ï¼Œå¹¶ä¸”ä¹‹åŽç»§ç»­æ‰§è¡Œäº† MessageBoxA() å‡½æ•°ã€‚ æˆ‘ä»¬è·³è½¬åˆ° 0040138B ä½ç½®ï¼ŒæŸ¥çœ‹é™„è¿‘çš„æŒ‡ä»¤ï¼š 0040138B æ˜¯ä¸€æ¡ JB è·³è½¬æŒ‡ä»¤ï¼Œè€Œä¸”åœ¨å®ƒçš„ä¸Šé¢æœ‰è¿™ä¹ˆä¸€æ¡ CMP AL, 41 æŒ‡ä»¤ã€‚è¿™è¡¨ç¤ºï¼šå½“å‰ä»…å½“å¯„å­˜å™¨ AL çš„å€¼ å°äºŽ 41 æ—¶æ‰ä¼šè·³è½¬åˆ° 004013AC å¤„æ‰§è¡Œ POP ESI å’Œè°ƒç”¨ MessageBoxA() å‡½æ•°ã€‚ é‚£å¦‚æžœä¸ç®¡ CMP AL, 41 çš„ç»“æžœå¦‚ä½•ï¼Œä¸‹é¢éƒ½ä¸è¿›è¡Œè·³è½¬æ˜¯ä¸æ˜¯å°±ä¸ä¼šå¼¹å‡ºè®©äººé—æ†¾çš„æ¶ˆæ¯æ¡†äº†ï¼Ÿ è¿™é‡Œæˆ‘ä»¬å°† CMP AL, 41 ç¯¡æ”¹æˆ CMP AL, AL ï¼Œè¿™ä½¿å¾— JB è·³è½¬æ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚ åŒå‡» CMP AL, 41 æŒ‡ä»¤å³å¯ä¿®æ”¹ã€‚ä¿®æ”¹åŽç»“æžœå¦‚ä¸‹ï¼š ç¬¬äºŒåˆ—å˜ä¸ºçº¢è‰²å­—ä½“ï¼Œè¡¨ç¤ºæ”¹è¡Œç»è¿‡ä¿®æ”¹ï¼›æŒ‡ä»¤ä¹Ÿå·²ç»å‘ç”Ÿå˜åŒ–ã€‚ æŒ‰ä¸‹ F9 æ‰§è¡Œç¨‹åºï¼Œå¼¹å‡ºæ¶ˆæ¯æ¡†ï¼š å‘€ï¼Œè¿˜æ˜¯æ³¨å†Œä¸é€šè¿‡~ æŒ‰ä¸‹â€œç¡®å®šâ€æŒ‰é’®ï¼ŒODä¸­ç¨‹åºä¸­åˆæš‚åœåœ¨äº† 750F8700 çš„ä½ç½®ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹çœ¼ç†Ÿè¿™ä¸ªä½ç½®ï¼Ÿ å”¯ä¸€ä¸åŒçš„åœ¨è¿™ä¸ªåœ°æ–¹ï¼š è¿™è¡¨ç¤ºæœ‰ä¸¤ä¸ªä¸åŒçš„åœ°æ–¹è°ƒç”¨äº† MessageBoxA() å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯ 004013BCï¼Œä¸€ä¸ªæ˜¯ 00401378ã€‚ å‰è€…æˆ‘ä»¬å·²ç»è§£å†³äº†ï¼ŒåŽè€…æ˜¯æ–°å‡ºçŽ°çš„ã€‚ è¿™è¡¨ç¤ºæœ‰ä¸¤ä¸ªç”šè‡³å¤šä¸ªéªŒè¯æ–¹æ³•æ£€æŸ¥æˆ‘ä»¬çš„æ³¨å†Œä¿¡æ¯ï¼Œè€Œä¸”æ˜Žæ˜¾ 004013BC å¤„çš„æ£€æŸ¥æŽ’åœ¨ 00401378 å‰é¢ã€‚ ä¸‹é¢è·³è½¬åˆ° 00401378 é™„è¿‘ï¼š æˆ‘ä»¬é€çº§å‘ä¸Šæ£€æŸ¥ï¼Œå‘çŽ°åœ¨ 00401362 çš„ PUSH 0 å¤„å‡ºçŽ°äº† â€œLocal call from 00401245â€ï¼ŒæŽ¥ç€è°ƒç”¨äº†å¦ä¸€ä¸ªUSER32åº“ä¸­çš„å‡½æ•° MessageBeepï¼Œç„¶åŽå°±è°ƒç”¨äº†å³å°†ç»™æˆ‘ä»¬æŠ›å‡ºé—æ†¾ä¿¡æ¯çš„ MessageBoxA å‡½æ•°ã€‚ æˆ‘ä»¬è·³è½¬åˆ° 00401245ï¼š è¿™é‡Œé¦–å…ˆæ¯”è¾ƒäº† EAX å’Œ EBX çš„å€¼ï¼Œç„¶åŽæ ¹æ®æ¯”è¾ƒç»“æžœè¿›è¡Œè·³è½¬ï¼š å¦‚æžœç›¸ç­‰ï¼ŒJE æŒ‡ä»¤è¢«æ‰§è¡Œï¼Œè·³è½¬åˆ° 0040124C æ‰§è¡Œ CALL ~.0040134D å¦‚æžœä¸ç­‰ï¼ŒJE æŒ‡ä»¤ä¸æ‰§è¡Œï¼Œç›´æŽ¥æ‰§è¡Œ CALL ~.00401362 ä¸ç®¡æ€Žæ ·ï¼Œæœ€ç»ˆéƒ½ä¼šè·³è½¬åˆ° 004011E6 æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æžœ EAX å’Œ EBX çš„å€¼å¦‚æžœä¸ç›¸ç­‰ï¼Œç¨‹åºå°±ä¼šè·³è½¬åˆ° 00401362 ç»§ç»­æ‰§è¡Œï¼Œä»Žè€Œè°ƒç”¨ MessageBoxA å‡½æ•°ä½¿ç”¨æˆ·æ„Ÿåˆ°é—æ†¾ã€‚é‚£ä¹ˆå¦‚æžœ EAX å’Œ EBX çš„å€¼å¦‚æžœç›¸ç­‰ä¼šæ€Žä¹ˆæ ·ï¼Ÿ0040134D åˆæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿæˆ‘ä»¬å®šä½åˆ° 0040134D çž…ä¸€ä¸‹ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ0040134D ~ 0040135C åŒºåŸŸä¾ç„¶åœ¨å•çº¯åœ°è°ƒç”¨ MessageBoxA å‡½æ•°ï¼Œåªæ˜¯å‡½æ•°å‚æ•°å˜å¾—å–„è‰¯äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™å—åŒºåŸŸåªæœ‰åœ¨æˆ‘ä»¬çš„æ³¨å†Œä¿¡æ¯æœ‰æ•ˆçš„å‰æä¸‹æ‰ä¼šè¢«è°ƒç”¨ã€‚è€Œä¸‹é¢çš„ 00401362 ~ 00401378 åŒºåŸŸæ°å¥½æ˜¯æˆ‘ä»¬æˆ‘ä»¬æ³¨å†Œä¿¡æ¯ä¸é€šè¿‡ä¼šè¢«æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ å›žåˆ° 00401245ï¼š å¦‚æžœæˆ‘ä»¬ä½¿ 00401241 å¤„çš„ CMP ç»“æžœæ’æˆç«‹ä¼šæ€Žä¹ˆæ ·ï¼Ÿä¾‹å¦‚ CMP EAX, EAXã€‚ é‚£ä¹ˆæ­¤æ—¶ï¼Œä¸ç®¡æˆ‘ä»¬æ€Žä¹ˆè¾“æ³¨å†Œä¿¡æ¯ï¼Œéƒ½åªä¼šè·³è½¬ 0040134D æ‰§è¡Œæ³¨å†ŒæˆåŠŸçš„ä¿¡æ¯ã€‚ ä¿®æ”¹åŽçš„ç»“æžœå¦‚ä¸‹ï¼š è¿™ä¸ªæ¨¡æ‹Ÿç¨‹åºå¯¹æ³¨å†Œä¿¡æ¯è¿›è¡Œäº†ä¸¤æ¬¡éªŒè¯ï¼Œæˆ‘ä»¬ä¹Ÿè¿›è¡Œäº†ä¸¤æ¬¡ä¿®æ”¹ï¼Œä»Žè€Œå±è”½æŽ‰äº†æœ‰æ•ˆæ€§æ£€æŸ¥ã€‚ ä¿å­˜æˆæžœä¿®æ”¹å®ŒæˆåŽåœ¨æŒ‡ä»¤çª—å£çš„ä»»æ„ä½ç½®å³é”®é€‰æ‹© Copy to executable ä¸­çš„ All modificationsï¼š é€‰æ‹© Copy all: å¼¹å‡ºäº†ä¸€ä¸ªæ–°çš„æŒ‡ä»¤é›†é¡µé¢ï¼š è¯¥é¡µé¢å†…ä»»æ„ä½ç½®å³é”®é€‰æ‹© Save fileï¼š é‡å‘½åä¾‹å¦‚ CRACKME2.EXEï¼Œä¿å­˜å³å¯ å…³é—­ODï¼ŒéªŒè¯ç ´è§£æˆæžœã€‚]]></content>
      <categories>
        <category>cracking</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ±‡ç¼– - æ ‡å¿—ä½å’Œè·³è½¬]]></title>
    <url>%2Fcracking%2F20191130-ddcd.html</url>
    <content type="text"><![CDATA[è·³è½¬æŒ‡ä»¤ å¤§éƒ¨åˆ†æ˜¯åŸºäºŽ æ ‡å¿—ä½ çš„å€¼è¿›è¡Œçš„ï¼Œä¹Ÿæœ‰åŸºäºŽä¸¤ä¸ªæ•°çš„æ¯”è¾ƒè¿›è¡Œçš„ã€‚ æ ‡å¿—ä½è¿›ä½æ ‡å¿—Cè¿›ä½/å€Ÿä½æ ‡å¿—CFï¼ˆCarry Flagï¼‰ï¼šå½“è¿ç®—ç»“æžœçš„æœ€é«˜æœ‰æ•ˆä½å‡ºçŽ°è¿›ä½æˆ–è€…å€Ÿä½çš„æ—¶å€™ï¼Œè¿›ä½/å€Ÿä½æ ‡å¿—è¢«è®¾ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ æˆ‘ä»¬è€ƒè™‘BB+6A=125ï¼Œæˆ‘ä»¬è¯´å®ƒå‡ºçŽ°äº†è¿›ä½ï¼Œæˆ‘ä»¬è¿™ä¹ˆè®¤ä¸ºæ˜¯å› ä¸ºæˆ‘ä»¬å‡è®¾äº†æ“ä½œæ•°çš„æœ‰æ•ˆä½ä¸º2ï¼Œè€Œè®¡ç®—ç»“æžœçš„æœ‰æ•ˆä½ä¸º3ï¼Œå³ä¸¤ä¸ªæœ€é«˜åªæœ‰åä½çš„æ•°ç›¸åŠ å¾—åˆ°äº†æœ€é«˜ä½æ•°ä¸ºç™¾ä½çš„ç»“æžœï¼ŒæŒ‰ç…§è¿™ç§ç†è§£49+6D=B6æ²¡æœ‰å‘ç”Ÿè¿›ä½ã€‚ç›¸åº”çš„ï¼Œ10-9=7å‘ç”Ÿäº†å€Ÿä½ï¼Œå› ä¸ºæ“ä½œæ•°æœ€é«˜ä½ä¸ºåä½ï¼Œè®¡ç®—ç»“æžœæœ€é«˜ä½ä½å„ä½ã€‚ä½†æ˜¯ï¼Œåœ¨ODä¸­ï¼Œæ¯ä¸ªæ•°ç”¨4ä¸ªå­—èŠ‚ï¼ˆ1å­—èŠ‚=8bitsï¼‰è¡¨ç¤ºï¼Œå–å€¼èŒƒå›´ä»Ž 00 00 00 00 ~ FF FF FF FFï¼Œæ“ä½œæ•°æœ€é«˜ä½ä¸ºç¬¬8ä½ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ‰€è°“çš„å‘ç”Ÿè¿›ä½çš„BB+6Aå®Œæ•´çš„å†™æ³•æ˜¯00 00 00 BB + 00 00 00 6A = 00 00 01 25ï¼Œæ­¤æ—¶æœ€é«˜ä½ï¼ˆç¬¬8ä½ï¼‰å¹¶æœªå‘ç”Ÿè¿›ä½ã€‚å¦ä¸€ä¸ªä¾‹å­,FF FF FF FF + 00 00 00 01å°±ä¼šåœ¨ç¬¬9ä½äº§ç”Ÿ1ï¼Œå³å‘ç”Ÿäº†è¿›ä½ï¼Œè¿™å·²ç»è¶…è¿‡äº†å¯„å­˜å™¨å…è®¸çš„æœ€å¤§å€¼ï¼ŒåŽ»é™¤æº¢å‡ºçš„éƒ¨åˆ†ï¼Œè®¡ç®—ç»“æžœä¸º00 00 00 00ã€‚å€Ÿä½ç±»ä¼¼ï¼Œä¾‹å¦‚00 00 00 02 - 00 00 00 03 = FF FF FF FFã€‚ å¥‡å¶æ ‡å¿—På¥‡å¶æ ‡å¿—ä½PFï¼ˆParity Flagï¼‰ï¼šå½“è¿ç®—ç»“æžœæœ€ä½Žå­—èŠ‚çš„äºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶PF=1ï¼Œä¸ºå¥‡æ•°æ—¶PF=0ã€‚ ä¸ºä»€ä¹ˆæ˜¯æœ€ä½Žå­—èŠ‚ï¼Ÿæ²¡å¤ªæžæ‡‚ï¼Œåœ¨ODä¸­ï¼š ADD 8930, 0çš„ç»“æžœæ˜¾ç¤ºP=1ã€‚8930Hçš„äºŒè¿›åˆ¶ä¸º1000 1001 0011 0000Bï¼Œè¿™ä¸ªæ•°ä¸­æœ€ä½Žå­—èŠ‚æœ‰ä¸¤ä¸ª1ï¼Œæ€»å…±äº”ä¸ª1 ADD 8931, 0çš„ç»“æžœæ˜¾ç¤ºP=0ã€‚å°½ç®¡æ€»å…±å…­ä¸ª1ï¼Œä½†æ˜¯æœ€ä½Žå­—èŠ‚æœ‰3ä¸ª1 é›¶æ ‡å¿—Zé›¶æ ‡å¿—ZFï¼ˆZero Flagï¼‰ï¼šå½“è®¡ç®—ç»“æžœä¸º0æ—¶Z=1ï¼Œå¦ä¸ºä¸º0ã€‚é›¶æ ‡å¿—å¸¸ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ã€‚ ç¬¦å·æ ‡å¿—Sç¬¦å·æ ‡å¿—SFï¼ˆSign Flagï¼‰ï¼šæˆ‘ä»¬é€šå¸¸è¯´çš„æœ‰ç¬¦å·æ•°æŒ‡çš„æ˜¯è´Ÿæ•°ã€‚å½“è®¡ç®—ç»“æžœä¸ºè´Ÿæ•°æ—¶S=1ï¼Œå¦åˆ™S=0ã€‚ å››å­—èŠ‚æ•°çš„å–å€¼èŒƒå›´æ˜¯ 00 00 00 00 ~ FF FF FF FFï¼Œä½†æ˜¯å®žé™…çš„å–å€¼èŒƒå›´è¿˜å–å†³äºŽè¯¥å››å­—èŠ‚æ•°è¡¨ç¤ºçš„æœ‰ç¬¦å·æ•°è¿˜æ˜¯æ— ç¬¦å·æ•°ï¼š å¦‚æžœæ˜¯æ— ç¬¦å·æ•°ï¼šå››å­—èŠ‚æ•°çš„è¡¨é¢å€¼å°±ç­‰äºŽå®žé™…å€¼ï¼› å¦‚æžœæ˜¯æœ‰ç¬¦å·æ•°ï¼šåœ¨æœ‰é™çš„å–å€¼èŒƒå›´ä¸‹ï¼Œä¸ºäº†ä¿è¯æ­£æ•°å’Œè´Ÿæ•°æ•°ç›®ç›¸åŒï¼Œè§„å®š 00 00 00 00 ~ 7F FF FF FF è¡¨ç¤ºç›¸å½“äºŽåè¿›åˆ¶çš„ 0 ~ 21,4748,3647ï¼Œè€Œ 80 00 00 00 ~ FF FF FF FF è¡¨ç¤ºç›¸å½“äºŽåè¿›åˆ¶ä¸­çš„ -21,4748,3648 ~ -1ã€‚ æº¢å‡ºæ ‡å¿—Oæº¢å‡ºæ ‡å¿—Oï¼ˆOverflow Flagï¼‰ï¼šåªå¯¹æœ‰ç¬¦å·æ•°çš„è¿ç®—ï¼Œåœ¨èŒƒå›´æ­£ä¸­é—´é™„è¿‘ï¼ˆå³7F FF FF FF ~ 80 00 00 00ï¼‰æ—¶ï¼Œè®¡ç®—ç»“æžœçš„ç¬¦å·å‘ç”Ÿæ”¹å˜ï¼Œåˆ™ç§°ä¹‹ä¸ºæº¢å‡ºï¼Œæ­¤æ—¶O=1ã€‚è®¡ç®—ç»“æžœçš„æœŸæœ›å€¼ä¸Žå®žé™…å€¼ä¸ç›¸ç­‰ï¼Œæ˜¯çš„è®¡ç®—ç»“æžœå‘ç”Ÿé”™è¯¯ã€‚ ä¾‹å¦‚ 7F FF FF FF + 1 = 80 00 00 00 ä¼šå½¢æˆæº¢å‡ºã€‚ æ¢å¥è¯è¯´ï¼Œåœ¨ODä¸­ï¼Œå¦‚æžœè®¡ç®—ç»“æžœçš„å€¼è¶…å‡ºäº†[-80000000H, 7FFFFFFFH]çš„èŒƒå›´å°±å±žäºŽæº¢å‡ºã€‚ å…¶å®ƒæ ‡å¿—ä½: A T Dè·³è½¬æŒ‡ä»¤æ´’å®¶æ€»ç»“äº†ä»¥ä¸‹å¸¸è§çš„è·³è½¬æŒ‡ä»¤ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸º4ç±»ï¼š æ£€æŸ¥æ ‡å¿—ä½è¿›è¡Œè·³è½¬ æ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œè·³è½¬ æ¯”è¾ƒä¸¤ä¸ªæ— ç¬¦å·æ•°è¿›è¡Œè·³è½¬ æ¯”è¾ƒä¸¤ä¸ªæœ‰ç¬¦å·æ•°è¿›è¡Œè·³è½¬ åŸºäºŽæ ‡å¿—ä½å¸¸è§çš„æ ‡å¿—ä¸º C(è¿›ä½/å€Ÿä½)ï¼ŒP(å¥‡å¶), Z(é›¶), S(ç¬¦å·), O(æº¢å‡º)ï¼Œæ ‡å¿—ä½çš„å–å€¼æœ‰0å’Œ1ä¸¤ç§ã€‚ æ ‡å¿—ä½å€¼ä¸º1æ—¶ä½¿ç”¨Jå‰ç¼€è¿›è¡Œè·³è½¬ï¼Œå€¼ä¸º0æ—¶ä½¿ç”¨JNå‰ç¼€è¿›è¡Œè·³è½¬ã€‚ Description Flag J- è·³è½¬1 JN- è·³è½¬0 ä½Žå­—èŠ‚ä¸­1çš„æ•°ç›®ä¸ºå¶æ•°ï¼ŸParityï¼Ÿ -P JP JNP è®¡ç®—ç»“æžœä¸º0ï¼ŸZeroï¼Ÿ -Z JZ JNZ æœ‰ç¬¦å·ï¼Ÿæ˜¯è´Ÿæ•°ï¼ŸZeroï¼Ÿ -S JS JNS æº¢å‡ºï¼ŸOverflowï¼Ÿ -O JO JNO è¿›ä½/å€Ÿä½ï¼ŸCarryï¼Ÿ -C JC JNC æ¯”è¾ƒä¸¤ä¸ªæ“ä½œæ•°æ¯”è¾ƒä¸¤ä¸ªæ™®é€šæ“ä½œæ•°æ¯”è¾ƒä¸¤ä¸ªæ“ä½œæ•°ä½¿ç”¨CMP leftOp, rightOpï¼Œæ¯”è¾ƒç»“æžœä¿å­˜è‡³æ ‡å¿—ä½ä¸­ï¼Œç„¶åŽä½¿ç”¨JEæˆ–è€…JNEè¿›è¡Œè·³è½¬ã€‚ JEå’ŒJNEæ ¹æ®æ ‡å¿—ä½Zçš„ç»“æžœåˆ¤å®šæ˜¯å¦éœ€è¦è·³è½¬ã€‚JEå’ŒJZã€JNEå’ŒJNEå®žé™…ä¸Šæ˜¯ç­‰æ•ˆçš„ï¼Œéƒ½æ˜¯ä»¥æ ‡å¿—ä½Zä¸ºä¾æ®è¿›è¡Œè·³è½¬ã€‚å®ƒä»¬çš„ä¸åŒåœ¨äºŽç›´è§‚ç†è§£ä¸Šï¼š åŽç¼€Eï¼ˆEqualï¼‰å€¾å‘äºŽåˆ¤æ–­ä¸¤ä¸ªæ“ä½œæ•°æ˜¯å¦ç›¸åŒ åŽç¼€Zï¼ˆZeroï¼‰å€¾å‘äºŽæ£€æŸ¥æ ‡å¿—ä½Zçš„å€¼ åœ¨ä¸åŒçš„åœºæ™¯ä¸­é€‰æ‹©ä¸åŒçš„è¯­æ³•æ˜¯ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ã€‚ æ£€æŸ¥å¯„å­˜å™¨å€¼æ˜¯å¦ä¸º0æ£€æŸ¥å¯„å­˜å™¨çš„å€¼æ˜¯å¦ä¸º0ï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨CMPï¼Œå¦‚CMP EAX, 0ï¼Œä½†æ˜¯æ›´ä¸€èˆ¬çš„ï¼Œæˆ‘ä»¬ä¸ºå¯„å­˜å™¨è®¾è®¡äº†ä¸“ç”¨çš„æŒ‡ä»¤ã€‚ æŒ‡ä»¤ç»“æž„ä¸ºï¼šJ + [å¯„å­˜å™¨åç§°] + Z (è¡¨ç¤ºZero)ï¼Œä¾‹å¦‚ï¼š JECXZ è¡¨ç¤ºå½“ECX=0æ—¶è·³è½¬ JCXZ è¡¨ç¤ºå½“CX=0æ—¶è·³è½¬ å…¶å®ƒçš„å¯„å­˜å™¨æ£€æŸ¥ç±»ä¼¼ã€‚ æ¯”è¾ƒä¸¤ä¸ªæ— ç¬¦å·æ•°è·³è½¬å‰ç¼€åªä½¿ç”¨ Jï¼Œè·³è½¬åŽç¼€ä½¿ç”¨ B/E/A ç³»ç»Ÿ ã€‚ å½“ç¬¬ä¸€ä¸ªæ“ä½œæ•° å°äºŽ ç¬¬äºŒä¸ªæ“ä½œæ•°æ—¶ï¼Œè®°ä¸º B=1ï¼Œæ„ä¸º Belowã€‚å½“ç¬¬ä¸€ä¸ªæ“ä½œæ•° ç­‰äºŽ ç¬¬äºŒä¸ªæ“ä½œæ•°æ—¶ï¼Œè®°ä¸º E=1ï¼Œæ„ä¸º Equalï¼›å½“ç¬¬ä¸€ä¸ªæ“ä½œæ•° å¤§äºŽ ç¬¬äºŒä¸ªæ“ä½œæ•°æ—¶ï¼Œè®°ä¸º A=1ï¼Œæ„ä¸º Aboveã€‚å½“ç„¶ä¸Šè¿°è®°æ³•å¹¶ä¸ä»£è¡¨å­˜åœ¨è¿™æ ·ä¸€ä¸ªæ ‡å¿—ä½Bï¼ŒEï¼ŒAã€‚ å‡è®¾ç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸ºleftï¼Œç¬¬äºŒä¸ªæ“ä½œæ•°ä¸ºrightï¼Œåˆ™ è·³è½¬æ¡ä»¶ æ­£é¢æè¿° æŒ‡ä»¤ ç­‰ä»·çš„åé¢æè¿° æŒ‡ä»¤ ï¼ˆå¯ä»¥ä½†æ²¡å¿…è¦ï¼‰ $\text{left} &lt; \text{right}$ å°äºŽ JB ä¸å¤§äºŽç­‰äºŽ JNAE $\text{left} \le \text{right}$ å°äºŽç­‰äºŽ JBE ä¸å¤§äºŽ JNA $\text{left} = \text{right}$ ç­‰äºŽ JE æ—¢ä¸å¤§äºŽä¹Ÿä¸å°äºŽ JNAB ï¼ˆè¿™ä¸ªæŒ‡ä»¤ä¸å­˜åœ¨ï¼‰ $\text{left} &gt; \text{right}$ å¤§äºŽ JA ä¸å°äºŽç­‰äºŽ JNBE $\text{left} \ge \text{right}$ å¤§äºŽç­‰äºŽ JAE ä¸å°äºŽ JNB æ¯”è¾ƒä¸¤ä¸ªæœ‰ç¬¦å·æ•°ä¸Žæ— ç¬¦å·æ•°æ¯”è¾ƒç±»ä¼¼ï¼Œåªæ˜¯åŽç¼€é‡‡ç”¨ L/E/G ç³»ç»Ÿï¼Œåˆ†åˆ«ä»£è¡¨ Less / Equal / Greaterã€‚ è·³è½¬æ¡ä»¶ æ­£é¢æè¿° æŒ‡ä»¤ ç­‰ä»·çš„åé¢æè¿° æŒ‡ä»¤ ï¼ˆå¯ä»¥ä½†æ²¡å¿…è¦ï¼‰ $\text{left} &lt; \text{right}$ å°äºŽ JL ä¸å¤§äºŽç­‰äºŽ JNGE $\text{left} \le \text{right}$ å°äºŽç­‰äºŽ JLE ä¸å¤§äºŽ JNG $\text{left} = \text{right}$ ç­‰äºŽ JE æ—¢ä¸å¤§äºŽä¹Ÿä¸å°äºŽ JNGL ï¼ˆè¿™ä¸ªæŒ‡ä»¤ä¸å­˜åœ¨ï¼‰ $\text{left} &gt; \text{right}$ å¤§äºŽ JG ä¸å°äºŽç­‰äºŽ JNLE $\text{left} \ge \text{right}$ å¤§äºŽç­‰äºŽ JGE ä¸å°äºŽ JNL]]></content>
      <categories>
        <category>cracking</category>
      </categories>
      <tags>
        <tag>æ±‡ç¼–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯·æ±‚åº“2 - requests]]></title>
    <url>%2Fspider%2F20191128-908f.html</url>
    <content type="text"><![CDATA[urllibæ˜¯åŸºæœ¬åº“ï¼ŒåŠŸèƒ½å®žçŽ°å°šä¸”æ¯”è¾ƒå¤æ‚ã€‚requestsåº“æ›´åŠ å‹å¥½ã€é«˜æ•ˆã€‚ requestsèƒ½æ›´åŠ ç®€å•çš„å®žçŽ°Cookiesã€ç™»å½•éªŒè¯å’Œä»£ç†è®¾ç½®ç­‰é¢å¤–æ“ä½œã€‚ åŸºæœ¬ç”¨æ³•åŸºæœ¬çš„GETè¯·æ±‚å®žä¾‹1ï¼šæŠ“å–çŸ¥ä¹Žä¸“é¢˜çš„æ ‡é¢˜ æ–‡æœ¬å†…å®¹é€šè¿‡response.textå±žæ€§æŸ¥è¯¢ã€‚ URLå‚æ•°å¦‚æžœgetè®¿é—®çš„æœåŠ¡å™¨éœ€è¦å‚æ•°éœ€è¦åœ¨URLä¸­åŠ å…¥å‚æ•°ï¼Œå¸¸è§çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š ç›´æŽ¥æž„å»ºå¸¦å‚æ•°çš„URLå­—ç¬¦ä¸²ï¼Œé€šè¿‡é—®å·åˆ†éš”ï¼Œä¾‹å¦‚ http://xxx.com/?key=value é€šè¿‡paramå‚æ•°ä¼ é€’URLå‚æ•°ï¼Œè¯¥å‚æ•°æŽ¥å—ä¸€ä¸ªå­—å…¸ï¼Œå¦‚ response = requests.get(..., param = {&#39;k&#39;: &#39;v&#39;}) å¯ä»¥æ˜¯ç®€å•çš„å­—å…¸ï¼Œå¦‚ {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}æž„é€ å‡ºçš„å‚æ•°å­—ç¬¦ä¸²ä¸º ?key1=value1&amp;key2=value2 å¯ä»¥æœ‰å¤šä¸ªå€¼ï¼Œå¦‚ {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: [&quot;key21&quot;, &quot;key22&quot;]}æž„é€ å‡ºçš„å‚æ•°å­—ç¬¦ä¸²ä¸º?key1=value1&amp;key2=value21&amp;key2=value22 å¯ä»¥æ˜¯ç©ºå€¼ï¼Œæ­¤æ—¶ä¼šå¿½ç•¥è¿™ä¸ªå‚æ•°ï¼Œå¦‚ {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: None}æž„é€ å‡ºçš„å‚æ•°å­—ç¬¦ä¸²ä¸º ?key1=value1 å®žä¾‹2ï¼šæŠ“å–jsonæ•°æ®jsonæ•°æ®æœ¬è´¨ä¸Šè¿˜æ˜¯æ–‡æœ¬æ•°æ®ï¼Œæˆ‘ä»¬æŠ“å–åŽéœ€è¦è½¬åŒ–ä¸ºå­—å…¸/jsonæ ¼å¼ï¼Œä¸ºé¿å…è¿™ä¸€è½¬åŒ–æ­¥éª¤ï¼Œå¯ç›´æŽ¥é€šè¿‡response.json()æ–¹æ³•èŽ·å–jsonå­—å…¸ å®žä¾‹3ï¼šæŠ“å–GitHubç«™ç‚¹å›¾æ ‡ äºŒè¿›åˆ¶å†…å®¹é€šè¿‡response.contentèŽ·å–ï¼Œç›´æŽ¥æ‰“å°bytesç±»åž‹çš„å­—ç¬¦ä¸²æ˜¯æ²¡æœ‰è§†è§‰æ„ä¹‰çš„ï¼Œå› æ­¤éœ€è¦ä¿å­˜åˆ°æœ¬åœ°ã€‚æ³¨æ„æ–‡ä»¶æ‰“å¼€æ ¼å¼ä¸ºwbã€‚ å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰äºŒè¿›åˆ¶å¤šåª’ä½“æ–‡ä»¶éƒ½ç”¨è¿™ç§æ–¹å¼èŽ·å–ã€‚ åŸºæœ¬çš„POSTè¯·æ±‚POSTè¯·æ±‚éœ€è¦æäº¤è¡¨å•ï¼ˆformï¼‰ï¼Œè¡¨å•æ•°æ®åœ¨pythonä¸­ä»¥å­—å…¸è¡¨ç¤ºï¼Œé€šè¿‡requests.post()å‡½æ•°çš„dataå‚æ•°ä¼ å…¥ã€‚ åœ¨å“åº”ç»“æžœä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯·æ±‚çš„æ•°æ®å­˜å‚¨åœ¨formå­—æ®µä¸­ã€‚ å“åº”ï¼ˆresponseï¼‰æˆ‘ä»¬é€šè¿‡requests.get()æˆ–è€…requests.post()å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ˆrequestï¼‰ï¼ŒæœåŠ¡å™¨ç»™æˆ‘ä»¬ä¸€ä¸ªè¿”å›žç»“æžœç§°ä¹‹ä¸ºå“åº”ï¼ˆresponseï¼‰ã€‚ å“åº”ç»“æžœä¸­åŒ…å«äº†è®¸å¤šçš„ä¿¡æ¯ï¼Œä¸»è¦å¦‚ä¸‹ï¼š textï¼šstrç±»åž‹çš„è¯·æ±‚å†…å®¹ json() ï¼šå¦‚æžœè¿”å›žå†…å®¹æœ¬è´¨ä¸Šæ˜¯jsonæ•°æ®ï¼Œç›´æŽ¥è°ƒç”¨è¿™ä¸ª contentï¼šbytesç±»åž‹çš„è¯·æ±‚å†…å®¹ cookiesï¼šç±»åž‹ä¸ºrequests.cookies.RequestsCookieJar headersï¼šå­—å…¸ï¼Œrequests.structures.CaseInsensitiveDictç±»åž‹ okï¼šboolç±»åž‹ï¼Œè¯·æ±‚æ˜¯å¦æ­£å¸¸è¿”å›žç»“æžœ status_codeï¼šintç±»åž‹ï¼ŒçŠ¶æ€ç ï¼Œæ­£å¸¸ä¸º200 encodingï¼šç¼–ç æ–¹å¼ï¼Œå¸¸è§çš„å¦‚utf-8, gbk urlï¼šè¯·æ±‚çš„url çŠ¶æ€ç requestså†…ç½®äº†ä¸€ä¸ªçŠ¶æ€ç æŸ¥è¯¢å¯¹è±¡requests.codes ä¾‹å¦‚æ­£å¸¸è¿”å›ž200å¯¹åº”çš„çŠ¶æ€ç å¯¹è±¡ä¸ºrequests.codes.ok ä¸‹é¢æ˜¯å¸¸è§çš„çŠ¶æ€ç å’Œå¯¹åº”çš„çŠ¶æ€ç å¯¹è±¡ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778# ä¿¡æ¯æ€§çŠ¶æ€ç 100: ('continue',),101: ('switching_protocols',),102: ('processing',),103: ('checkpoint',),122: ('uri_too_long', 'request_uri_too_long'),# æˆåŠŸçŠ¶æ€ç 200: ('ok', 'okay', 'all_ok', 'all_okay', 'all_good', '\\o/', 'âœ“'),201: ('created',),202: ('accepted',),203: ('non_authoritative_info', 'non_authoritative_information'),204: ('no_content',),205: ('reset_content', 'reset'),206: ('partial_content', 'partial'),207: ('multi_status', 'multiple_status', 'multi_stati', 'multiple_stati'),208: ('already_reported',),226: ('im_used',),# é‡å®šå‘çŠ¶æ€ç 300: ('multiple_choices',),301: ('moved_permanently', 'moved', '\\o-'),302: ('found',),303: ('see_other', 'other'),304: ('not_modified',),305: ('use_proxy',),306: ('switch_proxy',),307: ('temporary_redirect', 'temporary_moved', 'temporary'),308: ('permanent_redirect', 'resume_incomplete', 'resume',), # These 2 to be removed in 3.0# å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç 400: ('bad_request', 'bad'),401: ('unauthorized',),402: ('payment_required', 'payment'),403: ('forbidden',),404: ('not_found', '-o-'),405: ('method_not_allowed', 'not_allowed'),406: ('not_acceptable',),407: ('proxy_authentication_required', 'proxy_auth', 'proxy_authentication'),408: ('request_timeout', 'timeout'),409: ('conflict',),410: ('gone',),411: ('length_required',),412: ('precondition_failed', 'precondition'),413: ('request_entity_too_large',),414: ('request_uri_too_large',),415: ('unsupported_media_type', 'unsupported_media', 'media_type'),416: ('requested_range_not_satisfiable', 'requested_range', 'range_not_satisfiable'),417: ('expectation_failed',),418: ('im_a_teapot', 'teapot', 'i_am_a_teapot'),421: ('misdirected_request',),422: ('unprocessable_entity', 'unprocessable'),423: ('locked',),424: ('failed_dependency', 'dependency'),425: ('unordered_collection', 'unordered'),426: ('upgrade_required', 'upgrade'),428: ('precondition_required', 'precondition'),429: ('too_many_requests', 'too_many'),431: ('header_fields_too_large', 'fields_too_large'),444: ('no_response', 'none'),449: ('retry_with', 'retry'),450: ('blocked_by_windows_parental_controls', 'parental_controls'),451: ('unavailable_for_legal_reasons', 'legal_reasons'),499: ('client_closed_request',),# æœåŠ¡ç«¯é”™è¯¯çŠ¶æ€ç 500: ('internal_server_error', 'server_error', '/o\\', 'âœ—'),501: ('not_implemented',),502: ('bad_gateway',),503: ('service_unavailable', 'unavailable'),504: ('gateway_timeout',),505: ('http_version_not_supported', 'http_version'),506: ('variant_also_negotiates',),507: ('insufficient_storage',),509: ('bandwidth_limit_exceeded', 'bandwidth'),510: ('not_extended',),511: ('network_authentication_required', 'network_auth', 'network_authentication') é«˜çº§ç”¨æ³•ä¼šè¯ç»´æŒè¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ª Session çš„æ¦‚å¿µã€‚ä¸ç®¡æ˜¯è°ƒç”¨getè¿˜æ˜¯è°ƒç”¨postæˆ–è€…å…¶å®ƒè¯·æ±‚æ–¹æ³•ï¼Œrequestséƒ½ä¼šé»˜è®¤ç»™æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªSessionï¼Œå½“è¯·æ±‚å®Œæˆè‡ªåŠ¨Â·å…³é—­Sessionã€‚ä¸€ä¸ªSessionå°±ç›¸å½“äºŽæ‰“å¼€äº†ä¸€ä¸ªæµè§ˆå™¨ï¼Œæˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å‡»æŸä¸ªé¡µé¢ï¼Œçœ‹åˆ°äº†ä¿¡æ¯ï¼Œç„¶åŽå…³é—­æµè§ˆå™¨ã€‚ å¦‚æžœæˆ‘ä»¬è¿žç»­ä¸¤æ¬¡å‘å‡ºè¯·æ±‚ï¼Œå…¶å®žæ˜¯ç›¸å½“äºŽæ‰“å¼€äº†ä¸¤ä¸ªæµè§ˆå™¨çª—å£ã€‚ä¸¤ä¸ªçª—å£ä¹‹é—´çš„ä¿¡æ¯æ˜¯ä¸äº’é€šçš„ï¼Œä¾‹å¦‚æˆ‘åœ¨ä¸€ä¸ªæµè§ˆå™¨ä¸­ç™»å½•äº†ï¼Œæƒ³åœ¨ç¬¬äºŒä¸ªæµè§ˆå™¨ä¸­èŽ·å–ç™»é™†åŽçš„ä¸ªäººä¿¡æ¯æ˜¯åšä¸åˆ°çš„ï¼Œé™¤éžæˆ‘ä»¬æ‰‹åŠ¨åœ¨ç¬¬äºŒä¸ªæµè§ˆå™¨çš„è¯·æ±‚ä¸­æ·»åŠ ç¬¬ä¸€æ¬¡ç™»å½•çš„Cookieä¿¡æ¯ã€‚ å¦‚æžœæˆ‘ä»¬æ˜¯åœ¨åŒä¸€ä¸ªæµè§ˆå™¨ä¸­æ‰“å¼€äº†ä¸¤ä¸ªæ ‡ç­¾é¡µï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µä¸­ç™»å½•ï¼Œç¬¬äºŒä¸ªæ ‡ç­¾é¡µä¹Ÿå¤„äºŽç™»å½•çŠ¶æ€ã€‚ Sessionæ–¹å¼é€šè¿‡requests.Session()åˆå§‹åŒ–ï¼Œè¿”å›žä¸€ä¸ªrequests.session.Sessionå¯¹è±¡ã€‚ Sessioné€šå¸¸ç”¨æ¥æ‰“å¼€åŒä¸€ä¸ªç«™ç‚¹çš„ä¸åŒé¡µé¢ã€‚ POSTä¸Šä¼ æ–‡ä»¶ requests.post()çš„å‚æ•°filesæŽ¥å—ä¸€ä¸ªå­—å…¸ç±»åž‹çš„æ•°æ®ï¼Œå­—å…¸æ¯ä¸ªå…ƒç´ æ ‡è¯†äº†ç›¸åº”çš„æ–‡ä»¶ æ³¨æ„ä¼ å…¥çš„å­—å…¸åŒ…å«çš„æ˜¯ æ–‡ä»¶å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ–‡ä»¶åå­—ç¬¦ä¸²ã€‚ CookiesèŽ·å–Cookiesä¿¡æ¯å­˜å‚¨åœ¨response.cookiesä¸­ï¼Œæ•°æ®ç±»åž‹ä¸º requests.cookies.RequestsCookieJarã€‚ response.cookies.items()è¿”å›žä¸€ä¸ª å…ƒç»„åˆ—è¡¨ã€‚ Cookieså¯ä»¥ç”¨æ¥ç»´æŒ ç™»å½•çŠ¶æ€: 123456headers = &#123; 'Cookie': '...', 'User-Agent': 'Chrome/53.0.2785.116'&#125;url = 'https://www.zhihu.com'response = requests.get(url, headers=headers) SSLè¯ä¹¦éªŒè¯åŽŸæ–‡æ‰€ä¸¾çš„12306çš„ä¾‹å­å¥½åƒå·²ç»è¢«ä¿®å¤äº† 12response = requests.get('https://www.12306.cn', verify=True)response.status_code # 200 å¦‚æžœè®¾ç½®varify = True(é»˜è®¤å€¼)ï¼Œå½“æˆ‘ä»¬è¯·æ±‚ä¸€ä¸ªHTTPSçš„ç«™ç‚¹éœ€è¦éªŒè¯SSLè¯ä¹¦ï¼Œå¦‚æžœè¯ä¹¦æ— æ•ˆï¼ˆä¸å­˜åœ¨æˆ–è€…ä¸åˆæ³•ï¼‰ï¼Œç¨‹åºæŠ›å‡ºrequests.exceptions.SSLErrorã€‚ ä¸éªŒè¯SSLè¯ä¹¦éœ€è¦æ‰‹åŠ¨è®¾ç½®varify = Falseï¼Œå¯èƒ½ä¼šæŠ›å‡º è­¦å‘Šï¼šå»ºè®®è®¾ç½®è¯ä¹¦ã€‚ å¿½ç•¥è­¦å‘Šå¯ä»¥ä½¿ç”¨ï¼š requests.packages.urllib3.disable_warnings() import logging; logging.captureWarnings(True) è®¾ç½®ä»£ç† å¯¹äºŽæŸäº›ç½‘ç«™ï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™è¯·æ±‚å‡ æ¬¡ï¼Œèƒ½æ­£å¸¸èŽ·å–å†…å®¹ã€‚ä½†æ˜¯ä¸€æ—¦å¼€å§‹å¤§è§„æ¨¡çˆ¬å–ï¼Œå¯¹äºŽå¤§è§„æ¨¡ä¸”é¢‘ç¹çš„è¯·æ±‚ï¼Œç½‘ç«™å¯èƒ½ä¼šå¼¹å‡ºéªŒè¯ç ï¼Œæˆ–è€…è·³è½¬åˆ°ç™»å½•è®¤è¯é¡µé¢ï¼Œæ›´ç”šè€…å¯èƒ½ä¼šç›´æŽ¥å°ç¦å®¢æˆ·ç«¯çš„IPï¼Œå¯¼è‡´ä¸€å®šæ—¶é—´æ®µå†…æ— æ³•è®¿é—®ã€‚ é€šè¿‡è®¾ç½® ä»£ç† å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè®¾ç½®ä»£ç†é€šè¿‡å‚æ•°proxieså®žçŽ°ã€‚ HTTPä»£ç†ç®€å•çš„å‚æ•°ç”¨äºŽæŒ‡å®šHTTP/HTTPSä»£ç†ï¼Œä¾‹å¦‚ 12proxies = &#123;"proxy_name": "http://host:port"&#125; # æ¨¡æ¿åœ°å€response = requests.get(url, proxies = proxies) HTTPä»£ç†éœ€è¦èº«ä»½éªŒè¯æ—¶ 1proxies = &#123;"proxy_name": "http://user:passwd@host:port"&#125; SOCKSä»£ç†å®‰è£…socksåº“ï¼špip install requests[socks] è®¾ç½®ä»£ç†ï¼šproxies = {&#39;http&#39;: &#39;socks5://user:passwd@host:port&#39;} è¶…æ—¶ åœ¨æœ¬æœºç½‘ç»œçŠ¶å†µä¸å¥½æˆ–è€…æœåŠ¡å™¨ç½‘ç»œå“åº”å¤ªæ…¢ç”šè‡³æ— å“åº”æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç­‰å¾…ç‰¹åˆ«ä¹…çš„æ—¶é—´æ‰å¯èƒ½æ”¶åˆ°å“åº”ï¼Œç”šè‡³åˆ°æœ€åŽæ”¶ä¸åˆ°å“åº”è€ŒæŠ¥é”™ã€‚ä¸ºäº†é˜²æ­¢æœåŠ¡å™¨ä¸èƒ½åŠæ—¶å“åº”ï¼Œåº”è¯¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå³è¶…è¿‡äº†è¿™ä¸ªæ—¶é—´è¿˜æ²¡æœ‰å¾—åˆ°å“åº”ï¼Œé‚£å°±æŠ¥é”™ã€‚è¿™éœ€è¦ç”¨åˆ°timeoutå‚æ•°ã€‚ è¿™ä¸ªæ—¶é—´çš„è®¡ç®—æ˜¯å‘å‡ºè¯·æ±‚åˆ°æœåŠ¡å™¨è¿”å›žå“åº”çš„æ—¶é—´ã€‚ è¯·æ±‚æ—¶é—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šè¿žæŽ¥ï¼ˆconnectï¼‰å’Œè¯»å–ï¼ˆreadï¼‰ã€‚å› æ­¤timeoutå‚æ•°çš„å€¼å¯ä»¥æ˜¯æ ‡é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å…ƒç»„ã€‚ èº«ä»½è®¤è¯åœ¨è®¿é—®ç½‘ç«™æ—¶æˆ‘ä»¬å¯èƒ½éœ€è¦æä¾›ç”¨æˆ·åå’Œå¯†ç æ‰èƒ½ç»§ç»­è®¿é—®ã€‚ HTTPè®¤è¯requestsè‡ªå¸¦èº«ä»½è®¤è¯æ¨¡å—requests.auth.HHTPBasicAuthã€‚ å¸¦èº«ä»½è®¤è¯çš„è¯·æ±‚é€šè¿‡å‚æ•°authå®žçŽ°ã€‚ 12345from requests.auth import HTTPBasicAuth##1.å®Œæ•´å½¢å¼response = requests.get(url, auth=HTTPBasicAuth('user', 'passwd'))##2.ç®€å†™å½¢å¼response = requests.get(url, auth=('user', 'passwd')) OAuthè®¤è¯å®‰è£…ç¬¬ä¸‰æ–¹åŒ…ï¼špip install requests_oauthlib 123from requests_oauthlib import OAuth1auth = OAuth1('app_key', 'app_secret', 'user_oauth_token', 'user_oauth_token_secret')response = requests.get(url, auth = auth) å¯¹è¯·æ±‚è¿›è¡ŒæŠ½è±¡å°† è¯·æ±‚ æŠ½è±¡ä¸º Requestsç±»ã€‚ 1from requests import Request, Session åˆå§‹åŒ–Request 1234url = '...'data = '&#123;...&#125;'headers = '&#123;...&#125;'request = Request('POST', url, data = data, headers = headers) è½¬æ¢requestå¯¹è±¡ 123session = Session()prepared_request = session.prepare_request(request)response = session.send(prepared_request) # not post or get å°† è¯·æ±‚ ç‹¬ç«‹æˆæœ¬åœ°çš„å¯¹è±¡ï¼Œéœ€è¦çš„æ—¶å€™æ‰åœ¨ ä¼šè¯ ä¸­èŽ·å–ç»“æžœã€‚ è¿™åœ¨é˜Ÿåˆ—è°ƒåº¦ä¸­ååˆ†æœ‰æ•ˆã€‚ ä½¿ç”¨chromeå¯ä»¥é€šè¿‡è®¿é—® chrome://version æŸ¥è¯¢åˆ°ç”¨æˆ·ä»£ç†ä¿¡æ¯ã€‚ æœ¬æ–‡å‚è€ƒï¼šhttps://cuiqingcai.com/5514.html]]></content>
      <categories>
        <category>spider</category>
      </categories>
      <tags>
        <tag>çˆ¬è™«</tag>
        <tag>python</tag>
        <tag>requests</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯·æ±‚åº“1 - urllib]]></title>
    <url>%2Fspider%2F20191127-ae0b.html</url>
    <content type="text"><![CDATA[urllibåº“æ˜¯Pythonå†…ç½®çš„HTTPè¯·æ±‚åº“ï¼ŒåŒ…å«4ä¸ªæ¨¡å—ï¼š requestï¼šç”¨æ¥æ¨¡æ‹Ÿå‘é€è¯·æ±‚çš„åŸºæœ¬HTTPè¯·æ±‚æ¨¡å— errorï¼šæ­¤æ¨¡å—å®šä¹‰äº†è¯·æ±‚è¿‡ç¨‹ä¸­å¯èƒ½å‡ºçŽ°çš„å¼‚å¸¸ï¼Œé«˜æ•ˆçš„çˆ¬è™«éœ€è¦æ•èŽ·å¹¶å¤„ç†è¿™äº›å¯èƒ½å‡ºçŽ°çš„å¼‚å¸¸ä»¥é˜²æ­¢ç¨‹åºæ„å¤–ç»ˆæ­¢ parseï¼šå¤„ç†URLçš„å·¥å…· robotparserï¼šä¸å¸¸ç”¨ï¼Œè¯†åˆ«ç½‘ç«™çš„robots.txtæ–‡ä»¶ï¼Œåˆ¤å®šç½‘ç«™æ˜¯å¦å¯çˆ¬ å‘é€è¯·æ±‚request.urlopenurllib.requestæ¨¡å—å¯ä»¥æ¨¡æ‹Ÿæµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œæä¾›äº†æœ€åŸºæœ¬çš„HTTPè¯·æ±‚æ–¹æ³•ã€‚ å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶èŽ·å¾—å“åº”ï¼ˆResponseï¼‰ï¼š1response = urllib.request.urlopen("https://www.python.org") å–å¾—çš„å“åº”æ˜¯ä¸€ä¸ªhttp.client.HTTPResponseå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†ä¸Žè¯·æ±‚ç»“æžœç›¸å…³çš„å„ç§å±žæ€§å’Œæ–¹æ³•ï¼š è¶…æ–‡æœ¬è§£ç ï¼šresponse.read().decode(&#39;utf-8&#39;) è¯·æ±‚çŠ¶æ€ç ï¼šresponse.statusï¼Œ200è¡¨ç¤ºè¯·æ±‚æˆåŠŸ å¤´éƒ¨ä¿¡æ¯ï¼šresponse.getheaders()ï¼Œå…ƒç»„åˆ—è¡¨å½¢å¼ æŸé¡¹å¤´éƒ¨ä¿¡æ¯ï¼šresponse.getheader(&#39;Server&#39;)ï¼Œå“åº”å¤´ä¸­çš„Serverå€¼ã€‚ä¾‹å¦‚å¦‚æžœServerå€¼ä¸ºâ€nginxâ€å°±ä»£è¡¨æœåŠ¡å™¨æ˜¯ç”±Nginxæ­å»ºçš„ urllib.request.urlopen()çš„APIå¦‚ä¸‹ï¼š1urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None) é™¤äº†ç»™å®šåŸºæœ¬çš„URLä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä¼ é€’å…¶å®ƒæ•°æ®ï¼š dataå‚æ•°ï¼šå¯é€‰ï¼Œç”¨äºŽæž„é€ POSTè¯·æ±‚ã€‚dataå¿…é¡»æ˜¯bytesç±»åž‹/bytesç±»åž‹çš„å¯è¿­ä»£å¯¹è±¡/æ–‡ä»¶å¯¹è±¡ï¼Œä¸èƒ½æ˜¯strç±»åž‹ã€‚ä¸‹é¢è¿™ç§æ–¹å¼å¯ä»¥æž„é€ ä¸€ä¸ªæœ‰æ•ˆçš„dataå‚æ•°å€¼ï¼š 12345678args = &#123;'word': 'hello'&#125; # dictargs = urllib.parse.urlencode(args) # str: Unicodedata = bytes(args, encoding='utf-8') # bytes: UTF-8response = urllib.request.urlopen('http://httpbin.org/post', data=data)# response.getheader('Content-Type') =&gt; application/json# response.read().decode('utf-8')æ˜¯ä¸€ä¸ªjsonå­—ç¬¦ä¸²# æˆ‘ä»¬æž„é€ çš„dataå‚æ•°å­˜å‚¨åœ¨"form"å­—æ®µä¸­# è¡¨ç¤ºæˆ‘ä»¬æäº¤çš„æ˜¯è¡¨å•è¯·æ±‚ timeoutå‚æ•°ï¼šå¯é€‰ï¼Œè¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚è¶…æ—¶æœªå“åº”çš„ç¨‹åºä¼šæŠ›å‡ºurllib.error.URLErroré”™è¯¯ï¼ˆå…¶å®žå«å¼‚å¸¸æ˜¯ä¸æ˜¯æ›´å¥½~ï¼‰ contextå‚æ•°ï¼šå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šSSLè®¾ç½®ï¼Œå¿…é¡»æ˜¯ssl.SSLContextç±»åž‹ cafileå‚æ•°ï¼šå¯é€‰ï¼ŒCAè¯ä¹¦åç§°ï¼ŒHTTPSè¯·æ±‚éœ€è¦ capathå‚æ•°ï¼šå¯é€‰ï¼ŒCAè¯ä¹¦è·¯å¾„ï¼ŒHTTPSè¯·æ±‚éœ€è¦ request.Requesturlopenåªèƒ½å®žçŽ°æœ€åŸºæœ¬çš„è¯·æ±‚å‘èµ·ï¼Œå‚æ•°è¿‡äºŽç®€å•ï¼Œä¸èƒ½åŠ å…¥headersç­‰ä¿¡æ¯ã€‚æž„å»ºå®Œæ•´çš„è¯·æ±‚å¯ä»¥ä½¿ç”¨Requestç±»ã€‚æˆ‘ä»¬é€šè¿‡å„ç§ä¸°å¯Œçš„å‚æ•°å®žä¾‹åŒ–Requestç±»ï¼Œç„¶åŽå†è°ƒç”¨urlopenè¿›è¡Œè¯·æ±‚ï¼š123request = urllib.request.Request('https://python.org')response = urllib.request.urlopen(request)html = response.read().decode('utf-8') urllib.request.Requestå¯¹è±¡çš„æž„é€ æ–¹æ³•å¦‚ä¸‹ï¼š1class urllib.request.Request(url, data=None, headers=&#123;&#125;, origin_req_host=None, unverifiable=False, method=None) dataï¼šbytesç±»åž‹ï¼ŒåŒurlopenä¸­çš„dataå‚æ•°ç›¸ä¼¼ headersï¼šdictç±»åž‹ï¼Œè¯·æ±‚å¤´ï¼›æˆ–è€…é€šè¿‡.add_header()æ–¹æ³•æ·»åŠ ã€‚å¸¸ç”¨çš„è¯·æ±‚å¤´ä¸ºï¼š{&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36&quot;} origin_req_hostï¼šè¯·æ±‚æ–¹çš„hoståœ°å€ï¼ˆipåœ°å€ï¼‰ unverifiableï¼šæ˜¯å¦æ˜¯æ— æ³•éªŒè¯çš„è¯·æ±‚ï¼Œé»˜è®¤ä¸ºFalseï¼Œè¡¨ç¤ºç”¨èƒ¡å¯ä»¥èŽ·å–è¯·æ±‚çš„ç»“æžœ methodï¼šè¯·æ±‚çš„æ–¹æ³•ï¼ˆGET/POST/PUT/â€¦ï¼‰ ä¸€ä¸ªä½¿ç”¨Requestå¯¹è±¡èŽ·å–è¯·æ±‚çš„ä¾‹å­ï¼š1234567891011url = 'http://httpbin.org/post'headers = &#123; 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36', 'Host': 'httpbin.org'&#125;data_dict = &#123;'name': 'Germey'&#125;data = bytes(urllib.parse.urlencode(data_dict), encoding = 'utf-8')request = urllib.request.Request(url, data = data, headers = headers, method = 'POST')response = urllib.request.urlopen(request)print(response.read().decode('utf-8')) request.Handlerurlopenåªèƒ½è¿›è¡Œæœ€åŸºç¡€çš„è¯·æ±‚ï¼ŒRequestç±»å®žçŽ°äº†åœ¨è¯·æ±‚ä¸­æ·»åŠ è¯·æ±‚å¤´ï¼Œä½†å®ƒä»¬éƒ½ä¸èƒ½è§£å†³Cookieså¤„ç†å’Œä»£ç†è®¾ç½®ç­‰æ›´åŠ é«˜çº§çš„é—®é¢˜ï¼Œæ­¤æ—¶å°±è½®åˆ°Handlerå·¥å…·ç™»åœºäº†ã€‚ åŸºäºŽurllib.request.HandleråŸºç±»ç»§æ‰¿å®žçŽ°çš„é«˜çº§Handlerä¸»è¦æœ‰ï¼š HTTPDefaultErrorHandlerï¼šå¤„ç†HTTPå“åº”é”™è¯¯ HTTPRedirectHandlerï¼šå¤„ç†é‡å®šå‘ HTTPCookieProcessorï¼šå¤„ç†Cookies ProxyHandlerï¼šè®¾ç½®ä»£ç† HTTPPasswordMgrï¼šç®¡ç†å¯†ç  HTTPBasicAuthHandlerï¼šç®¡ç†è®¤è¯ å…¶å®ƒçš„Handlerç±» request.OpenerDirectoråœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œurllibé€šè¿‡urlopenå‡½æ•°ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéšè—çš„OpenerDirectorå¯¹è±¡ï¼ˆæˆ–è€…å«Openerï¼‰ã€‚ Openerç±»ç›¸æ¯”äºŽurlopenå‡½æ•°å’ŒRequestç±»èƒ½å®žçŽ°æ›´å¤šçš„åŠŸèƒ½ï¼Œå®ƒæ˜¯æ›´åŠ åº•å±‚çš„å·¥å…·ã€‚ Openerå¯¹è±¡é€šè¿‡Handleræ¥æž„å»ºã€‚ opener.addheaders = [(&#39;user-Agent&#39;, &#39;...)]å¯è®¾ç½®è¯·æ±‚å¤´ [Python3ç½‘ç»œçˆ¬è™«å¼€å‘å®žæˆ˜] 3.1.1-å‘é€è¯·æ±‚ å¼‚å¸¸å¤„ç†åˆç†çš„å¼‚å¸¸å¤„ç†ä½¿å¾—ç¨‹åºæ›´åŠ ç¨³å¥ã€‚ urllib.requestäº§ç”Ÿçš„å¼‚å¸¸ç”±urllib.erroræ¨¡å—å¤„ç†ã€‚ URLError (base)urllib.error.URLErroræ˜¯urllib.erroræ¨¡å—ä¸­çš„åŸºç±»ï¼Œä¸‹é¢æåˆ°çš„æ‰€æœ‰å¼‚å¸¸éƒ½æ˜¯ç»§æ‰¿è‡ªURLErrorã€‚ æ‰€æœ‰çš„urllib.requestäº§ç”Ÿçš„å¼‚å¸¸éƒ½å¯ä»¥é€šè¿‡URLErrorè¿›è¡Œæ•èŽ·ï¼Œå¦‚æžœè®°ä¸ä½å…¶å®ƒæ›´ç²¾ç»†çš„å¼‚å¸¸ç±»çš„è¯ç”¨è¿™ä¸ªå‡†æ²¡é”™ã€‚ URLErrorå¼‚å¸¸æœ‰ä¸ªå¾ˆå¸¸ç”¨çš„å±žæ€§å«åšreasonï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåˆ¤æ–­å‡ºé”™åŽŸå› ã€‚ reasonæè¿°äº†é”™è¯¯çš„åŽŸå› ï¼Œä½†å®ƒä¸ä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚è¶…æ—¶è¯·æ±‚ä¼šè¿”å›žä¸€ä¸ªsocket.timeoutå¯¹è±¡ï¼Œå› æ­¤ä½¿ç”¨å¼‚å¸¸çš„reasonçš„å€¼æ—¶æœ€å¥½è¿›è¡Œç±»åž‹æ£€æŸ¥ã€‚ HTTPErrorå¤„ç†HTTPè¯·æ±‚é”™è¯¯ï¼Œå¸¸ç”¨çš„ä¸‰ä¸ªå±žæ€§ï¼š codeï¼šçŠ¶æ€ç  reasonï¼šé”™è¯¯åŽŸå›  headersï¼šè¯·æ±‚å¤´ å…¶å®ƒ [Python3ç½‘ç»œçˆ¬è™«å¼€å‘å®žæˆ˜] 3.1.2-å¤„ç†å¼‚å¸¸ URLå¤„ç†urllib.parseæ¨¡å—ç”¨æ¥å¤„ç†URLï¼ˆéƒ¨åˆ†ï¼‰ï¼Œæ”¯æŒå¤šç§åè®®ã€‚ å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š urlparse: å°†å®Œæ•´çš„URLå­—ç¬¦ä¸²æ‹†åˆ†ä¸ºä¸€ä¸ªå…­å…ƒç´ å…ƒç»„ã€‚URLçš„æ ‡å‡†æ ¼å¼ä¸ºï¼šscheme://netloc/path;parameters?query#fragment urlunparse: å°†ä¸€ä¸ªé•¿åº¦ä¸º6çš„å¯è¿­ä»£å¯¹è±¡ï¼ˆå…ƒç»„ã€åˆ—è¡¨ç­‰ï¼‰è½¬åŒ–ä¸ºä¸€ä¸ªå®Œæ•´çš„URLå­—ç¬¦ä¸² urlsplit: å’Œurlparse()ååˆ†ç›¸ä¼¼ï¼Œåªæ˜¯æŠŠparamséƒ¨åˆ†åˆå¹¶åˆ°äº†pathä¸­ urlunsplit: å’Œurlunparse()ååˆ†ç›¸ä¼¼ï¼Œå¤„ç†å¯¹è±¡ä¸º5å…ƒç´ çš„å¯è¿­ä»£å¯¹è±¡ urljoin: åªèƒ½å¡«è¡¥ã€åˆå¹¶ urlencodeï¼šå°†å‚æ•°å­—å…¸åºåˆ—åŒ–ä¸ºGETè¯·æ±‚çš„å‚æ•°å­—ç¬¦ä¸² parse_qsï¼šåŠŸèƒ½ä¸Žurlencodeç›¸åï¼Œå°†å‚æ•°å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—å…¸ parse_qslï¼šåŠŸèƒ½ä¸Žurlencodeç›¸åï¼Œå°†å‚æ•°å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå…ƒç»„åˆ—è¡¨ quoteï¼šå¯¹å­—ç¬¦ä¸²è¿›è¡ŒURLç¼–ç ï¼Œä¾‹å¦‚ä¸­æ–‡ä¼šè¢«è½¬åŒ–ä¸ºç¼–ç  unquoteï¼šå¯¹ç¼–ç çš„å­—ç¬¦ä¸²è¿›è¡ŒURLè§£ç ï¼Œä¾‹å¦‚ä¸­æ–‡ç¼–ç è¢«è§£ç å›žä¸­æ–‡ å…¶å®ƒ åˆ†æžRobotsåè®®Robotsåè®®ä¹Ÿç§°ä½œçˆ¬è™«åè®®ã€æœºå™¨äººåè®®ï¼Œå®ƒçš„å…¨åå«ä½œç½‘ç»œçˆ¬è™«æŽ’é™¤æ ‡å‡†ï¼ˆRobots Exclusion Protocolï¼‰ï¼Œç”¨æ¥å‘Šè¯‰çˆ¬è™«å’Œæœç´¢å¼•æ“Žå“ªäº›é¡µé¢å¯ä»¥æŠ“å–ï¼Œå“ªäº›ä¸å¯ä»¥æŠ“å–ã€‚ å®ƒé€šå¸¸æ˜¯ä¸€ä¸ªå«ä½œrobots.txtçš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¸€èˆ¬æ”¾åœ¨ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹ã€‚å½“æœç´¢çˆ¬è™«è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå®ƒé¦–å…ˆä¼šæ£€æŸ¥è¿™ä¸ªç«™ç‚¹æ ¹ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨robots.txtæ–‡ä»¶ï¼Œå¦‚æžœå­˜åœ¨ï¼Œæœç´¢çˆ¬è™«ä¼šæ ¹æ®å…¶ä¸­å®šä¹‰çš„çˆ¬å–èŒƒå›´æ¥çˆ¬å–ã€‚å¦‚æžœæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œæœç´¢çˆ¬è™«ä¾¿ä¼šè®¿é—®æ‰€æœ‰å¯ç›´æŽ¥è®¿é—®çš„é¡µé¢ã€‚]]></content>
      <categories>
        <category>spider</category>
      </categories>
      <tags>
        <tag>çˆ¬è™«</tag>
        <tag>urllib</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[asyncioä¸Žå¼‚æ­¥åç¨‹çˆ¬è™«]]></title>
    <url>%2Fspider%2F20191126-af0c.html</url>
    <content type="text"><![CDATA[å…³äºŽå¼‚æ­¥åç¨‹å¼‚æ­¥åç¨‹å¾€å¾€å¯¹IOå¯†é›†åž‹ä»»åŠ¡éžå¸¸æœ‰æ•ˆï¼Œå¦‚ç½‘ç»œIOã€ç£ç›˜IOï¼Œå…¸åž‹çš„åº”ç”¨åœºæ™¯æ˜¯æå‡çˆ¬è™«æ•ˆçŽ‡ã€‚ ä¸é€‚ç”¨ä»»ä½•å¹¶è¡Œæˆ–è€…å¼‚æ­¥çš„çˆ¬è™«å¾€å¾€å› ä¸ºæœåŠ¡å™¨å“åº”è¿‡æ…¢è€Œå°†å¤§é‡çš„æ—¶é—´èŠ±è´¹åœ¨IOç­‰å¾…ä¸Šã€‚ å½“éœ€è¦èŽ·å–å¤šä¸ªurlçš„å†…å®¹æ—¶ï¼Œæ€Žä¹ˆurlå†…å®¹èŽ·å–çš„ç´¯è®¡æ—¶é—´ï¼Ÿè¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªæ€è·¯ã€‚ä¸€æ˜¯å¤šè¿›ç¨‹å¹¶è¡Œï¼Œè¿™ç§æ–¹æ³•çš„æ•ˆçŽ‡ä¸»è¦å–å†³äºŽæœºå™¨CPUçš„æ ¸æ•°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹CPUæ ¸æ•°æœ‰é™ï¼Œè€Œä¸”å•ä¸ªCPUåœ¨ç­‰å¾…å“åº”çš„è¿‡ç¨‹ä¸­ä»ç„¶å¤„äºŽç©ºé—²çŠ¶æ€ã€‚äºŒæ˜¯å¼‚æ­¥åç¨‹ï¼Œå…¶è®¾è®¡æ€æƒ³ä¸ºï¼šåœ¨æ‰§è¡ŒæŸä¸ªå­ç¨‹åºå¦‚æžœé‡åˆ°é˜»å¡žå°±å°†è¯¥å­ç¨‹åºæŒ‚èµ·è½¬è€Œæ‰§è¡Œå…¶å®ƒçš„å­ç¨‹åºåˆ°å…¶å®Œæˆæˆ–è€…æŒ‚èµ·ä¸ºæ­¢ï¼Œè¿™æ ·åœ¨å¤šä¸ªå­ç¨‹åºé—´è¿›è¡Œåˆ‡æ¢ï¼Œä»Žè€Œå……åˆ†åˆ©ç”¨å¤„ç†å™¨ã€‚åœ¨çˆ¬è™«è®¾è®¡ä¸­ï¼Œå¤šä¸ªurlçš„å†…å®¹èŽ·å–å®žé™…ä¸Šæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå½“ç¨‹åºå¤„ç†ä¸€ä¸ªurlé‡åˆ°é˜»å¡žæ—¶å¯ä»¥å°†å…¶æŒ‚èµ·ç­‰å¾…æœåŠ¡å™¨å“åº”è½¬è€Œå¤„ç†å…¶å®ƒçš„urlï¼Œé€šè¿‡é˜Ÿåˆ—è®¿é—®çš„æ–¹å¼ä¸æ–­å¾ªçŽ¯å¤„ç†ä»»åŠ¡ã€‚å½“è¢«æŒ‚èµ·çš„å­ç¨‹åºå¤„ç†å®ŒæˆåŽè‡ªåŠ¨æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾ç­‰å¾…è½®æ‰§ï¼›å¦‚æžœæ‰€æœ‰ä»»åŠ¡éƒ½å¤„äºŽæŒ‚èµ·çŠ¶æ€åˆ™ç¨‹åºè¿›å…¥é˜»å¡žçŠ¶æ€ç›´åˆ°æ–°çš„å¯æ‰§è¡Œä»»åŠ¡å‡ºçŽ°ã€‚ Python3.5ä»¥åŽæ·»åŠ äº†async/awaitå…³é”®å­—ç”¨ä»¥å®žçŽ°å¼‚æ­¥åç¨‹ï¼Œä½¿ç”¨å®ƒä»¬éœ€è¦å¯¼å…¥åŒ…asyncio: asyncï¼šå®šä¹‰ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼ˆåç¨‹ï¼‰æˆ–è€…å¼‚æ­¥ç”Ÿæˆå™¨ awaitï¼šå½“å­ç¨‹åºé˜»å¡žæ—¶æŒ‚èµ·å­ç¨‹åºï¼ˆä»»åŠ¡ï¼‰ ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š é˜»å¡žï¼šç¨‹åºåœ¨ç­‰å¾…æŸä¸ªæ“ä½œå®Œæˆè€Œä¸èƒ½åŽ»å¹²åˆ«çš„äº‹æƒ…ï¼Œå³ç¨‹åºå¤„äºŽæŒ‚èµ·çŠ¶æ€ï¼Œç§°è¯¥ç¨‹åºå¤„äºŽ é˜»å¡žçŠ¶æ€ã€‚å¸¸è§çš„é˜»å¡žå½¢å¼æœ‰ï¼šç­‰å¾…ç½‘ç»œI/Oï¼Œç­‰å¾…ç£ç›˜I/Oï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼ŒCPUåˆ‡æ¢ä¸Šä¸‹æ–‡ç­‰ï¼› éžé˜»å¡žï¼šéžé˜»å¡žæ˜¯ç›¸å¯¹äºŽé˜»å¡žè€Œè¨€çš„ï¼šå¦‚æžœç¨‹åºåŒ…å«å¤šä¸ªç‹¬ç«‹çš„å­ç¨‹åºï¼Œå½“å…¶ä¸­ä¸€ä¸ªå­ç¨‹åºå®Œæˆæˆ–è€…é˜»å¡žæ—¶å¯ä»¥è½¬è€Œæ‰§è¡Œå…¶å®ƒçš„å­ç¨‹åºï¼Œä»Žè€Œé¿å…å› ä¸ºæ¯«æ— ä½œä¸ºçš„ç­‰å¾…è€Œé€ æˆçš„æ•ˆçŽ‡ä½Žä¸‹ï¼› åŒæ­¥ï¼šä¸ºäº†å®ŒæˆæŸä¸ªä»»åŠ¡ï¼Œä¸åŒç¨‹åºé—´éœ€è¦ç›¸äº’åå•†ã€ç›¸äº’å½±å“ï¼Œåˆ™è¿™äº›ç¨‹åºæ˜¯åŒæ­¥çš„ï¼›åŒæ­¥é€šå¸¸é€šè¿‡â€œé”â€æ¥å®žçŽ° å¼‚æ­¥ï¼šå¦‚æžœåœ¨å®ŒæˆæŸä¸ªä»»åŠ¡æ—¶ï¼Œç¨‹åºä¹‹é—´ä¸éœ€è¦ç›¸äº’é€šä¿¡è€Œå„è‡ªç‹¬ç«‹è¿è¡Œï¼Œåˆ™è¿™äº›ç¨‹åºæ˜¯å¼‚æ­¥çš„ å¼‚æ­¥åç¨‹ä¸­çš„åŸºæœ¬æ¦‚å¿µï¼š äº‹ä»¶å¾ªçŽ¯ï¼ˆevent loopï¼‰ï¼šæˆ‘ä»¬éœ€è¦å‘ç³»ç»Ÿç”³è¯·ä¸€ä¸ªäº‹ä»¶å¾ªçŽ¯å¯¹è±¡è¿è¡Œæˆ‘ä»¬è‡ªå·±çš„åç¨‹å¯¹è±¡ï¼Œäº‹ä»¶å¾ªçŽ¯å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ‰§è¡Œã€æŒ‚èµ·åç¨‹å­ç¨‹åºã€‚ 123loop = asyncio.get_event_loop()loop# &lt;_WindowsSelectorEventLoop running=False closed=False debug=False&gt; åç¨‹ï¼ˆCoroutineï¼‰ï¼šåç¨‹å¯¹è±¡ç±»åž‹ï¼Œéœ€è¦è¢«æ³¨å†Œåˆ°äº‹ä»¶å¾ªçŽ¯ä¸­æ‰èƒ½è¢«å¾ªçŽ¯è°ƒç”¨ï¼Œé€šè¿‡asyncå…³é”®å­—å®šä¹‰ï¼Œç›´æŽ¥è°ƒç”¨ä¸ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›žä¸€ä¸ªåç¨‹å¯¹è±¡ã€‚ ä»»åŠ¡ï¼ˆTaskï¼‰ï¼šä»»åŠ¡æ˜¯å¯¹åç¨‹å¯¹è±¡çš„å°è£…ï¼ŒåŒ…å«äº†æ›´å¤šçš„ä¿¡æ¯ã€‚ future å¼‚æ­¥åç¨‹çˆ¬è™«ä¸‹é¢ä»¥ä¸€ä¸ªä¾‹å­è¯´æ˜Žå¼‚æ­¥åç¨‹çˆ¬è™«çš„åŸºæœ¬è¯­æ³•ã€‚ æ¨¡æ‹Ÿæ…¢é€ŸæœåŠ¡å™¨123456789101112from flask import Flaskimport time app = Flask(__name__) @app.route('/')def index(): time.sleep(3) return 'Hello!' if __name__ == '__main__': app.run(threaded=True) è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Flask æœåŠ¡ï¼Œä¸»å…¥å£æ˜¯ index() æ–¹æ³•ï¼Œæ–¹æ³•é‡Œé¢å…ˆè°ƒç”¨äº† sleep() æ–¹æ³•ä¼‘çœ  3 ç§’ï¼Œç„¶åŽæŽ¥ç€å†è¿”å›žç»“æžœï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡è¯·æ±‚è¿™ä¸ªæŽ¥å£è‡³å°‘è¦è€—æ—¶ 3 ç§’ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ¨¡æ‹Ÿäº†ä¸€ä¸ªæ…¢é€Ÿçš„æœåŠ¡æŽ¥å£ã€‚ æ³¨æ„è¿™é‡ŒæœåŠ¡å¯åŠ¨çš„æ—¶å€™ï¼Œrun() æ–¹æ³•åŠ äº†ä¸€ä¸ªå‚æ•° threadedï¼Œè¿™è¡¨æ˜Ž Flask å¯åŠ¨äº†å¤šçº¿ç¨‹æ¨¡å¼ï¼Œä¸ç„¶é»˜è®¤æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„ã€‚å¦‚æžœä¸å¼€å¯å¤šçº¿ç¨‹æ¨¡å¼ï¼ŒåŒä¸€æ—¶åˆ»é‡åˆ°å¤šä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œåªèƒ½é¡ºæ¬¡å¤„ç†ï¼Œè¿™æ ·å³ä½¿æˆ‘ä»¬ä½¿ç”¨åç¨‹å¼‚æ­¥è¯·æ±‚äº†è¿™ä¸ªæœåŠ¡ï¼Œä¹Ÿåªèƒ½ä¸€ä¸ªä¸€ä¸ªæŽ’é˜Ÿç­‰å¾…ï¼Œç“¶é¢ˆå°±ä¼šå‡ºçŽ°åœ¨æœåŠ¡ç«¯ã€‚æ‰€ä»¥ï¼Œå¤šçº¿ç¨‹æ¨¡å¼æ˜¯æœ‰å¿…è¦æ‰“å¼€çš„ã€‚ å¯åŠ¨ä¹‹åŽï¼ŒFlask åº”è¯¥é»˜è®¤ä¼šåœ¨ 127.0.0.1:5000 ä¸Šè¿è¡Œï¼Œè¿è¡Œä¹‹åŽæŽ§åˆ¶å°è¾“å‡ºç»“æžœå¦‚ä¸‹ï¼š 1Running on http:*//127.0.0.1:5000/ (Press CTRL+C to quit)* å®šä¹‰åç¨‹123456789101112131415import asyncio # å¼‚æ­¥I/Oimport aiohttp # å®žçŽ°äº†å¼‚æ­¥çš„ç½‘ç»œé€šä¿¡å·¥å…·ï¼Œæ›¿æ¢requestsasync def get(url): session = aiohttp.ClientSession() response = await session.get(url) result = await response.text() session.close() return resultasync def request(): url = 'http://127.0.0.1:5000' print('Waiting for', url) result = await get(url) print('Get response from %s Result: %s'%(url, result)) asyncioä¸­å®žçŽ°äº†å®šä¹‰å’Œæ‰§è¡Œåç¨‹çš„å…³é”®å­—å’Œæ–¹æ³•ï¼Œaiohttpä¸­å®žçŽ°äº†æ”¯æŒå¼‚æ­¥æ“ä½œçš„ç½‘ç»œé€šä¿¡ï¼Œrequestsä¸æ”¯æŒå¼‚æ­¥æ“ä½œã€‚ å¼‚æ­¥å‡½æ•°request()å®šä¹‰äº†ä¸€ä¸ªåç¨‹ï¼Œå¦‚æžœäº‹ä»¶å¾ªçŽ¯æ‰§è¡Œåˆ°æœ¬åç¨‹çš„await get(url)è¯­å¥æ—¶é‡åˆ°é˜»å¡žå°±ä¼šå°†æ­¤åç¨‹æŒ‚èµ·è½¬è€Œæ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„å…¶å®ƒä»»åŠ¡ã€‚å½“æœ¬åç¨‹æŒ‚èµ·æ—¶å®žé™…ä¸Šæ˜¯åœ¨ç­‰å¾…get(url)çš„ç»“æžœï¼Œget(url)æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåç¨‹ï¼Œå®ƒè¿”å›žä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ï¼ˆAwaitable objectï¼‰ã€‚ get(url)åŒæ ·æ˜¯ä¸€ä¸ªåç¨‹ï¼Œå¦‚æžœäº‹ä»¶å¾ªçŽ¯æ‰§è¡Œåˆ°await session.get(url)æ—¶é‡åˆ°é˜»å¡žï¼Œè¯¥ä»»åŠ¡è¢«æŒ‚èµ·ç­‰å¾…æœåŠ¡å™¨å“åº”ï¼Œå½“ä¸‹æ¬¡è½®æ‰§æ­¤åç¨‹æ—¶ä¼šå†æ¬¡é‡åˆ°await response.text()ï¼Œå¦‚æžœè¿™ä¸ªå­ç¨‹åºæ²¡æœ‰é‡åˆ°æ‰§è¡Œé˜»å¡žï¼Œå°±ä¸ä¼šæŒ‚èµ·ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ æ€»ç»“ä¸€ä¸‹ï¼š asyncå®šä¹‰åç¨‹ï¼Œawaitå½“ä»»åŠ¡é˜»å¡žæ—¶æŒ‚èµ·ä»»åŠ¡ï¼Œawaitåªèƒ½ç”¨äºŽasyncå®šä¹‰çš„åç¨‹é‡Œé¢ awaitå…³é”®å­—ä¿®é¥°çš„å¿…é¡»æ˜¯å¯ç­‰å¾…å¯¹è±¡ã€‚å“ªäº›æ˜¯å¯ç­‰å¾…å¯¹è±¡ï¼Ÿ å¼‚æ­¥å‡½æ•°å®šä¹‰çš„åŽŸç”Ÿåç¨‹å¯¹è±¡ å¼‚æ­¥ç”Ÿæˆå™¨ å®žçŽ°äº†__await__()æ–¹æ³•çš„è¿­ä»£å™¨ ä»»åŠ¡åŒ…è£…å¹¶æ³¨å†Œåˆ°äº‹ä»¶å¾ªçŽ¯å°†åç¨‹å¯¹è±¡åŒ…è£…ä¸ºä»»åŠ¡å¯¹è±¡ 1tasks = [asyncio.ensure_future(request()) for _ in range(5)] èŽ·å–äº‹ä»¶å¾ªçŽ¯å¯¹è±¡ 1loop = asyncio.get_event_loop() å°†ä»»åŠ¡æ³¨å†Œåˆ°äº‹ä»¶å¾ªçŽ¯ 12345## å•ä¸ªä»»åŠ¡loop.run_until_complete(task)## å¤šä¸ªä»»åŠ¡loop.run_until_complete(asyncio.wait(tasks)) èŽ·å–è¿è¡Œç»“æžœ 1results = [task.result() for task in tasks] å‚è€ƒèµ„æ–™éžåŽŸåˆ›å£°æ˜Žï¼šæœ¬ç¬”è®°éžåŽŸåˆ›ï¼Œä¸»è¦å†…å®¹å‚è€ƒåšå®¢ https://cuiqingcai.com/6160.html]]></content>
      <categories>
        <category>spider</category>
      </categories>
      <tags>
        <tag>çˆ¬è™«</tag>
        <tag>åç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†³ç­–æ ‘ - CART]]></title>
    <url>%2Fml%2F20191122-edcd.html</url>
    <content type="text"><![CDATA[Breimanç­‰åœ¨1984å¹´æå‡ºäº† åˆ†ç±»ä¸Žå›žå½’æ ‘æ¨¡åž‹ï¼ˆCART, Classification and regression treeï¼‰ã€‚ CARTèƒ½å¤Ÿè¾“å‡ºéšæœºå˜é‡$Y$çš„ æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒã€‚ CARTçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯å‡è®¾å†³ç­–æ ‘æ˜¯äºŒå‰æ ‘ï¼Œè¿™æ„å‘³ç€ä¸è®ºç‰¹å¾æ˜¯è¿žç»­åž‹éšæœºå˜é‡è¿˜æ˜¯å¤šä¸ªå–å€¼çš„ç¦»æ•£åž‹éšæœºå˜é‡ï¼Œéƒ½å°†è¢«å¤„ç†æˆäºŒå…ƒå˜é‡ï¼Œå³éœ€è¦ç¡®å®šä¸€ä¸ª é˜ˆå€¼ã€‚ CARTç”Ÿæˆç”Ÿæˆå›žå½’æ ‘ç»™å®šè®­ç»ƒæ•°æ®é›†$$D = { (x_1, y_1),(x_2,y_2), \cdots, (x_N,y_N) }$$å¦‚æžœé€‰å®šç¬¬$j$ä¸ªç‰¹å¾å’Œè¯¥ç‰¹å¾çš„æŸä¸ªå–å€¼$s$ï¼Œæˆ‘ä»¬å°±èƒ½å°†æ‰€æœ‰æ ·æœ¬çš„ç¬¬$j$ä¸ªç‰¹å¾çš„å–å€¼ä¸Ž$s$åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒï¼Œä»Žè€Œå°†æ•°æ®é›†$D$åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚å¯¹äºŽè¿™ä¸¤ä¸ªåˆ’åˆ†çš„å­æ•°æ®é›†$D_1$å’Œ$D_2$ï¼Œæˆ‘ä»¬å†æ¬¡æ‰§è¡Œä¸Šé¢çš„æ“ä½œè¿›è¡Œè¿›ä¸€æ­¥çš„åˆ’åˆ†â€¦â€¦ æœ€ç»ˆæˆ‘ä»¬å°†æ•°æ®é›†$D$åˆ’åˆ†æˆäº†$M$ä¸ªå­é›†ï¼Œæˆ–è€…è¯´å°†è¾“å…¥ç©ºé—´ï¼ˆç‰¹å¾ç©ºé—´ï¼‰åˆ’åˆ†æˆäº†$M$ä¸ªåŒºåŸŸã€‚å¯¹äºŽåˆ’åˆ†çš„æ¯ä¸€ä¸ªå­åŒºåŸŸ$R_m$ï¼ˆ$m=1,2,\cdots,M$ï¼‰æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ–¹æ³•æ±‚å‡ºè¿™æ ·ä¸€ä¸ªå€¼$c_m$ï¼ŒäºŽæ˜¯å°±å¯ä»¥å®šä¹‰ å›žå½’æ¨¡åž‹$$f(x) = \sum_{m=1}^M c_m I(x \in R_m)$$å…¶ä¸­$I(x \in R_m)$ç§°ä¸º æŒ‡ç¤ºå‡½æ•°ï¼Œæ ·æœ¬$x$åªä¼šå±žäºŽå­åŒºåŸŸä¸­çš„æŸä¸€ä¸ªï¼Œè€Œä¸ä¼šåŒæ—¶è¢«åˆ’åˆ†åˆ°å¤šä¸ªå­åŒºåŸŸï¼Œå› ä¸ºäº’æ–¥å®Œå¤‡ã€‚ è¿™é‡Œäº§ç”Ÿäº†ä¸¤ä¸ªé—®é¢˜ï¼š å¦‚ä½•ç¡®å®šæœ€ä¼˜çš„$j$å’Œ$s$ï¼Ÿ å¦‚ä½•å®šä¹‰$c_m$ï¼Ÿ å…ˆçœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼šå› ä¸ºæ˜¯å›žå½’æ¨¡åž‹ï¼Œæˆ‘ä»¬ç”¨ å¹³æ–¹è¯¯å·® æ¥è¡¨ç¤ºå›žå½’æ ‘å¯¹è®­ç»ƒæ•°æ®çš„é¢„æµ‹è¯¯å·®$$\begin{split}L(D) &amp;= \sum_{i=1}^N [y_i - f(x_i)]^2 \\&amp;= \sum_{m=1}^M \sum_{x_k \in R_m} [y_k - f(x_k)]^2 \\&amp;= \sum_{m=1}^M \sum_{x_k \in R_m} (y_k - c_m)^2\end{split}$$è‹¥ä½¿$L(D)$æœ€å°ï¼Œåˆ™ä½¿$\sum_{x_k \in R_m} (y_k - c_m)^2$æœ€å°ï¼Œä¸€é˜¶å¯¼ç­‰äºŽ0æžå°ï¼Œè§£å¾—$$C_m = \frac1{|D_m|} \sum_{k=1}^{|D_m|} y_k = avg(y_k|x_k \in R_m)$$å…¶ä¸­æ•°æ®é›†$D$ä½äºŽå­ç©ºé—´$R_m$ä¸­çš„å­æ•°æ®é›†ä¸º$D_m$ï¼Œ$|D_m|$ä¸ºæ•°æ®é›†$D_m$ä¸­çš„æ ·æœ¬æ€»æ•°ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œå­ç©ºé—´$R_m$ä¸Šçš„$c_m$çš„æœ€ä¼˜ä¼°è®¡å€¼$\hat{c}_m$æ˜¯$R_m$ä¸Šæ‰€æœ‰è¾“å…¥æ ·æœ¬å¯¹åº”çš„$y$çš„å‡å€¼ã€‚ å†çœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šæ€Žä¹ˆç¡®å®šæœ€ä¼˜çš„$j$å’Œ$s$ï¼Œäº¦å³æ€Žä¹ˆå¯¹æ ·æœ¬ç©ºé—´è¿›è¡Œåˆ’åˆ†ã€‚ è¿™é‡Œæˆ‘ä»¬å°†ç¬¬$j$ä¸ªå˜é‡ç§°ä¸º åˆ‡åˆ†å˜é‡ï¼ˆsplitting variableï¼‰ï¼Œå°†è¯¥å˜é‡çš„å–å€¼$s$ç§°ä¸º åˆ‡åˆ†ç‚¹ï¼ˆsplitting pointï¼‰ï¼Œå¹¶è¿›è¡Œå¦‚ä¸‹åˆ’åˆ†ï¼š$$\begin{split}R_1(j,s) &amp;= { x|x^{(j)} \le s } \\R_2(j,s) &amp;= { x|x^{(j)} \gt s}\end{split}$$å¯å‘å¼ æ–¹æ³•å¯»æ‰¾æœ€ä¼˜çš„åˆ‡åˆ†å˜é‡$j$å’Œåˆ‡åˆ†ç‚¹$s$ï¼šéåŽ†æ‰€æœ‰è¾“å…¥è¾“å…¥ç‰¹å¾ï¼Œå›ºå®š$j$æ‰«æå¯èƒ½çš„åˆ‡åˆ†ç‚¹$s$ï¼Œè®¡ç®—$$Loss(j,s) = \sum_{x_i \in R_1(j,s)}(y_i-\bar{y_i})^2 + \sum_{x_i \in R_2(j,s)}(y_i-\bar{y_i})^2$$å“ªç»„$(j,s)$çš„$Loss$å°å°±é€‰è°ã€‚ è¿­ä»£åˆ’åˆ†å¾—åˆ°$M$ä¸ªå­åŒºåŸŸã€‚ ç”Ÿæˆåˆ†ç±»æ ‘åŸºå°¼æŒ‡æ•°åŸºå°¼æŒ‡æ•° ç”¨æ¥åº¦é‡é›†åˆ$D$çš„ä¸ç¡®å®šæ€§ï¼ŒåŸºå°¼æŒ‡æ•°è¶Šå¤§ï¼Œé›†åˆ$D$çš„ä¸ç¡®å®šæ€§è¶Šå¤§ï¼Œä¸Žç†µç±»ä¼¼ã€‚$$\text{Gini}(p) = \sum_{k=1}^K p_k(1-p_k) = 1 - \sum_{k=1}^K p_k^2$$äºŒåˆ†ç±»é—®é¢˜çš„åŸºå°¼æŒ‡æ•°ä¸º $2p(1-p)$ æ ·æœ¬é›†åˆ$D$çš„åŸºå°¼æŒ‡æ•°ä¸º $1-\sum_{k=1}^K (\frac{|D_k|}{|D|})^2$ ä¾æ®æŸç‰¹å¾Aæ˜¯å¦å–å€¼ä¸ºaå¯å°†æ•°æ®é›†Dåˆ†ä¸ºä¸¤ä¸ªå­é›†$D_1$å’Œ$D_2$$$\begin{split}D &amp;= D_1 + D_2 \\D_1 &amp;= { (x,y) \in D | A(x) = a } \\D_2 &amp;= { (x,y) \in D | A(x) \ne a }\end{split}$$åœ¨ç‰¹å¾Açš„æ¡ä»¶ä¸‹æ•°æ®é›†Dçš„åŸºå°¼æŒ‡æ•°å®šä¹‰ä¸º$$\text{Gini}(D,A) = \frac{|D_1|}{|D|}\text{Gini}(D_1) + \frac{|D_2|}{|D|}\text{Gini}(D_2)$$ CARTç”ŸæˆéåŽ†æ‰€æœ‰çš„å¯ç”¨çš„ç‰¹å¾ï¼ŒéåŽ†è¯¥ç‰¹å¾æ‰€æœ‰å¯èƒ½çš„å–å€¼ï¼Œåˆ†åˆ«è®¡ç®—åŸºå°¼æŒ‡æ•°ï¼Œå–åŸºå°¼æŒ‡æ•°æœ€å°çš„åˆ‡åˆ†å˜é‡å’Œåˆ‡åˆ†ç‚¹ä½œä¸ºå½“å‰äºŒåˆ†æ•°æ®é›†çš„ç­–ç•¥ã€‚ é€’å½’å¯¹æ•°æ®é›†è¿›è¡ŒäºŒåˆ†ã€‚ ä»¥ä¸‹è¡¨ä¸ºä¾‹è¯´æ˜ŽåŸºå°¼æŒ‡æ•°å¦‚ä½•ç”¨äºŽé€‰æ‹©åˆ‡åˆ†å˜é‡å’Œåˆ‡åˆ†ç‚¹ $$\begin{split}\text{Gini}(D,A=1) &amp;= \frac{5}{15}(2 \times \frac25 \times (1-\frac25)) + \frac{10}{15}(2 \times \frac7{10} \times (1 - \frac7{10})) \\&amp;= 0.44 \\\text{Gini}(D,A=2) &amp;= 0.48 \\\text{Gini}(D,A=3) &amp;= 0.44\end{split}$$$\text{Gini}(D,A=1)$æˆ–è€…$\text{Gini}(D,A=3)$éƒ½å¯ä»¥ä½œä¸ºAçš„æœ€ä¼˜åˆ‡åˆ†ç‚¹ åŒç†æ±‚å¾—å…¶å®ƒç‰¹å¾çš„æœ€ä¼˜åˆ‡åˆ†ç‚¹$$\begin{split}\text{Gini}(D,B=1) &amp;= 0.32 \\\text{Gini}(D,C=1) &amp;= 0.27 \\\text{Gini}(D,E=3) &amp;= 0.32\end{split}$$ä¸Šé¢çš„å››ä¸ªåˆ‡åˆ†ç‚¹ä¸­ï¼Œ$\text{Gini}(D,C=1)$æœ€å°ï¼Œæ‰€ä»¥é€‰æ‹©ç‰¹å¾Cï¼ˆæœ‰è‡ªå·±çš„æˆ¿å­ï¼‰ä½œä¸ºæœ€ä¼˜åˆ†ç±»ç‰¹å¾ï¼ŒC=1ä¸ºæœ€ä¼˜åˆ‡åˆ†ç‚¹ï¼Œå°†æ•°æ®é›†Dåˆ†ä¸ºä¸¤ä¸ªå­é›†ï¼ŒåŒæ—¶æ ¹èŠ‚ç‚¹ä¹Ÿäº§ç”Ÿäº†ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚ç”±äºŽC=1çš„æ ·æœ¬æ ‡ç­¾å…¨éƒ¨ä¸º1ï¼Œåˆ™æ­¤èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œç±»åˆ«æ ‡è®°ä¸º1ï¼›æŽ¥ä¸‹æ¥å¯¹å¦ä¸€ä¸ªå­èŠ‚ç‚¹è¿›è¡Œå¯»æ‰¾æœ€ä¼˜åˆ†ç±»ç‰¹å¾å’Œæœ€ä¼˜åˆ‡åˆ†ç‚¹ã€‚ CARTå‰ªæžCARTå‰ªæžç®—æ³•æ˜¯ä¸ªå¾ˆè´¹è§£çš„ä¸œè¥¿ï¼Œæˆ‘å°è¯•ç€é€šä¿—åŒ–åœ°åŽ»æè¿°å®ƒã€‚ CARTçš„å‰ªæžåŒID3/C4.5çš„å‰ªæžç®—æ³•æœ‰äº›è®¸åŒºåˆ«ã€‚ID3/C4.5çš„å‰ªæžç®—æ³•ç›´æŽ¥è®¡ç®—å†…éƒ¨èŠ‚ç‚¹å‰ªé™¤å‰åŽå†³ç­–æ ‘æŸå¤±å¤§å°ï¼ŒCARTå‰ªæžç®—æ³•å¤šäº†ä¸€æ­¥ï¼šå…ˆä»Žâ€œå®Œå…¨ç”Ÿé•¿â€çš„æ•´æ ‘$T_0$å¼€å§‹ä¸€ä¸ªèŠ‚ç‚¹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå†…éƒ¨èŠ‚ç‚¹ï¼‰çš„å‰ªé™¤ï¼Œç›´åˆ°å‰©ä¸‹æœ€åŽçš„æ ¹èŠ‚ç‚¹$T_n$ï¼Œæ¯å‰ªä¸€æ¬¡å°±ä¼šå¾—åˆ°ä¸€æ£µæ ‘ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªæ ‘çš„åºåˆ—${T_0,T_1,\cdots,T_n}$ï¼Œæ³¨æ„è¿™é‡Œçš„$n$å¹¶ä¸æ˜¯æŒ‡æ•´æ ‘å†…éƒ¨èŠ‚ç‚¹çš„å¤šå°‘ï¼Œå®žé™…ä¸Šç”±æ•´æ ‘ç”Ÿæˆçš„å­æ ‘éžå¸¸å¤šï¼Œè¿™ä¸ª$n$å¯èƒ½ä¼šå¾ˆå¤§ï¼Œä½†æ˜¯å®ƒå§‹ç»ˆæ˜¯æœ‰é™çš„ï¼›ç„¶åŽåœ¨ éªŒè¯æ•°æ®é›† ä¸Šåˆ†åˆ«è¿›è¡Œæµ‹è¯•ï¼Œé€‰æ‹©æŸå¤±æœ€å°çš„æ ‘ä½œä¸ºæœ€ç»ˆç»“æžœã€‚ å…ˆæ¥å›žé¡¾ä¸€ä¸‹å†³ç­–æ ‘$T$çš„æŸå¤±å‡½æ•°çš„å®šä¹‰ï¼Œå…¶ä¸­$C(T)$æ˜¯å¯¹è®­ç»ƒæ•°æ®çš„é¢„æµ‹è¯¯å·®ï¼Œ$|T|$æ˜¯æ¨¡åž‹å¤æ‚åº¦ï¼š$$C_\alpha(T) = C(T) + \alpha |T|,\ \alpha \ge 0$$åœ¨ID3/C4.5çš„å‰ªæžç®—æ³•ä¸­ï¼Œ$\alpha$ä½œä¸ºè¶…å‚éœ€è¦é¢„å…ˆè®¾å®šï¼Œå½“æˆ‘ä»¬é¢„è®¾$\alpha$çš„å€¼åŽå¯¹æ•´æ ‘è¿›è¡Œå‰ªæžï¼Œæœ€åŽä¼šå¾—åˆ°ä¸€ä¸ªæ•´æ ‘çš„å­æ ‘ä½œä¸ºæœ€ç»ˆç»“æžœï¼Œè¿™é‡Œ$0&lt;\alpha&lt;+\infty$ï¼Œç‰¹åˆ«åœ°ï¼Œå½“$\alpha=0$æ—¶ï¼Œæ•´æ ‘æ˜¯æœ€ä¼˜è§£ï¼›å½“$\alpha=+\infty$æ—¶ä»…ç”±æ ¹èŠ‚ç‚¹æž„æˆåœ°å•èŠ‚ç‚¹æ ‘æ˜¯æœ€ä¼˜è§£ï¼Œå½“ç„¶ä¸€èˆ¬æƒ…å†µä¸‹$\alpha=0$æˆ–è€…$\alpha=+\infty$éƒ½ä¸ä¼šæ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æžœã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç¡®å®šäº†$\alpha$çš„å€¼æ—¶ï¼Œæˆ‘ä»¬å°±ç¡®å®šäº†æ•´æ ‘çš„æŸä¸€æ£µå­æ ‘ï¼›æ¢è¨€ä¹‹ï¼Œä¸€ä¸ª$\alpha$å€¼å¯¹åº”ç€ä¸€é¢—å­æ ‘ï¼Œè€Œè¿™æ£µå­æ ‘å°±æ˜¯è¿™ä¸ª$\alpha$æ¡ä»¶ä¸‹çš„æœ€ä¼˜è§£ã€‚ å¦‚æžœæˆ‘æ›´æ”¹$\alpha$çš„å€¼å°±ä¼šå¾—åˆ°ä¸åŒçš„å­æ ‘ï¼Œé‚£ä¹ˆå“ªä¸€æ£µå­æ ‘æ‰æ˜¯æœ€å¥½çš„å‘¢ï¼ŸCARTå‰ªæžç®—æ³•æŠŠ$\alpha$è§†ä¸ºä¸€ä¸ªå‚æ•°è€Œä¸æ˜¯è¶…å‚ï¼Œåœ¨å‰ªæžçš„è¿‡ç¨‹ä¸­å¯»æ‰¾æœ€ä¼˜çš„$\alpha$å’Œè¿™ä¸ª$\alpha$å¯¹åº”çš„æœ€ä¼˜å­æ ‘ã€‚$\alpha \in (0,+\infty)$è¡¨ç¤º$\alpha$æœ‰æ— ç©·å¤šçš„å–å€¼ï¼Œé‚£è¿™æ˜¯ä¸æ˜¯æ„å‘³ç€æœ‰æ— ç©·å¤šçš„å­æ ‘å‘¢ï¼Ÿæ˜¾ç„¶ä¸æ˜¯çš„ï¼Œå› ä¸ºæ•´æ ‘çš„èŠ‚ç‚¹æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥æ•´æ ‘çš„å­æ ‘è‚¯å®šæ˜¯æœ‰é™çš„ã€‚ä½†æ˜¯ä¸€ä¸ª$\alpha$å¿…å®šå¯¹åº”ç€ä¸€æ£µå­æ ‘ï¼Œè¿™å°±è¡¨ç¤ºå¾ˆå¤šä¸ª$\alpha$å¯¹åº”ç€ç›¸åŒçš„å­æ ‘ï¼Œæ¢è¨€ä¹‹ï¼Œä¸€æ£µå­æ ‘å¯¹åº”ç€å¾ˆå¤šä¸ª$\alpha$å€¼ï¼Œä¸€æ£µå­æ ‘å¯¹åº”äº†ä¸€ä¸ª$\alpha$çš„åŒºé—´ã€‚æˆ‘ä»¬å°†$[0,+\infty]$åŒºé—´åˆ†æˆ$[\alpha_0,\alpha_1)$ã€$[\alpha_1,\alpha_2)$ã€â€¦ã€$[\alpha_n,\alpha_{n+1})$ï¼Œå…¶ä¸­$\alpha_0=0$, $\alpha_{n+1}=+\infty$ï¼Œæ¯ä¸ªåŒºé—´$[\alpha_i,\alpha_{i+1})$çš„$\alpha$å¯¹åº”çš„æœ€ä¼˜å­æ ‘éƒ½æ˜¯$T_i$ã€‚äºŽæ˜¯ä¹Žï¼Œæˆ‘ä»¬å‡è®¾ï¼Œå¦‚æžœæˆ‘ä»¬å¯ä»¥æ±‚å‡ºæ¯ä¸ªå­æ ‘$T_i$å¯¹åº”åŒºé—´çš„å·¦$\alpha$çš„å€¼ï¼Œæˆ‘ä»¬å°±èƒ½å°†å­æ ‘$T_i$ä¸Ž$\alpha$åŒºé—´ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡æ±‚è§£æœ€ä¼˜å­æ ‘æ¥æ±‚è§£æœ€ä¼˜$\alpha$ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€Žä¹ˆé€šè¿‡å­æ ‘æ±‚åŒºé—´å·¦è¾¹ç•Œçš„$\alpha$å‘¢ï¼Ÿ æˆ‘ä»¬é€šè¿‡æ¯”è¾ƒå‰ªé™¤èŠ‚ç‚¹$t$å‰åŽæŸå¤±çš„å˜åŒ–æ¥å†³å®šæ˜¯å¦å‰ªé™¤èŠ‚ç‚¹$t$ã€‚æˆ‘ä»¬è§‚å¯Ÿé¢„æµ‹è¯¯å·®$C_\alpha(T)= \sum_{k=1}^{|T|} N_k H_k(T)$ï¼šç‹¬ç«‹è®¡ç®—æ¯ä¸ªå¶å­èŠ‚ç‚¹$N_kH_k(T)$å†æ±‚åŠ å’Œï¼Œè¿™æ„å‘³ç€å‰ªé™¤èŠ‚ç‚¹$t$æ•´ä¸ªå†³ç­–æ ‘çš„æŸå¤±å˜åŒ–å°±ç­‰ä»·äºŽä¸Šå›¾ä¸­ç²‰è‰²åŒºåŸŸå­æ ‘å‰ªé™¤èŠ‚ç‚¹$t$æŸå¤±çš„å˜åŒ–ã€‚ å¯¹äºŽæ•´æ ‘$T_0$çš„ä»»æ„ä¸€ä¸ªå†…éƒ¨èŠ‚ç‚¹$t$ï¼Œå‡è®¾å‰ªé™¤æ­¤èŠ‚ç‚¹å¾—åˆ°çš„å­æ ‘ä¸º$T_k$ï¼Œ$k \in {1,\cdots,n}$ã€‚ ä»¥$t$ä¸ºæ ¹èŠ‚ç‚¹çš„å•èŠ‚ç‚¹æ ‘çš„æŸå¤±å‡½æ•°ä¸º$$C_\alpha(t) = C(t) + \alpha |t| = C(t) + \alpha$$ä»¥$t$ä¸ºæ ¹èŠ‚ç‚¹çš„å¤šèŠ‚ç‚¹å­æ ‘$T_t$çš„æŸå¤±ä¸º$$C_\alpha(T_t) = C(T_t) + \alpha |T_t|$$ä¸Šé¢ä¸¤ä¸ªå¼å­ä¸­çš„$C(t)$å’Œ$C(T_t)$éƒ½æ˜¯å¯æ±‚çš„ã€‚ å½“$\alpha=0$æˆ–è€…$\alpha$å……åˆ†å°æ—¶ï¼Œé¢„æµ‹è¯¯å·®å æŸå¤±å‡½æ•°çš„å¤§å¤´ï¼Œå•èŠ‚ç‚¹æ ‘çš„æŸå¤±è‚¯å®šæ¯”å¤šèŠ‚ç‚¹å­æ ‘é«˜ï¼Œ$C(t)&gt;C_\alpha(T_t)$ï¼›å½“$\alpha$å……åˆ†å¤§æ—¶ï¼Œæ¨¡åž‹å¤æ‚åº¦å æŸå¤±å‡½æ•°çš„å¤§å¤´ï¼Œå•èŠ‚ç‚¹æ ‘çš„æŸå¤±è‚¯å®šæ¯”å¤šèŠ‚ç‚¹æ ‘ä½Žï¼Œ$C(t)&lt;C_\alpha(T_t)$ã€‚å¦‚æžœå•èŠ‚ç‚¹æŸå¤±è¾ƒå¤§ï¼Œè¯´æ˜Žè¿˜æ˜¯ä¿ç•™$t$çš„å¶å­èŠ‚ç‚¹æ¯”è¾ƒå¥½ï¼Œå› ä¸ºæŸå¤±æ¯”è¾ƒå°ï¼Œæ­¤æ—¶ä¸å‰ªæžï¼›å¦‚æžœå•èŠ‚ç‚¹æ ‘çš„æŸå¤±è¾ƒå°ï¼Œè¯´æ˜Žåº”è¯¥å‰ªé™¤å†…éƒ¨èŠ‚ç‚¹$t$ã€‚ é‚£ä¹ˆåº”è¯¥å­˜åœ¨è¿™æ ·ä¸€ä¸ªä¸å¤§ä¸å°çš„$\alpha$ï¼Œä½¿å¾—å•èŠ‚ç‚¹æ ‘çš„æŸå¤±åˆšå¥½ç­‰äºŽå¤šèŠ‚ç‚¹æ ‘çš„æŸå¤±ï¼Œå³$C_\alpha(t)=C_\alpha(T_t)$ï¼Œè§£å¾—$$\alphaâ€™ = \frac{C_t - C(T_t)}{|T_t|-1}$$å¦‚æžœ$\alpha$çš„å€¼æ¯”è¿™ä¸ª$\alphaâ€™$å°ï¼Œå•èŠ‚ç‚¹æ ‘æŸå¤±æ›´å¤§ï¼Œæ„å‘³ç€ä¸èƒ½å‰ª$t$ï¼›å½“$\alpha$çš„å€¼æ¯”è¿™ä¸ª$\alpha â€˜$å¤§ï¼Œå•èŠ‚ç‚¹æ ‘æŸå¤±æ›´å°ï¼Œæ„å‘³ç€åº”è¯¥å‰ªé™¤$t$ã€‚æ ¹æ®å‰é¢çš„å™è¿°ï¼Œå­æ ‘$T_k$å¯¹åº”çš„$\alpha$åŒºé—´ä¸º$[\alpha_k, \alpha_{k+1})$ï¼Œå­æ ‘$T_k$å­˜åœ¨çš„å‰ä½“å°±æ˜¯ç›¸åº”å†…éƒ¨èŠ‚ç‚¹è¢«æ— æƒ…çš„å‰ªé™¤äº†ï¼Œæ‰€ä»¥$\alpha_k = \alphaâ€™$ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯¹æ•´æ ‘$T_0$çš„æ‰€æœ‰å†…éƒ¨èŠ‚ç‚¹æ±‚å…¶$\frac{C_t - C(T_t)}{|T_t|-1}$ï¼ŒæŒ‰$\alpha$ä»Žå°åˆ°å¤§ä¾æ¬¡å‰ªé™¤å¯¹åº”çš„èŠ‚ç‚¹å¾—åˆ°ç›¸åº”çš„å­æ ‘åºåˆ—${T_0,T_1,\cdots,T_n}$ã€‚ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†æŒ‰ç…§$\alpha$ä»Žå°åˆ°å¤§æŽ’åˆ—çš„å­æ ‘åºåˆ—ï¼ŒæŽ¥ä¸‹æ¥åœ¨ éªŒè¯æ•°æ®é›† ä¸Šè¿›è¡ŒéªŒè¯ï¼Œå–æŸå¤±æœ€å°çš„å­æ ‘å³å¯ã€‚]]></content>
      <categories>
        <category>ml</category>
      </categories>
      <tags>
        <tag>å†³ç­–æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žç”Ÿæˆå™¨åˆ°åç¨‹]]></title>
    <url>%2Fspider%2F20191120-1aaa.html</url>
    <content type="text"><![CDATA[å¯è¿­ä»£å¯¹è±¡å’Œè¿­ä»£å™¨å¯è¿­ä»£å¯¹è±¡ï¼ˆIterableï¼‰æŒ‡çš„æ˜¯èƒ½å¤Ÿä½¿ç”¨forå¾ªçŽ¯è¿›è¡ŒéåŽ†çš„å¯¹è±¡ï¼Œå¦‚å­—ç¬¦ä¸²ã€æ•°ç»„ã€è¿­ä»£å™¨ã€ç”Ÿæˆå™¨ç­‰ã€‚ å¯è¿­ä»£å¯¹è±¡å®žçŽ°äº†__iter__()æ–¹æ³•ã€‚ è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯è¿­ä»£å¯¹è±¡ï¼Œå®žçŽ°äº†__next__()æ–¹æ³•ã€‚ åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡objæ˜¯å¦æ˜¯å¯è¿­ä»£å¯¹è±¡/è¿­ä»£å™¨:1234from collections import Iterable, Iteratorisinstance(obj, Iterable)isinstance(obj, Iterator) iter()å‡½æ•°ç§°ä¹‹ä¸ºè¿­ä»£å™¨å·¥åŽ‚å‡½æ•°ï¼Œå®ƒèƒ½å°†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡è½¬åŒ–ä¸ºè¿­ä»£å™¨ï¼Œé€šè¿‡ç»™éžè¿­ä»£å™¨çš„å¯è¿­ä»£å¯¹è±¡æ·»åŠ __next__()æ–¹æ³•ï¼Œå®žçŽ°å·¥åŽ‚å¼çš„åŠ å·¥å’ŒåŒ…è£…åŠŸèƒ½ã€‚123456x = [1, 2, 3, 4, 5]print(isinstance(x, Iterable)) # Trueprint(isinstance(x, Iterator)) # Falsex_iter = iter(x)print(isinstance(x_iter, Iterable)) # Trueprint(isinstance(x_iter, Iterator)) # True ç”Ÿæˆå™¨ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰æœ¬è´¨ä¸Šè¿˜æ˜¯è¿­ä»£å™¨ï¼Œå› æ­¤è¿­ä»£å™¨çš„æ‰€æœ‰ç‰¹æ€§éƒ½é€‚åˆäºŽç”Ÿæˆå™¨ã€‚ä»–ä»¬çš„åŒºåˆ«åœ¨äºŽå®žçŽ°æ–¹å¼ä¸åŒï¼šå®žçŽ°ä¸€ä¸ªè¿­ä»£å™¨å¾€å¾€éœ€è¦å®šä¹‰ä¸€ä¸ªç±»å¹¶ä¸”å®žçŽ°å…¶__iter__()æ–¹æ³•å’Œ__next__()æ–¹æ³•ï¼›å®žçŽ°ä¸€ä¸ªç”Ÿæˆå™¨åªéœ€è¦åœ¨å‡½æ•°ä¸­ä½¿ç”¨yieldå…³é”®å­—ã€‚åŽè€…çš„å®žçŽ°æ–¹å¼æ›´åŠ ç®€æ´ï¼Œæ€§èƒ½ä¸Žè¿­ä»£å™¨ä¸€æ ·é«˜æ•ˆã€‚ pythonä¸­çš„ç”Ÿæˆå™¨æœ‰ä¸¤ç§åŸºæœ¬å®žçŽ°æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡yieldå…³é”®å­—å®žçŽ°ï¼Œä¸€ç§å«åšç”Ÿæˆå™¨è¡¨è¾¾å¼ã€‚ç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸Žåˆ—è¡¨æŽ¨å¯¼å¼ååˆ†ç›¸ä¼¼ï¼Œåªéœ€æŠŠ[...]æ¢æˆ(...)å³å¯ã€‚åœ¨å¤§æ•°æ®çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œåˆ—è¡¨æŽ¨å¯¼å¼å°†ä¼šè€—è´¹å¤§é‡çš„æ—¶é—´å’Œç©ºé—´ï¼Œæ­¤æ—¶é€‰æ‹©ç”Ÿæˆå™¨è¡¨è¾¾å¼æ€§èƒ½å°†ä¼šå¾—åˆ°æ˜¾è‘—çš„æå‡ã€‚åªæ˜¯ç®€ç®€å•å•åœ°æ”¹å˜ä¸€ä¸ªæ‹¬å·ï¼Œç¨‹åºè¿è¡Œçš„é€Ÿåº¦å°±èƒ½è‚‰çœ¼å¯è§çš„å˜å¿«ï¼123456from collections import Generatorl = [x**3 for x in range(100)] # åˆ—è¡¨æŽ¨å¯¼å¼isinstance(l, list) # Trueg = (x**3 for x in range(100)) # ç”Ÿæˆå™¨è¡¨è¾¾å¼isinstance(g, Generator) # True å¦å¤–ä¸€ç§å®žçŽ°ç”Ÿæˆå™¨çš„æ–¹æ³•æ˜¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨yieldå…³é”®å­—ã€‚å½“å‡½æ•°æ‰§è¡Œåˆ°yieldæ—¶ä¼šè¿”å›žyieldæŒ‡å®šçš„å€¼ï¼ŒåŒæ—¶å°†å‡½æ•°æŒ‚èµ·ï¼Œè¿™ç‚¹åŒreturnä¸ä¸€æ ·ï¼šreturnè¿”å›žæŒ‡å®šçš„å€¼æ—¶æ„å‘³ç€å‡½æ•°è°ƒç”¨ç»“æŸã€‚å½“å†æ¬¡è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œä¸ä¼šä»Žå¤´æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šæŽ¥ç€ä¸Šæ¬¡æŒ‚èµ·æ—¶çš„çŠ¶æ€æŽ¥ç€æ‰§è¡Œã€‚ yieldå…³é”®å­—ä¸ä»…èƒ½è¿”å›žæ•°æ®ï¼Œä¹Ÿèƒ½ä»Žå¤–ç•ŒæŽ¥æ”¶æ•°æ®ï¼ŒæŽ¥æ”¶æ•°æ®é€šè¿‡.send(...)æ–¹æ³•å®žçŽ°ã€‚next()å‡½æ•°å’Œ.send()æ–¹æ³•éƒ½èƒ½å¤Ÿæ¿€æ´»ç”Ÿæˆå™¨å‡½æ•°ç»§ç»­è¿è¡Œç›´åˆ°ä¸‹ä¸€æ¬¡é‡åˆ°yieldæŒ‚èµ·ï¼Œä¸åŒçš„æ˜¯ï¼Œ.send()æ–¹æ³•è¿˜èƒ½å¤Ÿå‘ç”Ÿæˆå™¨å‡½æ•°ä¼ é€’å€¼ã€‚çœ‹ä¸‹é¢è¿™ä¸ªç”Ÿç¡¬çš„ä¾‹å­ï¼š ä½¿ç”¨next(g)ä½¿ç”Ÿæˆå™¨è¿è¡Œè‡³yieldå¤„ï¼Œå‡½æ•°ç­‰å¾…å¤–ç•Œä¼ å€¼ç»™å±€éƒ¨å˜é‡xå¹¶æŒ‚èµ·ï¼Œæ­¤æ—¶å†ä½¿ç”¨g.send(3)å°†3ä¼ é€’ç»™xï¼Œå‡½æ•°è¢«æ¿€æ´»ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œè®¡ç®—yç­‰äºŽ8ï¼Œæ­¤æ—¶é‡åˆ°ç¬¬äºŒä¸ªyieldï¼Œå‡½æ•°è¿”å›žyçš„å€¼å¹¶æŒ‚èµ·ï¼Œæ‰€ä»¥g.send(3)çš„è¿”å›žç»“æžœä¸º8ã€‚ å¦‚æžœå†æ¬¡æ‰§è¡Œg.send(4)ä¼šå‘çŽ°è¿”å›žç»“æžœä¸ºç©ºï¼è¿™æ˜¯å› ä¸ºï¼š.send()æ–¹æ³•æ¿€æ´»å¯ç”Ÿæˆå™¨å‡½æ•°å¹¶ä»Žä¸Šæ¬¡æŒ‚èµ·çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œï¼ˆyield yï¼‰ï¼Œæ‰§è¡Œè‡³x = yieldç­‰å¾…å¤–ç•Œä¼ å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æœ¬æ¬¡.sendå‘é€çš„æ¶ˆæ¯ï¼Œç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨æ²¡æœ‰å˜é‡æŽ¥æ”¶ï¼Œç›¸å½“äºŽä¸€æ¬¡æ— æ•ˆçš„æ¶ˆæ¯å‘é€ï¼Œæ•…è€Œæ²¡æœ‰è¿”å›žå€¼ã€‚å¦‚æžœå†æ¬¡æ‰§è¡Œg.send(4)ï¼Œè¿”å›žç»“æžœæ˜¾ç¤ºä¸º16ï¼Œè¿™ä¸Žä¸Šè¿°g.send(3)çš„æƒ…æ™¯ç›¸ä¼¼ã€‚ é€šè¿‡yieldå…³é”®å­—å’Œ.sendæ–¹æ³•ï¼Œç”¨æˆ·å¯ä»¥éšæ—¶ä¸­æ–­ä¸€ä¸ªå‡½æ•°æ‰§è¡Œè½¬è€Œæ‰§è¡Œå¦ä¸€ä¸ªå‡½æ•°ï¼Œç›¸å½“äºŽæ‰‹åŠ¨ä»Žä¸€ä¸ªå­ç¨‹åºçš„æ‰§è¡Œåˆ‡æ¢åˆ°äº†å¦ä¸€ä¸ªå­ç¨‹åºçš„æ‰§è¡Œã€‚åœ¨è¿™ç§å­ç¨‹åºçš„åˆ‡æ¢è¿‡ç¨‹ä¸­æ²¡æœ‰æ¶‰åŠåˆ°çº¿ç¨‹çš„åˆ‡æ¢ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå­ç¨‹åºå’Œå®ƒè¢«æ‰§è¡Œä»¥åŠè¢«æŒ‚èµ·æ—¶çš„çŠ¶æ€ç§°ä¹‹ä¸ºä¸€ä¸ªåç¨‹ï¼ˆCoroutineï¼‰ã€‚]]></content>
      <categories>
        <category>spider</category>
      </categories>
      <tags>
        <tag>è¿­ä»£å™¨ä¸Žç”Ÿæˆå™¨</tag>
        <tag>å¼‚æ­¥åç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼€å¯æ¬ç“¦å·¥VPSçš„IPv6æœåŠ¡]]></title>
    <url>%2Fit%2F20191119-a377.html</url>
    <content type="text"><![CDATA[æ¬ç“¦å·¥ä¸Šèƒ½ä¹°åˆ°å¸¦IPv6çš„æœåŠ¡å™¨ã€‚æ­¤æœåŠ¡å™¨ä½äºŽLOS ANGELESï¼ŒIPv4åœ°å€æ˜¯xxx.xxx.xxx.xxxã€‚å¦‚ä¸‹ æ³¨å†Œå¹¶ç™»é™†tunnelbrokerï¼Œå¦‚ä¸‹ ç‚¹å‡»Create Regular Tunnelï¼Œåœ¨2å¤„è¾“å…¥æœåŠ¡å™¨çš„IPv4åœ°å€ï¼Œç¡®å®šåŽè‡ªåŠ¨æ£€æŸ¥è¯¥IPæ˜¯å¦æ”¯æŒIPv6ã€‚ å¦‚æžœ3å¤„å˜ä¸ºç»¿è‰²å¹¶æ˜¾ç¤ºâ€IP is apotential tunnel endpointâ€è¡¨ç¤ºè¯¥IPæ”¯æŒIPv6æœåŠ¡ã€‚ åœ¨4å¤„é€‰æ‹©æœåŠ¡å™¨æ‰€åœ¨çš„åœ°åŒºã€‚ ç‚¹å‡»é¡µé¢åº•éƒ¨çš„ç¡®è®¤ã€‚ ç‚¹å‡»Example Configurationsï¼Œåœ¨1å¤„é€‰æ‹©æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿï¼ˆæœ¬æœåŠ¡å™¨æ“ä½œç³»ç»Ÿæ˜¯Ubuntu16.04ï¼Œé€‰æ‹©â€Linux-net-toolsâ€ï¼‰ï¼Œç¡®è®¤åŽåœ¨2å¤„ä¼šæ˜¾ç¤ºç›¸å…³å‘½ä»¤ã€‚ æ‰“å¼€æœåŠ¡å™¨ç»ˆç«¯ï¼Œä¾æ¬¡æ‰§è¡Œä¸Šè¿°å‘½ä»¤ã€‚ è¾“å…¥ping6 google.comæ£€æŸ¥IPv6æ˜¯å¦å¯ç”¨ã€‚]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å†³ç­–æ ‘ - ID3å’ŒC4.5]]></title>
    <url>%2Fml%2F20191117-62c1.html</url>
    <content type="text"><![CDATA[å†³ç­–æ ‘å­¦ä¹ é€šå¸¸åŒ…å«ä¸‰ä¸ªæ­¥éª¤ï¼šç‰¹å¾é€‰æ‹©ã€å†³ç­–æ ‘çš„ç”Ÿæˆã€å†³ç­–æ ‘çš„ä¿®å‰ªã€‚ å†³ç­–æ ‘å­¦ä¹ çš„æ€æƒ³ä¸»è¦æ¥æºäºŽï¼š ç”±Quinlanæå‡ºçš„ID3ç®—æ³•å’ŒC4.5ç®—æ³• ç”±Breimanç­‰äººæå‡ºçš„CARTç®—æ³• å†³ç­–æ ‘æ¨¡åž‹ä¸Žå­¦ä¹ å†³ç­–æ ‘æ¨¡åž‹å†³ç­–æ ‘ç”±èŠ‚ç‚¹ï¼ˆnodeï¼‰å’Œæœ‰å‘è¾¹ï¼ˆdirected edgeï¼‰ç»„æˆã€‚ èŠ‚ç‚¹åˆ†ä¸ºå†…éƒ¨èŠ‚ç‚¹ï¼ˆè¡¨ç¤ºç‰¹å¾/å±žæ€§ï¼‰å’Œå¶å­èŠ‚ç‚¹ï¼ˆè¡¨ç¤ºåˆ†ç±»ï¼‰ã€‚ &gt; å†³ç­–æ ‘ä¸Žif-thenè§„åˆ™ ä»Žæ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹å¯¹åº”ä¸€æ¡è·¯å¾„ï¼Œäº¦å³ä¸€æ¡è§„åˆ™ï¼Œä¸åŒè§„åˆ™é—´äº’æ–¥ï¼Œæ‰€æœ‰è§„åˆ™ç»„æˆå…¨ä½“ï¼Œå³äº’æ–¥å®Œå¤‡æ€§ã€‚ &gt; å†³ç­–æ ‘ä¸Žæ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒ ç»™å®šç‰¹å¾æ¡ä»¶ä¸‹ç±»çš„æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒã€‚ å†³ç­–æ ‘åˆ†ç±»æ—¶å¼ºè¡Œå°†æ ·æœ¬åˆ†åˆ°æ¡ä»¶æ¦‚çŽ‡æœ€å¤§çš„é‚£ä¸€ç±»ä¸­åŽ»ã€‚ å†³ç­–æ ‘å­¦ä¹ ç»™å®šè®­ç»ƒæ•°æ®é›†$$D = { (x_1, y_1),(x_2,y_2), \cdots, (x_N,y_N) }$$å…¶ä¸­ $x_i=(x_i^{(1)},x_i^{(2)},\cdots,x_i^{(n)})^T$ä¸ºè¾“å…¥å‘é‡ï¼ˆç‰¹å¾å‘é‡ï¼‰ï¼Œ$n$ä¸ºæ ·æœ¬çš„ç‰¹å¾ç»´åº¦ $y_i \in { 1,2,\cdots,K }$ä¸ºæ¯ä¸ªæ ·æœ¬çš„ç±»æ ‡è®°ï¼Œ$K$ä¸ºæ€»ç±»æ•° $i=1,2,\cdots,N$ï¼Œ$N$ä¸ºæ ·æœ¬å®¹é‡ ä¸Žè®­ç»ƒæ•°æ®é›†ä¸çŸ›ç›¾çš„å†³ç­–æ ‘å¯èƒ½æœ‰å¤šä¸ªï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ï¼›æˆ‘ä»¬éœ€è¦æ±‚çŸ›ç›¾æœ€å°ã€å¯¹æµ‹è¯•é›†æ³›åŒ–èƒ½åŠ›è¾ƒé«˜çš„é‚£ä¸ªå†³ç­–æ ‘ã€‚ ç‰¹å¾é€‰æ‹©ç»å…¸çš„ç‰¹å¾é€‰æ‹©å‡†åˆ™æœ‰ä¸¤ä¸ªï¼šä¿¡æ¯å¢žç›Šï¼Œä¿¡æ¯å¢žç›Šæ¯”ã€‚ ä¿¡æ¯å¢žç›Šç†µ&amp;ç»éªŒç†µåœ¨ä¿¡æ¯è®ºå’Œæ¦‚çŽ‡ç»Ÿè®¡ä¸­ï¼Œç†µï¼ˆEntropyï¼‰æ˜¯éšæœºå˜é‡ä¸ç¡®å®šæ€§çš„åº¦é‡ã€‚ è®¾$X$æ˜¯æœ‰é™å–å€¼çš„ç¦»æ•£åž‹éšæœºå˜é‡ï¼Œå…¶æ¦‚çŽ‡åˆ†å¸ƒä¸º$$P(X=x_i)=p_i \text{, $i=1,2,\cdots,n$}$$éšæœºå˜é‡$X$çš„ç†µä¸º$$H(X)=-\sum_{i=1}^N p_i \log p_i \text{, ç‰¹åˆ«çš„ $0 \log 0 = 0$}$$ç”±ç†µçš„å®šä¹‰å¯çŸ¥ï¼Œéšæœºå˜é‡çš„ç†µï¼ˆä¸ç¡®å®šæ€§ï¼‰ä¸Žéšæœºå˜é‡çš„å–å€¼æ— å…³ã€‚è¿™å…¶å®žä¸éš¾ç†è§£ï¼šç¡®å®šæ€§å˜é‡æ˜¯éšæœºæ€§å˜é‡çš„ä¸€ç§ç‰¹ä¾‹ï¼Œå¯¹äºŽç¡®å®šæ€§å˜é‡å–å€¼1è¿˜æ˜¯1000å®ƒä»¬çš„ä¸ç¡®å®šæ€§åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¸º0ã€‚ ç†µçš„å•ä½ï¼šbitï¼ˆå½“å¯¹æ•°åº•ä¸º2æ—¶ï¼‰æˆ–è€…natï¼ˆå½“å¯¹æ•°åº•ä¸º$e$æ—¶ï¼‰ã€‚ å½“éšæœºå˜é‡$X$å®Œå…¨ç¡®å®šï¼ˆ$P(X=x_k)=1$ä¸”$P(X=x_{\text{else}})=0$ï¼‰æˆ–è€…å®Œå…¨ä¸ç¡®å®šï¼ˆ$P(X=x_{\text{any}})=1/n$ï¼‰æ—¶ï¼Œ$H(X)$å–å¾—æœ€å°å€¼ï¼ˆ0ï¼‰æˆ–è€…æœ€å¤§å€¼ï¼ˆ$\log n$ï¼‰ã€‚ å½“éšæœºå˜é‡åªå–0ã€1æ—¶$$H(p) = -p \log_2 p - (1-p) \log_2 (1-p)$$ å¦‚æžœæ­¤éšæœºå˜é‡çš„ç†µå€¼é€šè¿‡æžå¤§ä¼¼ç„¶ä¼°è®¡å¾—åˆ°ï¼Œç§°ä¹‹ä¸ºç»éªŒç†µã€‚ æ¡ä»¶ç†µ&amp;ç»éªŒæ¡ä»¶ç†µæ¡ä»¶ç†µï¼ˆConditional Entropyï¼‰ è®¾éšæœºå˜é‡$X$å’Œ$Y$çš„è”åˆåˆ†å¸ƒä¸º$$P(X=x_i, Y=y_j) = p_{ij}, i=1,2,\cdots,n;j=1,2,\cdots,m$$æ¡ä»¶ç†µ$H(Y|X)$è¡¨ç¤ºå·²çŸ¥éšæœºå˜é‡$X$çš„æ¡ä»¶ä¸‹éšæœºå˜é‡$Y$çš„ä¸ç¡®å®šæ€§$$H(Y|X) = \sum_{i=1}^n [ P(X=x_i) \cdot H(Y|X=x_i) ]$$å¦‚æžœéšæœºå˜é‡$X$å’Œ$Y$ç‹¬ç«‹ï¼Œåˆ™$H(Y|X=x_i)=H(Y)$ï¼Œæ­¤æ—¶æ¡ä»¶ç†µ$$H(Y|X) = \sum_{i=1}^n [ P(X=x_i) \cdot H(Y) ] = H(Y)$$å¦‚æžœéšæœºå˜é‡$Y$çš„æ¡ä»¶ç†µé€šè¿‡æžå¤§ä¼¼ç„¶ä¼°è®¡å¾—åˆ°ï¼Œç§°ä¹‹ä¸ºç»éªŒæ¡ä»¶ç†µã€‚ ç»éªŒä¹‹æ„ï¼Œå³ä»Žè§‚å¯Ÿæ•°æ®ä¸­è¿›è¡ŒæŽ¨æ–­ã€‚ æˆ‘ä»¬å°†éšæœºå˜é‡Yçš„ç†µä¸Žå·²çŸ¥Xæ¡ä»¶ä¸‹Yçš„æ¡ä»¶ç†µçš„å·®ç§°ä¹‹ä¸ºäº’ä¿¡æ¯ï¼ˆMutual Informationï¼‰ã€‚ ä¿¡æ¯å¢žç›Šä¿¡æ¯å¢žç›Šï¼ˆInformation Gainï¼‰æŒ‡ï¼Œå½“å¾—çŸ¥ç‰¹å¾$X$çš„ä¿¡æ¯æ—¶ï¼Œç±»$Y$ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦ã€‚ ç‰¹å¾Aå¯¹è®­ç»ƒæ•°æ®é›†Dçš„ä¿¡æ¯å¢žç›Šä¸º$$g(D,A) = H(D) - H(D|A)$$å†³ç­–æ ‘ä¸­ä¿¡æ¯å¢žç›Šçš„æ¦‚å¿µå°±ç›¸å½“äºŽè®­ç»ƒæ•°æ®é›†ä¸­ç±»ä¸Žç‰¹å¾çš„äº’ä¿¡æ¯ã€‚ è®­ç»ƒæ•°æ®é›†ä¸­ä¸åŒçš„ç‰¹å¾å…·æœ‰ä¸åŒçš„ä¿¡æ¯å¢žç›Šï¼Œä¿¡æ¯å¢žç›Šè¾ƒå¤§çš„ç‰¹å¾å…·æœ‰æ›´å¼ºçš„åˆ†ç±»èƒ½åŠ›ã€‚ è®¡ç®—ä¿¡æ¯å¢žç›Šä¸¾ä¾‹ï¼š ç±»åˆ«çš„å…ˆéªŒåˆ†å¸ƒï¼š$P(Y=æ˜¯)=9/15=3/5$, $P(Y=å¦)=9/15=2/5$ ç±»åˆ«çš„ç†µï¼š$H(Y)=-3/5\log3/5-2/5\log2/5 = 0.971$ è¯¥è®­ç»ƒæ•°æ®é›†æœ‰4ä¸ªç‰¹å¾ï¼šå¹´é¾„ã€æœ‰å·¥ä½œã€æœ‰è‡ªå·±çš„æˆ¿å­ã€ä¿¡è´·æƒ…å†µï¼Œåˆ†åˆ«ç”¨Aã€Bã€Cã€Dè¡¨ç¤ºã€‚ ä»¥å¹´é¾„ä¸ºä¾‹è®¡ç®—å…¶å¯¹è®­ç»ƒæ•°æ®é›†çš„ä¿¡æ¯å¢žç›Šï¼š éšæœºå˜é‡å–å€¼æ•°å€¼åŒ–ï¼ˆæœ‰åºåˆ†ç±»ï¼‰ï¼šé’å¹´ $\to$ 1, ä¸­å¹´ $\to$ 2ï¼Œè€å¹´ $\to$ 3 å¹´é¾„çš„å…ˆéªŒåˆ†å¸ƒ: $P(A=1)=P(A=2)=P(A=3)=1/3$ è®­ç»ƒæ•°æ®é›†Dåœ¨å¹´é¾„Aå·²çŸ¥æ—¶çš„æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒï¼š$$\begin{split}P(Y=0|A=1)=3/5, P(Y=1|A=1)=2/5 \\P(Y=0|A=2)=2/5, P(Y=1|A=2)=3/5 \\P(Y=0|A=3)=1/5, P(Y=1|A=3)=4/5\end{split}$$æ­¤æ—¶$$\begin{split}H(Y|A=1) &amp;= - 3/5 \log_2 3/5 - 2/5 \log_2 2/5 = 0.9709506 \\H(Y|A=2) &amp;= - 2/5 \log_2 2/5 - 3/5 \log_2 3/5 = 0.9709506 \\H(Y|A=3) &amp;= - 1/5 \log_2 1/5 - 4/5 \log_2 4/5 = 0.7219281\end{split}$$ è®­ç»ƒæ•°æ®é›†Dåœ¨å¹´é¾„Aå·²çŸ¥æ—¶çš„æ¡ä»¶ç†µï¼š$$\begin{split}H(Y|A) &amp;= P(A=1)H(Y|A=1) + P(A=2)H(Y|A=2) + P(A=3)H(Y|A=3) \\&amp;= 1/3 \times 0.9709506 + 1/3 \times 0.9709506 + 1/3 \times 0.7219281 \\&amp;= 0.8879431 \\\end{split}$$ ä¿¡æ¯å¢žç›Š $$ \begin{split} g(Y,A) &amp;= H(Y) - H(Y|A) \\ &amp;= 0.971 - 0.8879431 \\ &amp;= 0.083 \end{split} $$ åŒç†å¾— $$ \begin{split} g(Y,B) &amp;= 0.324 \\ g(Y,C) &amp;= 0.420 \\ g(Y,D) &amp;= 0.363 \end{split} $$ ç»è¿‡æ¯”è¾ƒï¼Œç‰¹å¾Cï¼ˆæœ‰è‡ªå·±çš„æˆ¿å­ï¼‰å¯¹è®­ç»ƒæ•°æ®é›†çš„ä¿¡æ¯å¢žç›Šæœ€å¤§ï¼Œæ‰€ä»¥é€‰æ‹©ç‰¹å¾Cä½œä¸ºæœ€ä¼˜çš„åˆ†ç±»ç‰¹å¾ã€‚ ä¿¡æ¯å¢žç›Šæ¯”ä¿¡æ¯å¢žç›Šçš„åå‘æ€§æ ¹æ®ä¿¡æ¯å¢žç›Šçš„å®šä¹‰$H(D,A)=H(D)-H(D|A)$ï¼Œå¦‚æžœæ•°æ®é›†Dä¸­æŸä¸ªç‰¹å¾Açš„é‡‡æ ·å€¼ä¸ºæ’å®šå¸¸æ•°ï¼Œé‚£ä¹ˆ$H(D|A)=0$ï¼Œå³$H(D,A)=H(D)$ï¼Œæ­¤æ—¶ç‰¹å¾Aå¯¹æ•°æ®é›†Dçš„ä¿¡æ¯å¢žç›Šè¾¾åˆ°æœ€å¤§å€¼â€”â€”Dçš„ç†µå€¼ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é€‰æ‹©ç‰¹å¾Aä½œä¸ºæœ€ä¼˜åˆ’åˆ†ç‰¹å¾å—ï¼Ÿæ˜¾ç„¶ä¸ã€‚è¿™æ˜¯ä¿¡æ¯å¢žç›Šåœ¨æè¿°é‡‡æ ·å€¼ä¸ºå¸¸æ•°çš„ç‰¹å¾æ—¶çš„å¼Šç«¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¿¡æ¯å¢žç›Šåœ¨è®¡ç®—è¿žç»­åž‹éšæœºå˜é‡æ—¶ä¹Ÿä¼šé‡åˆ°ä¸å°çš„é—®é¢˜ã€‚ æ‰€ä»¥ä¿¡æ¯å¢žç›Šé€‚åˆäºŽè®¡ç®—ç¦»æ•£ç‰¹å¾ï¼Œå¹¶ä¸”è¯¥éšæœºå˜é‡å–å€¼çš„é‡‡æ ·æ•°ä¸å®œè¿‡å°‘ã€‚ ä¿¡æ¯å¢žç›Šçš„ç›¸å¯¹æ€§æ‰€è°“çš„ä¿¡æ¯å¢žç›Šï¼Œå­—é¢æ„æ€å°±æ˜¯ç¡®å®šæ€§çš„å¢žåŠ é‡ï¼Œè¿™ä¸ªç¡®å®šæ€§çš„å¢žåŠ æ˜¯ç›¸å¯¹æ•°æ®é›†Dçš„ç†µçš„ï¼Œè¿™æ„å‘³ç€ï¼ŒDçš„ç†µè¶Šå¤§ï¼Œä¿¡æ¯å¢žç›Šå°±å¯èƒ½è¶Šå¤§ï¼›åä¹‹è¶Šå°ã€‚ ä¿¡æ¯å¢žç›Šæ¯”çš„å®šä¹‰äºŽæ˜¯ï¼Œæˆ‘ä»¬å°†ä¿¡æ¯å¢žç›Šé™¤ä»¥æ•°æ®é›†çš„ç†µï¼Œç”¨ç›¸å¯¹çš„ç¡®å®šæ€§å¢žé‡æ¥æè¿°æœ€ä¼˜åˆ†ç±»ç‰¹å¾ï¼š$$g_R(D,A) = \frac{g(D,A)}{H(D)} = \frac{H(D)-H(D|A)}{H(D)} = 1 - \frac{H(D|A)}{H(D)}$$ å†³ç­–æ ‘çš„ç”Ÿæˆå†³ç­–æ ‘å­¦ä¹ çš„ä¸¤ä¸ªç»å…¸ç®—æ³•ï¼šID3ç®—æ³•ã€C4.5ç®—æ³•ã€‚ ç”Ÿæˆç®—æ³•åªèƒ½ç”¨æ¥ç”Ÿæˆæ ‘ï¼Œååˆ†å®¹æ˜“è¿‡æ‹Ÿåˆã€‚ ç”Ÿæˆçš„æ ‘éœ€è¦è¿›è¡Œå‰ªæžï¼ŒåŽ»æ‹Ÿåˆã€‚ ID3ç®—æ³•ç®—æ³•æ ¸å¿ƒæ˜¯åœ¨å†³ç­–æ ‘çš„å„ä¸ªèŠ‚ç‚¹åº”ç”¨ä¿¡æ¯å¢žç›Šçš„å‡†åˆ™é€‰æ‹©ç‰¹å¾ã€‚ æ ¹æ®ä¿¡æ¯å¢žç›Šé€‰æ‹©ç‰¹å¾çš„æ–¹æ³•è¿˜æ˜¯å±žäºŽæžå¤§ä¼¼ç„¶ã€‚ &gt; ID3ç®—æ³• 123456789101112131415CONST ä¿¡æ¯å¢žç›Šé˜ˆå€¼DEF ID3ç®—æ³•(æ•°æ®é›†D, ç‰¹å¾é›†åˆA): IF Dä¸­æ‰€æœ‰æ ·æœ¬å±žäºŽåŒä¸€ç±»C: Tä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œå°†Cä½œä¸ºè¯¥èŠ‚ç‚¹çš„ç±»æ ‡è®°ï¼Œè¿”å›žT ELSE IF Aä¸ºç©ºï¼š Tä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œå°†Dä¸­æ ·æœ¬æ•°æœ€å¤šçš„é‚£ä¸ªç±»ä½œä¸ºè¯¥èŠ‚ç‚¹çš„ç±»æ ‡è®°ï¼Œè¿”å›žT ELSE: è®¡ç®—ç‰¹å¾é›†åˆAä¸­å„ä¸ªç‰¹å¾å¯¹æ•°æ®é›†Dçš„ä¿¡æ¯å¢žç›Šï¼Œç¡®å®šä¿¡æ¯å¢žç›Šæœ€å¤§çš„ç‰¹å¾Ag IF Ag &lt; ä¿¡æ¯å¢žç›Šé˜ˆå€¼: Tä¸ºå•èŠ‚ç‚¹æ ‘ï¼Œå°†Dä¸­æ ·æœ¬æ•°æœ€å¤šçš„é‚£ä¸ªç±»ä½œä¸ºè¯¥èŠ‚ç‚¹çš„ç±»æ ‡è®°ï¼Œè¿”å›žT ELSE: FOR é‡‡æ ·å€¼v IN ç‰¹å¾Agä¸­çš„æ‰€æœ‰é‡‡æ ·å€¼çš„é›†åˆ: ä»Žæ•°æ®é›†Dä¸­åˆ’åˆ†å‡ºç‰¹å¾Agå€¼ä¸ºvçš„å­é›†Dv Tçš„ä¸€ä¸ªå­èŠ‚ç‚¹ = é€’å½’è°ƒç”¨ ID3ç®—æ³•(æ•°æ®é›†Dv, ç‰¹å¾é›†åˆ&#123;A-Ag&#125;) è¿”å›žT C4.5ç®—æ³•å°†ID3ç®—æ³•ä¸­çš„ ä¿¡æ¯å¢žç›Š æ›¿æ¢ä¸º ä¿¡æ¯å¢žç›Šæ¯” å³å¯ã€‚ ä¸ºä»€ä¹ˆå«åšC4.5ç®—æ³•è€Œä¸å«ID4ç®—æ³•å‘¢ï¼Ÿæ®è¯´ä½œè€…å‘è¡¨å®ŒID3ç®—æ³•åŽæ­¤é¢†åŸŸè¿‡äºŽç«çˆ†å¯¼è‡´ID4ã€ID5ç­‰åå­—æœ‰äººç”¨äº†ã€‚ å†³ç­–æ ‘çš„å‰ªæžå‰é¢æåˆ°ï¼Œå†³ç­–æ ‘çš„ç”Ÿæˆç®—æ³•å€¾å‘äºŽæ‹Ÿåˆè®­ç»ƒæ•°æ®ï¼Œæžæ˜“å‡ºçŽ°è¿‡æ‹Ÿåˆã€‚ å‰ªæžï¼ˆPruningï¼‰ å³è€ƒè™‘æ¨¡åž‹çš„å¤æ‚åº¦ï¼Œå¯¹ç”Ÿæˆçš„æ ‘è¿›è¡Œç®€åŒ–ã€‚ å‰ªæž é€šè¿‡æžå°åŒ– æŸå¤±å‡½æ•° å®žçŽ°ã€‚ &gt; å‰ªæžåŽŸç† å‡è®¾ï¼šæ ‘$T$çš„å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°ä¸º$|T|$ï¼Œ$t$æ˜¯æ ‘$T$çš„ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œè¯¥å¶å­èŠ‚ç‚¹æœ‰$N_t$ä¸ªæ ·æœ¬ç‚¹ï¼Œå…¶ä¸­å±žäºŽç¬¬$k$ç±»çš„æ ·æœ¬ç‚¹æœ‰$N_{tk}$ä¸ªã€‚ åˆ™ï¼Œå¶å­èŠ‚ç‚¹$t$çš„ç»éªŒç†µä¸º$$H_t(T) = - \sum_{k=1}^K \frac{N_{tk}}{N_t} \log \frac{N_{tk}}{N_t}$$å†³ç­–æ ‘å­¦ä¹ çš„æŸå¤±å‡½æ•°ä¸º$$L_\alpha(T) = \sum_{t=1}^{|T|} N_t H_t(T) + \alpha |T|$$æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„æ ·æœ¬æ•°è¶Šå°‘ã€ç»éªŒç†µè¶Šå°ï¼ŒåŒæ—¶æ€»å¶å­èŠ‚ç‚¹æ•°è¶Šå°‘ï¼ŒæŸå¤±è¶Šå°ã€‚ è¿™é‡ŒæŸå¤±å‡½æ•°ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š å†³ç­–æ ‘æ¨¡åž‹å¯¹æ•°æ®é›†çš„é¢„æµ‹è¯¯å·® $$L(T) = \sum_{t=1}^{|T|} N_t H_t(T) = - \sum_{t=1}^{|T|} \sum_{k=1}^K N_{tk} \log \frac{N_{tk}}{N_t}$$ å†³ç­–æ ‘æ¨¡åž‹çš„æ¨¡åž‹å¤æ‚åº¦ $$C(T) = |T|$$ å‰ªæžçš„å…·ä½“å®žçŽ°å¦‚ä¸‹ï¼š å‰ªæžå‰çš„å¶å­èŠ‚ç‚¹é›†åˆä¸º{A,B,C,D}ï¼Œè®¡ç®—å…¶æŸå¤±å‡½æ•°$L_1$ å‰ªæžåŽçš„å¶å­èŠ‚ç‚¹é›†åˆä¸º{E,C,D}ï¼Œè®¡ç®—å…¶æŸå¤±å‡½æ•°$L_2$ å› ä¸º$L_2 &lt; L_1$ï¼Œæ‰€ä»¥æˆ‘ä»¬å‰ªæŽ‰ä»¥Eä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ï¼ŒEçš„ ç±»åˆ« æ ‡è®°ä¸ºæ ·æœ¬æ•°æœ€å¤šçš„é‚£ä¸€ä¸ªã€‚ å‚è€ƒæ–‡çŒ® CARTç®—æ³•è§&lt; http://localhost:4002/ml/20191122-edcd.html &gt;]]></content>
      <categories>
        <category>ml</category>
      </categories>
      <tags>
        <tag>å†³ç­–æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Rè¯»å–å†…å®¹ä¸ºç©ºçš„æ–‡ä»¶æŠ¥é”™æ€Žä¹ˆåŠžï¼Ÿ]]></title>
    <url>%2FR%2F20191112-e00c.html</url>
    <content type="text"><![CDATA[ä¸€èˆ¬æˆ‘ä»¬ç”¨Rå¤„ç†çš„å¤šåŠéƒ½æ˜¯è¡¨æ ¼æ–‡ä»¶ï¼Œä½†æ˜¯å½“æ–‡ä»¶å†…å®¹ä¸ºç©ºæ—¶ï¼ˆå‡†ç¡®çš„æè¿°åº”è¯¥æ˜¯æ²¡æœ‰æœ‰æ•ˆçš„è¡¨æ ¼å†…å®¹ï¼Œè¿™æ„å‘³ç€å¯ä»¥æœ‰è®¸å¤š#æ³¨é‡Šçš„è¡Œï¼‰ï¼Œç›´æŽ¥ä½¿ç”¨read.tableå‡½æ•°è¯»å–æ–‡ä»¶ä¼šæŠ¥é”™ã€‚ æŠ¥é”™å¦‚ä¸‹ï¼š 123&gt; read.table('kws_included.txt', sep = ',', stringsAsFactors = F)Error in read.table("kws_included.txt", sep = ",", stringsAsFactors = F) : è¾“å…¥ä¸­æ²¡æœ‰å¤šå‡ºçš„è¡Œ è§£å†³åŠžæ³•ï¼š ç”¨try(...)å‡½æ•°æ•èŽ·å¼‚å¸¸ï¼Œåªæ˜¯Rä¸­çš„try(...)å‡½æ•°åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸‹è¯­å¥æ‰§è¡Œæ˜¯å¦æŠ¥é”™è¿˜æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š 123df = try(read.table('kws_included.txt', sep = ',', stringsAsFactors = F), silent = T)if('try-error' %in% class(df)) ... # è¯­å¥æ‰§è¡Œå‡ºé”™else ... # è¯­å¥æ‰§è¡Œ1æ­£å¸¸ å…¶ä»–è§£å†³åŠžæ³•ï¼š æœªçŸ¥~]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨parallelåŒ…çš„applyå¹¶è¡Œè®¡ç®—å‡½æ•°]]></title>
    <url>%2FR%2F20191112-d180.html</url>
    <content type="text"><![CDATA[applyç³»åˆ—çš„å‡½æ•°ï¼ˆä¾‹å¦‚å¸¸è§çš„lapply, sapplyï¼‰éƒ½æ˜¯å¯ä»¥å¹¶è¡Œè®¡ç®—çš„ï¼Œè¿™åœ¨è®¡ç®—å•ä½æ•°è¾ƒå¤šä¸”æ¯ä¸ªè®¡ç®—å•ä½éžå¸¸è€—æ—¶æ—¶ï¼Œèƒ½å¤§å¤§åŠ å¿«è®¡ç®—é€Ÿåº¦ã€‚è¿™é‡Œç®€å•è®°å½•å†…å»ºçš„parallelåŒ…å¦‚ä½•è¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚ 1. åŠ è½½RåŒ… 1library(parallel) 2. æŸ¥çœ‹å½“å‰èŠ‚ç‚¹å¯ç”¨CPUæ•°ï¼Œç¡®å®šä»»åŠ¡æ‰€éœ€CPUæ•° 1detectCores() 3. æŒ‡å®šä»»åŠ¡æ‰€éœ€CPUæ•°ï¼Œåˆå§‹åŒ–èµ„æºè°ƒåº¦å™¨ 12## è¿™é‡Œå‡è®¾è°ƒåº¦10æ ¸mkc = makeCluster(10) 4. è¿è¡Œä¸»ç¨‹åº å¹¶è¡Œè¿ç®—çš„applyå®¶æ—çš„å‡½æ•°ä¸ŽåŽŸå‡½æ•°éƒ½æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¦‚ apply $\to$ parApply lapply $\to$ parLapply sapply $\to$ parSapply ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š1xs = parLapply(mkc, xs, func()&#123;...&#125;) æ³¨æ„ï¼Œfunc(){...}ä¸­çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹åŒ…éƒ½éœ€è¦åœ¨å‡½æ•°å†…å¯¼å…¥ï¼Œå› ä¸ºparLapplyä¼šå¯åŠ¨Rçš„é¢å¤–è¿›ç¨‹ï¼Œåœ¨æ–°çš„è¿›ç¨‹é‡Œé¢ä¸ä¼šè‡ªåŠ¨å¯¼å…¥å½“å‰çŽ¯å¢ƒä¸­å·²ç»å¯¼å…¥çš„ç¬¬ä¸‰æ–¹åŒ…ã€‚ 4. å…³é—­èµ„æºè°ƒåº¦å™¨ ç»“æŸå¹¶è¡Œè¿ç®—åŽä¸€å®šè¦å…³é—­èµ„æºè°ƒåº¦å™¨mkc 1stopCluster(mkc) ä¸ç„¶topä¹‹åŽä½ ä¼šå‘çŽ°è‡ªå·±åˆ·å±äº†~]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä»Žå› å˜é‡ç±»åž‹å¯¹å›žå½’åˆ†ç±»]]></title>
    <url>%2Fstat%2F20191017-ca7e.html</url>
    <content type="text"><![CDATA[å‡è®¾è‡ªå˜é‡æ˜¯$X$ï¼Œå› å˜é‡æ˜¯$Y$ã€‚æŒ‰ç…§$Y$çš„æ•°æ®ç±»åž‹å°†å›žå½’åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š (ä¸€) $Y$æ˜¯æ•°å€¼èµ„æ–™ $Y$æ˜¯è¿žç»­æ•°æ®ï¼šæ™®é€šçº¿æ€§å›žå½’ $Y$æ˜¯è®¡æ•°æ•°æ®ï¼šè®¡æ•°å›žå½’ æ³Šæ¾å›žå½’ è´ŸäºŒé¡¹å›žå½’ é›¶è†¨èƒ€æ³Šæ¾å›žå½’ç­‰ è®¡æ•°æ•°æ®ï¼šå¯¹æŸäº›å¯¹è±¡è®¡æ•°çš„æ•°æ®ï¼Œå–å€¼ä¸ºè‡ªç„¶æ•° $Y$æ˜¯ç”Ÿå­˜æ•°æ®ï¼šç”Ÿå­˜å›žå½’ ç”Ÿå­˜æ•°æ®ï¼šç”Ÿå­˜æ•°æ®è¡¨å¾äº†å¯¹è±¡ä»Žâ€å‡ºç”Ÿâ€åˆ°â€æ­»äº¡â€çš„ç”Ÿå­˜æ—¶é—´ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªè¿žç»­åž‹æ•°æ®ã€‚ä½†æ˜¯å½“æˆ‘ä»¬è¿›è¡Œåˆ†æžæ—¶å¯¹è±¡å¾€å¾€è¿˜æœªâ€æ­»äº¡â€ï¼Œæˆ‘ä»¬ä¸èƒ½èŽ·å¾—å‡†ç¡®çš„ç”Ÿå­˜æ—¶é—´ï¼Œä½†æ˜¯æˆ‘ä»¬èƒ½èŽ·å¾—è¯¥å¯¹è±¡çš„æœ€å°ç”Ÿå­˜æ—¶é—´ï¼ˆå³åˆ°è®°å½•æ•°æ®ä¸ºæ­¢æ—¶çš„ç”Ÿå­˜æ—¶é—´ï¼‰ï¼Œè®°å½•æ•°æ®æ—¶ä»¥â€60d+â€è¿™ç§å½¢å¼è¡¨ç¤ºï¼Œæ„å‘³ç€è¯¥å¯¹è±¡çš„æœ€å°ç”Ÿå­˜æ—¶é—´ä¸º60å¤©ã€‚æœ‰è¶£çš„æ˜¯ï¼Œå¦‚æžœæˆ‘ä»¬èƒ½èŽ·å¾—æ‰€æœ‰æ ·æœ¬çš„å‡†ç¡®ç”Ÿå­˜æ—¶é—´ï¼Œç”Ÿå­˜å›žå½’æœ¬è´¨ä¸Šå°±æ˜¯æ™®é€šçº¿æ€§å›žå½’ã€‚ (äºŒ) $Y$æ˜¯åˆ†ç±»èµ„æ–™ $Y$æ˜¯äºŒå€¼æ•°æ®ï¼š0-1å›žå½’ Logistic Regression Probit Regression $Y$æ˜¯å®šåºæ•°æ®ï¼šå®šåºå›žå½’ å®šåºæ•°æ®ï¼šæ•°å€¼æ— æ„ä¹‰ï¼ˆæ„å‘³ç€ä¸èƒ½è¿›è¡Œä»£æ•°è¿ç®—ï¼‰ï¼Œä½†æ˜¯é¡ºåºå¾ˆé‡è¦ æ³¨ï¼šæœ¬æ–‡åªæ˜¯ç®€å•æ€»ç»“è®°å½•æ–¹ä¾¿æŸ¥é˜…ï¼Œæ¬²è§ˆå…¨æ–‡ï¼ŒæŸ¥çœ‹æ­¤å¤„ï¼Œå°Šé‡åŽŸåˆ›ï¼]]></content>
      <categories>
        <category>stat</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç¼–å†™bashè„šæœ¬æ—¶æ€Žä¹ˆæ–¹ä¾¿çš„æµ‹è¯•ä»£ç ]]></title>
    <url>%2Fos%2F20190928-1314.html</url>
    <content type="text"><![CDATA[ç¼–å†™bashè„šæœ¬æ—¶æ€Žä¹ˆæ–¹ä¾¿çš„æµ‹è¯•ä»£ç ï¼Ÿ Esc Shift :/; wq å¤ªéº»çƒ¦äº† å½“ç„¶å‰ææ˜¯èƒ½é¢‘ç¹æµ‹è¯•çš„ä»£ç  è§£å†³åŠžæ³•ï¼šå¼€ä¸¤ä¸ªçª—å£ï¼Œä¸€ä¸ªvimç¼–è¾‘å¹¶ä¿å­˜ï¼Œä¸€ä¸ªé€šè¿‡watch -n 2 &quot;sh test.sh ...&quot;é¢‘ç¹åˆ·æ–°æ‰§è¡Œtest.sh]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[screen-SSHç»ˆç«¯ç¦»çº¿æŒä¹…åŒ–å·¥å…·]]></title>
    <url>%2Fos%2F20190911-89a2.html</url>
    <content type="text"><![CDATA[æœ‰æ—¶å€™æˆ‘ä»¬ä½¿ç”¨è‡ªå·±çš„ç”µè„‘è¿œç¨‹è¿žæŽ¥æœåŠ¡å™¨ï¼ˆä¾‹å¦‚SSHï¼‰è¿›è¡Œå·¥ä½œï¼ŒæŸäº›ä»»åŠ¡æˆ‘ä»¬å¸Œæœ›æ”¾åœ¨å‰å°è¿è¡Œä½†æ˜¯å…¶è¿è¡Œæ—¶é—´å¯èƒ½å¾ˆé•¿ï¼Œå¦‚æžœç¨‹åºè¿è¡ŒæœŸé—´æˆ‘ä»¬éœ€è¦æ–­å¼€è¿žæŽ¥ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªå‰å°ä»»åŠ¡ä¹Ÿä¼šéšä¹‹ä¸­æ–­ã€‚ä¾‹å¦‚Räº¤äº’å¼çŽ¯å¢ƒä¸­çš„ç¨‹åºã€‚screenå·¥å…·å°±æ˜¯ä¸ºäº†è§£å†³è¿™æ ·ä¸€ä¸ªé—®é¢˜ã€‚ screenå·¥å…·ä¸ä»…å¯ä»¥ä¿è¯åœ¨æ–­å¼€è¿œç¨‹è¿žæŽ¥çš„æƒ…å†µä¸‹ç»§ç»­è¿è¡Œå½“å‰ä»»åŠ¡ï¼Œè¿˜å¯ä»¥å®žçŽ°å•ä¸ªå®žé™…çª—å£ä¸­æ“çºµå¤šä¸ªå·¥ä½œçª—å£ã€‚ç®€å•æ¥è¯´ï¼Œæ–°å»ºä¸€ä¸ªscreenä¼šè¯ä¼šåˆ›å»ºä¸€ä¸ªä¸»è¿›ç¨‹ï¼Œè¿™ä¸ªä¸»è¿›ç¨‹å¯¹åº”ç€ä¸€ä¸ªä¼šè¯çª—å£ã€‚è¿™ä¸ªä¸»è¿›ç¨‹æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œå®ƒä¸å—æˆ‘ä»¬è¿žæŽ¥æœåŠ¡å™¨çš„SSHè¿›ç¨‹çš„å½±å“ï¼Œå› æ­¤å½“æˆ‘ä»¬æ–­å¼€SSHè¿žæŽ¥æ—¶è¿™ä¸ªè¿›ç¨‹ä¾æ—§å­˜åœ¨ï¼Œåœ¨ä¸‹æ¬¡é‡æ–°è¿žæŽ¥æœåŠ¡å™¨æ—¶ä¾ç„¶å¯ä»¥æ¢å¤ã€‚è€Œæˆ‘ä»¬è¿žæŽ¥æœåŠ¡å™¨æ—¶çš„å·¥ä½œçŽ¯å¢ƒä¸­çš„ä»»åŠ¡å®žé™…ä¸Šå—SSHè¿žæŽ¥è¿›ç¨‹çš„å½±å“ï¼Œå½“æˆ‘ä»¬æ–­å¼€è¿žæŽ¥æ—¶ç›¸å…³è”çš„ä»»åŠ¡è‡ªç„¶è€Œç„¶ä¹Ÿå°±åœæ­¢äº†ã€‚ï¼ˆPS: ä¸‹é¢æåˆ°çš„ä¼šè¯å°±æ˜¯æŒ‡ä¸€ä¸ªè™šæ‹Ÿçª—å£ï¼‰ screençš„ç”¨æ³•å¦‚ä¸‹ï¼š æ€Žä¹ˆæŸ¥è¯¢å½“å‰æœåŠ¡å™¨ä¸­å»ºç«‹äº†å“ªäº›ä¼šè¯ï¼Ÿ screen -ls å³å¯ æ€Žä¹ˆå»ºç«‹ä¸€ä¸ªä¼šè¯ï¼Ÿ screen -S &lt;SOCKNAME&gt; å¯ä»¥å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿä¼šè¯ï¼ŒæŸ¥çœ‹ä¼šè¯ä¿¡æ¯å¦‚ä¸‹ï¼šç”±ä¸Šå¯çŸ¥ï¼Œä¸€ä¸ªè™šæ‹Ÿçª—å£çš„IDæ ‡è¯†ç”±è¿›ç¨‹å·PIDå’Œä¼šè¯åï¼ˆSOCKNAMEï¼‰ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªä¿¡æ¯æ¢å¤ä¼šè¯ã€‚é™¤äº† screen -s ... ä¹‹å¤–ï¼Œscreen -R ... ä¹Ÿèƒ½å»ºç«‹ä¸€ä¸ªæ–°çš„è™šæ‹Ÿçª—å£ï¼Œä¸Ž-Sä¸åŒçš„æ˜¯ï¼Œ-Ræ˜¯åŽ»å°è¯•ç€æ¢å¤ä¸€ä¸ªå·²æœ‰çš„ä¼šè¯ï¼Œå¦‚æžœåœ¨å·²æœ‰ä¼šè¯ä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œä»–å°±ä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œè·Ÿâ€œè‹¥ç›®å½•ä¸å­˜åœ¨åˆ™åˆ›å»ºç›®å½•â€æ˜¯ä¸€ä¸ªæ„æ€ã€‚ æ€Žä¹ˆæ¢å¤ä¸€ä¸ªä¼šè¯ï¼Ÿ screen -r ...å¯ä»¥æ¢å¤ä¸€ä¸ªä¼šè¯ï¼Œå½“ä¼šè¯ä¸å­˜åœ¨æ—¶ä¼šæŠ¥é”™ï¼›screen -R ...ä¹Ÿèƒ½æ¢å¤ä¸€ä¸ªä¼šè¯ï¼Œä½†æ˜¯å½“ä¼šè¯ä¸å­˜åœ¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯ã€‚æ³¨æ„ï¼šåŒä¸€æ—¶é—´ä¸€ä¸ªä¼šè¯åªèƒ½åœ¨ä¸€ä¸ªå®žé™…çª—å£ä¸­æ‰“å¼€ï¼ˆä¾‹å¦‚ä½ å¯èƒ½ä¼šåœ¨ä¸åŒçš„ç”µè„‘ä¸Šè¿žæŽ¥æœåŠ¡å™¨æˆ–è€…åœ¨ä¸€å°ç”µè„‘ä¸Šæ‰“å¼€å¤šä¸ªSSHä¼šè¯ï¼‰ã€‚å½“ä¼šè¯è¢«æŒ‚èµ·æ—¶ï¼ˆæ„å‘³ç€æ­¤æ—¶æ²¡æœ‰çª—å£æ‰“å¼€è¿™ä¸ªä¼šè¯ï¼‰ï¼Œä¼šè¯ä¿¡æ¯ä¸­æ¯ä¸ªIDåŽé¢ä¼šæ ‡è¯†å‡º(Detached)ï¼Œæ­¤æ—¶æ„å‘³ç€ä½ å¯ä»¥åœ¨å½“å‰çª—å£ä¸­æ‰“å¼€è¿™ä¸ªä¼šè¯ç»§ç»­å·¥ä½œï¼›å¦‚æžœæ ‡è¯†çš„æ˜¯(Attached)ï¼Œé‚£ä¹ˆæ ‡è¯†è¿™ä¸ªè™šæ‹Ÿçª—å£å·²ç»åœ¨å…¶å®ƒçš„åœ°æ–¹è¢«æ‰“å¼€äº†ï¼Œä½ å°†ä¸èƒ½æ‰“å¼€è¿™ä¸ªä¼šè¯ã€‚å¦‚æžœä½ ç¡®å®šè¿™å±žäºŽå¼‚å¸¸æƒ…å†µï¼Œä½ å¯ä»¥ä½¿ç”¨screen -d ...å¼ºåˆ¶æŒ‚èµ·ä¸€ä¸ªä¼šè¯ï¼Œæ­¤æ—¶çŠ¶æ€ä¼šå˜æˆ(Detached)ï¼Œè¿™è¡¨ç¤ºä½ å•æ–¹é¢ç»ˆæ­¢äº†åœ¨æŸä¸ªæœªçŸ¥åœ°æ–¹æ‰“å¼€çš„è™šæ‹Ÿçª—å£ã€‚screenå¯¹ä½ å‘½ä»¤ä¼ å…¥çš„ä¼šè¯åä¸Žä¼šè¯IDè¿›è¡ŒåŒ¹é…ï¼Œä¾‹å¦‚ä½ å¯ä»¥ï¼š åªæŒ‡å®šè¿›ç¨‹å·PIDï¼Œä¾‹å¦‚screen -r 23288 åœ¨ä¸å¼•èµ·æ­§ä¹‰çš„æƒ…å†µä¸‹åªæŒ‡å®šä¼šè¯åçš„é¦–å­—æ¯æˆ–å‰å‡ ä¸ªå­—æ¯ï¼Œä¾‹å¦‚screen -r nå°†æ¢å¤23288.net å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¼ å…¥å®Œæ•´çš„&lt;SOCKNAME&gt;æˆ–è€…&lt;PID&gt;.&lt;SOCKNAME&gt; æ€Žä¹ˆé€€å‡ºå¹¶æŒ‚èµ·å½“å‰ä¼šè¯ï¼Ÿ ä¾æ¬¡æ‘ä¸‹Ctrl A Dä¸‰ä¸ªé”®å³å¯é€€å‡ºå¹¶æŒ‚èµ·å½“å‰ä¼šè¯ æ€Žä¹ˆæŒ‚èµ·å½“å‰çª—å£ä¸­åˆ›å»ºçš„æŒ‡å®šä¼šè¯ï¼Ÿä¸Šé¢å·²ç»æåˆ°äº†ï¼Œscreen -d ...å¯å¼ºåˆ¶æŒ‚èµ·æŒ‡å®šä¼šè¯ æ€Žä¹ˆåˆ é™¤ä¸€ä¸ªä¼šè¯ï¼Ÿè¯·ç¡®è®¤ä½ çš„è™šæ‹Ÿçª—å£å®Œæˆä½¿å‘½åŽå†åˆ é™¤å®ƒï¼Œä¸ç„¶è¿½æ‚”èŽ«åŠã€‚ ç›´æŽ¥kill &lt;PID&gt;å¯åˆ é™¤ç›¸åº”çš„ä¼šè¯ æ‘ä¸‹Ctrl A K Då¯åˆ é™¤å½“å‰ä¼šè¯ä¸­çš„æ‰€æœ‰ä»»åŠ¡å¹¶é€€å‡ºå½“å‰ä¼šè¯ æ€»ç»“ä¸€ä¸‹ï¼Œscreenå¸¸ç”¨çš„å‘½ä»¤æœ‰ï¼š 12345678screen -lsscreen -rscreen -Rscreen -Sscreen -dCtrl + A + D ç»„åˆé”®Ctrl + A + K + D ç»„åˆé”®kill &lt;PID&gt; ä¸‹é¢æ˜¯æˆ‘è®¾ç½®çš„aliasï¼ˆä½¿ç”¨æžå…¶é¢‘ç¹ï¼Œæ ¹æ®å¥¥å¡å§†å‰ƒåˆ€åŽŸåˆ™ï¼Œè¶Šé¢‘ç¹è¶Šç®€æ´ï¼‰ï¼š 12345alias sr="screen -r"alias sl="screen -ls"# è¿˜å¯ä»¥è®¾ç½®å‡ ä¸ªå¿«æ·çª—å£alias srq='sr q'alias srr='sr r' å…¶å®ƒå‘½ä»¤ï¼š 12## é‡å‘½åå·²ç»å­˜åœ¨çš„ä¼šè¯åç§°screen -S &lt;OLDNAME&gt; -X sessionname &lt;NEWNAME&gt;]]></content>
      <categories>
        <category>os</category>
      </categories>
      <tags>
        <tag>Linuxå®žç”¨å‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ä¸­ä¸Žå·å’Œæ˜Ÿå·çš„å†ç†è§£]]></title>
    <url>%2FCpp%2F20190713-1536.html</url>
    <content type="text"><![CDATA[å¤§å­¦åˆè¯†æŒ‡é’ˆå’Œå¼•ç”¨ï¼Œä¸€çŸ¥åŠè§£ã€‚æœ€è¿‘æƒ³é‡æ–°å­¦ä¹ C++ï¼Œå‘çŽ°è‡ªå·±å¯¹æŒ‡é’ˆå’Œå¼•ç”¨çš„äº†è§£é€å½»äº†è®¸å¤šï¼Œé‚è®°ä¹‹ä»¥æ¸©ä¹ ã€‚ &amp;å’Œ*å®žé™…ä¸Šå„æœ‰ä¸¤ç§å«ä¹‰ï¼šå‡ºçŽ°åœ¨å®šä¹‰ä¸­æ—¶ï¼Œä½œä¸ºè¿ç®—ç¬¦æ—¶ &amp;ç”¨äºŽå®šä¹‰å¾€å¾€åªåœ¨å‡½æ•°å½¢å‚ä¸­ä½¿ç”¨ï¼Œè¡¨ç¤ºå¼•ç”¨ï¼Œå¦‚void func (int&amp; x, int&amp; y) ... &amp;ä½œä¸ºè¿ç®—ç¬¦è¡¨ç¤ºå–åœ°å€æ“ä½œï¼Œä¾‹å¦‚int* p = &amp;x *ç”¨äºŽå®šä¹‰ä¸­æ—¶è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªæŒ‡é’ˆåž‹å˜é‡ï¼Œä¾‹å¦‚int* pæˆ–è€…int *p *ä½œä¸ºè¿ç®—ç¬¦æ—¶è¡¨ç¤ºé—´æŽ¥å–å€¼ï¼Œå³é€šè¿‡åœ°å€é—´æŽ¥è€Œä¸æ˜¯é€šè¿‡å˜é‡åç›´æŽ¥èŽ·å–å€¼ï¼Œå¦‚(*p)++ ä½œä¸ºè¿ç®—ç¬¦&amp;å’Œ*åˆ†åˆ«ç§°ä¹‹ä¸ºå–åœ°å€è¿ç®—ç¬¦å’Œé—´æŽ¥å–å€¼è¿ç®—ç¬¦ã€‚ &amp;æ˜¯ä¸€ä¸ªä¸€å…ƒè¿ç®—ç¬¦ï¼Œæ˜¯ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå®ƒçš„ä½œç”¨æ˜¯å–å‡ºå˜é‡çš„åœ°å€ï¼Œå–å‡ºçš„æ˜¯åœ°å€ï¼Œåœ°å€çš„ç±»åž‹ä¼šå¸¦ä¸Š* ï¼Œä¾‹å¦‚intåž‹çš„å˜é‡xçš„åœ°å€ï¼ˆä¾‹å¦‚0x61fe44ï¼‰çš„å€¼çš„ç±»åž‹å°±æ˜¯int*ï¼Œè¿™ä¸ªå€¼ä¸èƒ½è¢«ä¿å­˜åˆ°intç±»åž‹ä¸­ï¼ˆå› ä¸ºintå’Œint*æ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®ç±»åž‹ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€å€¼æ€Žä¹ˆä¿å­˜å‘¢ï¼Ÿè¿™é‡Œå®šä¹‰äº†æŒ‡é’ˆç±»åž‹ç”¨äºŽä¿å­˜åœ°å€çš„å€¼ã€‚ä¸Šé¢ä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥å®šä¹‰intæŒ‡é’ˆç±»åž‹ç”¨äºŽä¿å­˜intç±»åž‹çš„å˜é‡çš„åœ°å€ï¼ˆé€šè¿‡&amp;èŽ·å–ï¼‰ï¼Œå³int *p = &amp;xã€‚å…¶å®žint *pè¿™ç§å†™æ³•å®¹æ˜“å¼•èµ·è¯¯è§£ï¼Œint* på°±æ˜Žæ˜¾ä¸€ç‚¹ï¼Œä½†æ˜¯å‰è€…ä¼¼ä¹Žæ›´é€šç”¨ã€‚ä¸Šé¢çš„å®šä¹‰å·²ç»è¡¨æ˜Žäº†ï¼šp æ˜¯ä¸€ä¸ªint*ç±»åž‹ï¼ˆå³intæŒ‡é’ˆç±»åž‹ï¼‰,å®ƒä¿å­˜çš„æ˜¯å˜é‡xçš„å†…å­˜åœ°å€ï¼Œå› æ­¤å¯ä»¥ç›´æŽ¥é€šè¿‡æŒ‡é’ˆè®¿é—®å˜é‡xå­˜å‚¨çš„å€¼ï¼Œæ–¹æ³•æ˜¯*pï¼Œæ‰€ä»¥å®žé™…ä¸Š*på’Œxéƒ½èƒ½è®¿é—®åˆ°ç›¸åº”åœ°å€å—ä¸Šçš„å€¼ï¼Œè¿™é‡Œ*ä½¿å¾—æˆ‘ä»¬å¯ä»¥é—´æŽ¥é€šè¿‡åœ°å€pè®¿é—®å€¼ï¼Œæ‰€ä»¥å«é—´æŽ¥å¯»å€è¿ç®—ç¬¦ã€‚è¿™é‡Œæ³¨æ„ä½“ä¼šint*ä¸­çš„*å’Œ*pä¸­çš„*æ„ä¹‰æ˜¯ä¸å®Œå…¨ç›¸åŒçš„ï¼šå‰è€…è¡¨æ˜Žè¿™æ˜¯å˜é‡ï¼ˆpï¼‰æ˜¯ä¸€ä¸ªæŒ‡é’ˆåž‹å˜é‡ï¼ŒåŽè€…æ˜¯ä¸€ç§è¿ç®—ç¬¦ï¼Œæ‰€è°“è¿ç®—ï¼Œå°±ä»Žä¸€ä¸ªçŠ¶æ€å‡ºå‘å¾—åˆ°æ–°çš„çŠ¶æ€ï¼Œè¿™é‡Œå°±æ˜¯æŒ‡ä»Žåœ°å€å‡ºå‘è®¡ç®—å¾—åˆ°äº†å€¼ 123456int x = 1000;int *p; // å†™ä½œ int* på¯èƒ½æ›´å¥½ç†è§£ç‚¹p = &amp;x; // è¿™ä¸¤æ­¥å¯ä»¥ç›´æŽ¥å†™ä½œ int *p = &amp;xï¼Œå†™æˆ int* p = &amp;x å¯èƒ½æ›´åŠ å®¹æ˜“ç†è§£cout &lt;&lt; x; // 1000cout &lt;&lt; p; // ç±»ä¼¼äºŽ 0x61fe44 è¿™æ ·çš„è¡¨ç¤ºåœ°å€çš„å€¼ï¼Œå…¶ç±»åž‹ä¸º int*cout &lt;&lt; *p; // 1000ï¼Œå¯¹åœ°å€è¿›è¡Œ*è¿ç®—å¾—åˆ°å€¼ ç”¨äºŽå‚æ•°å®šä¹‰*ç”¨äºŽå‚æ•°å®šä¹‰æ—¶è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªæŒ‡é’ˆåž‹å˜é‡ï¼Œè¿™ååˆ†å®¹æ˜“ç†è§£ã€‚ é‚£ä¹ˆ&amp;ç”¨äºŽå‚æ•°å®šä¹‰æ—¶è¡¨ç¤ºä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¼•ç”¨ï¼ ä¸‹é¢ä»¥å¸¸è§çš„ä¸‰ç§å‡½æ•°å‚æ•°ä¼ é€’æ–¹å¼ä¸ºä¾‹è¯´è¯´å¼•ç”¨çš„ç”¨æ³•ã€‚ å‚æ•°ä¼ é€’æœ‰ä¸‰ç§å¸¸è§æ–¹å¼ï¼šå€¼ä¼ é€’ã€æŒ‡é’ˆä¼ é€’ã€å¼•ç”¨ä¼ é€’ ä¸å¾—ä¸è¯´æ—¶éš”è¿™ä¹ˆå¤šå¹´ï¼Œæˆ‘æ€»ç®—ç†è§£äº†ä¸‰ç§å‚æ•°ä¼ é€’çš„æ–¹å¼çš„åŸºæœ¬åŒºåˆ«ï¼ŒçœŸç¬¨ã€‚ å‡è®¾æˆ‘ä»¬çŽ°åœ¨éœ€è¦å¯¹ä¸€ä¸ªæ•´åž‹å˜é‡xè¿›è¡ŒåŠ 1æ“ä½œï¼Œä¸‰ç§å‚æ•°ä¼ é€’çš„è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š å€¼ä¼ é€’ï¼šå€¼ä¼ é€’å³æŒ‰ç…§æ™®é€šæ–¹å¼å®šä¹‰å½¢å‚ï¼Œæ­¤æ—¶ä¼šå¯¹å˜é‡è¿›è¡Œå¤åˆ¶ï¼Œä»¥ä¿è¯å‡½æ•°å†…éƒ¨ä¸ä¼šä¿®æ”¹å®žå‚çš„ä»»ä½•ä¿¡æ¯ï¼Œè¿™æ ·çš„å‚æ•°ä¼ é€’æ–¹å¼å½“ç„¶ä¸èƒ½ç›´æŽ¥ä¿®æ”¹å®žå‚çš„å€¼ï¼Œå®ƒè¿”å›žçš„å®žé™…ä¸Šæ˜¯ä¸€å—æ–°çš„å†…å­˜åŒºåŸŸ 12345int f (int v) &#123;return ++v;&#125;int x = 1;int y = f(x);cout &lt;&lt; x; // 1cout &lt;&lt; y; // 2 æŒ‡é’ˆä¼ é€’ï¼šæŒ‡é’ˆä¼ é€’å®žé™…ä¸Šä¼ é€’çš„ä¸æ˜¯å˜é‡åç§°ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„å†…å­˜åŒºåŸŸï¼Œè¿™ä¸ªåŒºåŸŸæ€Žä¹ˆè¡¨ç¤ºå‘¢ï¼Ÿå½“ç„¶ç”¨ä¸€ä¸ªåœ°å€æ¥è¡¨ç¤ºå•¦ã€‚è¿™ä¸ªåœ°å€æ€Žä¹ˆèŽ·å–å‘¢ï¼Ÿå½“ç„¶æ˜¯ç”¨ å–åœ°å€è¿ç®—ç¬¦&amp; å•¦ã€‚å¯¹äºŽæŒ‡é’ˆä¼ é€’æ¥è¯´ï¼Œå½¢å‚å®šä¹‰ä¸ºä¸€ä¸ªæŒ‡é’ˆåž‹å˜é‡ï¼Œè€Œå®žå‚ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆåž‹å˜é‡ï¼ˆåœ°å€ï¼‰ï¼Œæ‰€ä»¥æŒ‡é’ˆä¼ é€’å°†ä¼šç›´æŽ¥ä¿®æ”¹åŽŸå†…å­˜å—çš„å€¼ï¼Œè¿™å¯¼è‡´å‡½æ•°æ‰§è¡ŒåŽæˆ‘ä»¬å†é€šè¿‡ç›¸åŒçš„æ–¹å¼å–è®¿é—®å˜é‡ï¼ˆå®žé™…ä¸Šæ˜¯è®¿é—®å˜é‡æŒ‡å‘çš„å†…å­˜å—çš„å€¼ï¼‰ï¼Œå®ƒçš„å€¼å·²ç»å‘ç”Ÿäº†æ”¹å˜ 12345void addone (int* p) &#123;(*p)++;&#125;int x = 1;cout &lt;&lt; x; // 1addone(&amp;x);cout &lt;&lt; x; // 2 å¼•ç”¨ä¼ é€’ï¼šæŒ‡é’ˆä¼ é€’å®žé™…ä¸Šå¹¶ä¸ä¼˜é›…ï¼Œå®ƒç›´æŽ¥è®©ç¨‹åºæŽ¥è§¦åˆ°äº†å†…å­˜åœ°å€ã€‚ä¸Žå…¶å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸ç›´æŽ¥å®šä¹‰ä¸€ä¸ªç±»ä¼¼äºŽå€¼ä¼ é€’ä¸­çš„ä½†æ˜¯åˆä¸ç”¨å¯¹å®žå‚è¿›è¡Œå¤åˆ¶çš„å½¢å‚å‘¢ï¼Ÿè¿™ä¸ªå½¢å‚æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªéžæŒ‡é’ˆæ•°æ®ç±»åž‹ï¼Œä½†æ˜¯å®ƒèƒ½ç›´æŽ¥ä¿®æ”¹å®žå‚çš„å€¼ï¼Œå°±ç›¸å½“äºŽç»™å®žå‚å®šä¹‰äº†ä¸€ä¸ªåˆ«åï¼Œä¸è®ºé€šè¿‡å®žå‚æœ¬èº«ä¿®æ”¹å€¼è¿˜æ˜¯é€šè¿‡è¿™ä¸ªåˆ«åä¿®æ”¹å€¼éƒ½æ˜¯ç­‰ä»·çš„ã€‚è¿™ç§æ–¹å¼ç§°ä¹‹ä¸ºå¼•ç”¨ï¼Œé€šè¿‡&amp;å®žçŽ°ï¼Œ&amp;ä½œä¸ºå¼•ç”¨å«ä¹‰æ—¶å¸¸å¸¸å‡ºçŽ°åœ¨å‡½æ•°å½¢å‚ä¸­ï¼ˆ&amp;è¿˜å¯ä½œä¸ºè¿ç®—ç¬¦ä½¿ç”¨ï¼‰ï¼Œå®ƒè¡¨ç¤ºå½¢å‚å®žé™…ä¸Šæ˜¯å®žå‚çš„ä¸€ä¸ªåˆ«åï¼Œå¯¹å½¢å‚çš„ä»»ä½•ä¿®æ”¹éƒ½å°†ç­‰ä»·äºŽå¯¹å®žå‚çš„ä¿®æ”¹ï¼Œä¾‹å¦‚å½¢å‚int&amp; xå®šä¹‰çš„å°±æ˜¯å¯¹æŸä¸ªæ•´å½¢å®žå‚çš„å¼•ç”¨ï¼Œæ­¤æ—¶ä¼ é€’çš„å®žå‚ä¹Ÿä¸éœ€è¦åƒæŒ‡é’ˆä¼ é€’é‚£æ ·éœ€è¦å…ˆèŽ·å–åœ°å€ï¼Œç¨‹åºæœ¬èº«è§„é¿äº†å¯¹åœ°å€è¿›è¡Œç›´æŽ¥æ“ä½œ 12345void addone (int&amp; v) &#123;++v;&#125;int x = 1;cout &lt;&lt; x; // 1addone(x);cout &lt;&lt; x; // 2 *å’Œ&amp;çš„å…¶å®ƒé«˜çº§ç”¨æ³•ä»¥åŽé‡åˆ°äº†å†æ¸©ä¹ å§~]]></content>
      <categories>
        <category>Cpp</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[äººç±»æˆè„‘å•ç»†èƒžè½¬å½•ç»„å’Œè¡¨è§‚ç»„æ•°æ®çš„æ•´åˆåˆ†æž]]></title>
    <url>%2Fbioinfo%2F20190531-c0e0.html</url>
    <content type="text"><![CDATA[åŽŸæ–‡ã€Nature Biotechnologyã€‘ã€PubMedã€‘ Abstractå¯¹äººè„‘ç»†èƒžè¿›è¡Œæ›´åŠ ç»†è‡´çš„åˆ†ç±»éœ€è¦è®¾è®¡å¤§é‡çš„å®žéªŒä»Žç»†èƒžçš„å„ä¸ªè§’åº¦ç ”ç©¶ç»†èƒžæˆ–è€…è®¾è®¡æ•°æ®å¤„ç†æ–¹æ³•æ•´åˆçŽ°æœ‰æ•°æ®å¯¹ç»†èƒžè¿›è¡Œæ³¨é‡Šã€‚æœ¬æ–‡å³ä»ŽåŽè€…å‡ºå‘æ€è€ƒæ€Žä¹ˆç»¼åˆå¤šç»„å­¦æ•°æ®ã€‚è¿™é‡Œæå‡ºäº†ä¸¤ä¸ªæ”¹è‰¯çš„é«˜é€šé‡æµ‹åºæ–¹æ³•ï¼š snDrop-seq: single-nucleus droplet-based sequencing scTHS-seq: single-cell transposome hypersensitive site sequencing åŸºäºŽä¸¤ç§æ–¹æ³•èŽ·å¾—äº†&gt;60000ä¸ªå•ç»†èƒžæ ¸ï¼ˆæˆäººè§†è§‰çš®è´¨ã€é¢çš®è´¨ã€å°è„‘ï¼‰çš„è½¬å½•æ•°æ®å’Œå¼€æ”¾æ•°æ®ã€‚ è¿™ä¸¤ç»„æ•°æ®å†…è•´ä¸Žç»†èƒžç±»åž‹å·®å¼‚ç›¸å…³çš„è°ƒæŽ§å…ƒä»¶å’Œè½¬å½•å› å­ä¿¡æ¯ï¼Œå¯ç”¨äºŽ ç ”ç©¶å¤§è„‘å¤æ‚æœºåˆ¶ï¼Œæœ¬æ–‡ç ”ç©¶äº†é«“éž˜å†ç”Ÿï¼ˆremyelinationï¼‰ å°†ç–¾ç—…ç›¸å…³çš„é£Žé™©å˜å¼‚å…³è”åˆ°ç‰¹å®šçš„ç»†èƒžç¾¤ï¼Œå¸®åŠ©è®¤è¯†å¤§è„‘çš„ç—…ç† å¤šç»„å­¦æ–¹æ³•ç»¼åˆåˆ†æžèƒ½å¤Ÿå¯¹å¤æ‚ç»„ç»‡å™¨å®˜çš„çš„å•ç»†èƒžè¿›è¡Œæ›´åŠ ç»†è‡´çš„ç ”ç©¶ï¼ˆ~interrogationï¼‰ã€‚ Introductionè½¬å½•ç»„åˆ†æžçš„ä¸è¶³@ äººè„‘æ˜¯ä¸ªæžå…¶å¤æ‚çš„ç»“æž„ äººè„‘æ˜¯ä¸€ä¸ªåºžå¤§ã€å¤æ‚çš„ç½‘ç»œï¼Œå®ƒç”±å¤§çº¦ä¸€ä¸‡äº¿ä¸ªç¥žç»å…ƒç»„æˆï¼Œè¿™äº›ç¥žç»å…ƒåœ¨ç©ºé—´ä¸Šæœ‰åºç»„ç»‡ï¼Œåœ¨åŠŸèƒ½ä¸Šç›¸äº’è”ç³»ï¼Œå®ƒä»¬é•¶åµŒåœ¨æ›´åŠ åºžå¤§çš„ç¥žç»èƒ¶è´¨ï¼ˆgliaï¼‰å’Œéžç¥žç»å…ƒç»†èƒžä¸­ã€‚ @ åˆ†æžç»†èƒžæ ¸æ¯”åˆ†æžå®Œæ•´ç»†èƒžæ›´å¥½ å»ºç«‹å®Œæ•´çš„äººè„‘ç»†èƒžå›¾è°±ï¼Œéœ€è¦è‰¯å¥½æ‰©å±•æ€§å’Œæ— åæ€§çš„å•ç»†èƒžåˆ†æžæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä¸ä»…é™äºŽåˆ†æžæ´»ä½“å®Œæ•´ç»†èƒžï¼Œä¹Ÿèƒ½åˆ†æžæå–å‡ºæ¥çš„ç»†èƒžæ ¸ä¿¡æ¯ã€‚ å¦‚æžœèƒ½åˆ†æžç»†èƒžæ ¸æ•°æ®ï¼Œå°†ä¼šå¥½å¤„å¤šå¤š$^{[1-4]}$ï¼š ç»†èƒžå¯ä»¥æ˜¯æ´»ä½“é‡‡é›†çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¿å­˜æ€§çš„ï¼Œä¾‹å¦‚å°¸ä½“æ ·æœ¬ã€å†·å†»æ ·æœ¬ å¯ä»¥èŽ·å¾—å¤§é‡çš„RNAæ•°æ®ï¼Œèƒ½å¾—åˆ°æ›´åŠ å‡†ç¡®çš„åˆ†æžç»“æžœ å‡å°ç»„ç»‡è§£ç¦»çš„è¯¯å·®$^{[5]}$ @ snRNAæµ‹åºæŠ€æœ¯åŠåŽç»­åˆ†æžæ–¹æ³• å•æ ¸è½¬å½•ç»„æµ‹åºï¼ˆSNSï¼‰èƒ½å¤Ÿä»¥è¾ƒå¤§çš„æµ‹åºæ·±åº¦ï¼ˆæ¯ä¸ªç»†èƒžå¤§çº¦å…«ç™¾ä¸‡readsï¼‰åˆ†æžå¤šä¸ªäººç±»å¤§è„‘çš®å±‚åŒºåŸŸä¸Šä¸°å¯Œçš„ç¥žç»å…ƒäºšåž‹$^{[4]}$ï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰è®¸å¤šé™åˆ¶ï¼Œä¾‹å¦‚ ä½Žé€šé‡ï¼šæ¯å¼ å¾®æµèŠ¯ç‰‡ç†è®ºä¸Šåªèƒ½å¯¹64ä¸ªç»†èƒžæµ‹åº é«˜æˆæœ¬ æ ·æœ¬è¯¯å·®ï¼šå¾®æµèŠ¯ç‰‡å¯¹ååˆ†å°‘é‡çš„éžç¥žç»ç»†èƒžçš„ç»†èƒžæ ¸çš„æ•èŽ·èƒ½åŠ›å¾ˆå·® æœ¬æ–‡æå‡ºäº†ä¸€ä¸ªèƒ½å¤Ÿå¤„ç†ä¿å­˜æ€§æ ·æœ¬ã€åˆ†æžé«˜é€šé‡snRNA-seqæ•°æ®çš„æ–¹æ³•ã€‚ è¡¨è§‚ç»„é”¦ä¸Šæ·»èŠ±è½¬å½•å›¾è°±èƒ½å¤Ÿé‰´å®šå¤æ‚ç»„ç»‡å™¨å®˜ä¸­åŠŸèƒ½å·®å¼‚æ˜¾è‘—çš„ç»†èƒžç±»åž‹ï¼Œé¢å¤–çš„è¡¨è§‚ä¿¡æ¯èƒ½å¤Ÿä½¿æˆ‘ä»¬å¯¹è¡¨è¾¾å›¾è°±çš„å—è°ƒèŠ‚æ–¹å¼æœ‰æ›´åŠ å…¨é¢çš„è®¤è¯† â€”â€” å¦‚è™Žæ·»ç¿¼ã€‚ å…¨åŸºå› ç»„æ°´å¹³çš„ç ”ç©¶å·²ç»å»ºç«‹äº†è°ƒæŽ§ä½ç‚¹åˆ°äº†æŸ“è‰²è´¨å¼€æ”¾æ€§åŒºåŸŸï¼ˆåŒä¸‹æ–‡çš„è°ƒèŠ‚å­ï¼Œå¦‚å¯åŠ¨å­å†…ã€å¢žå¼ºå­å†…ï¼‰çš„æ˜ å°„ï¼Œå› æ­¤é¡ºå¼è°ƒæŽ§ä½ç‚¹èƒ½å¤ŸåŒºåˆ†ç»†èƒžç±»åž‹å’Œè°±ç³»$^{[6,7]}$ã€‚è¿™ç§ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§çš„è°ƒèŠ‚å­çš„é‰´å®šæœ‰åˆ©äºŽå¼ºåŒ–æˆ‘ä»¬å¯¹åŸºå› ç¨‹åºï¼ˆå¦‚ç»†èƒžåˆ†åŒ–ã€ç»†èƒžå®šåž‹ã€åŠŸèƒ½åŒ–ï¼‰çš„ç†è§£ã€‚ è¿›ä¸€æ­¥åœ°ï¼Œä¸Žå¤šæ ·æ€§å’Œç–¾ç—…ç›¸å…³çš„åŸºå› å˜å¼‚å¤§å¤šæ•°éƒ½ä½äºŽå†…å«å­å†…æˆ–è€…åŸºå› é—´åŒºåŸŸ$^{[8]}$ã€‚ä¸Žç»„ç»‡ç‰¹å¼‚æ€§è°ƒæŽ§ä½ç‚¹$^{[6,7]}$çš„å¯Œé›†åˆ†æžç»“åˆç»˜åˆ¶çš„ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§è°ƒæŽ§å­å›¾è°±èƒ½å¤Ÿæä¾›é¢å¤–çš„ä¿¡æ¯å¸®åŠ©æˆ‘ä»¬äº†è§£å‘ç—…æœºç†ã€‚ ä¸Žè½¬å½•ç»„å®žéªŒç›¸æ¯”ï¼Œè¡¨è§‚ç»„å®žéªŒçš„ä¸€ä¸ªéšœç¢å°±æ˜¯éš¾ä»¥èŽ·å¾—å¤§é‡çš„å•ç»†èƒžæ ·æœ¬ã€‚ æœ€è¿‘çš„ä¸€äº›å·¥ä½œæé«˜äº†å®žéªŒçµæ•åº¦ï¼Œå°†ç»†èƒžéœ€æ±‚å‡å°‘åˆ°äº†å‡ ç™¾ä¸ª$^{[9]}$ç”šè‡³æ˜¯ä¸€ä¸ªç»†èƒž$^{[10-13]}$ï¼›ç„¶è€Œï¼Œè¿™ç±»å•ç»†èƒžç²¾åº¦çš„åˆ†æžæ–¹æ³•æ˜¯å¦é€‚ç”¨äºŽå¼‚è´¨æ€§çš„ã€ä¿å­˜æ€§çš„äººç±»ç»„ç»‡ï¼ˆä¾‹å¦‚å¤§è„‘ï¼‰ä»éœ€éªŒè¯ã€‚ è§£å†³äº†ä»€ä¹ˆé—®é¢˜æž„å»º&lt;åŒ…æ‹¬è¡¨è§‚é—ä¼ ä¿¡æ¯åœ¨å†…çš„&gt;äººè„‘ç»†èƒžç±»åž‹çš„ç»¼åˆå›¾è°±ï¼Œéœ€è¦&lt;ç”¨äºŽåˆ†æžæ ¸è½¬å½•æ•°æ®å’Œä¿å­˜æ€§æ ·æœ¬æ•°æ®çš„&gt;æ›´åŠ é«˜æ•ˆçš„æ–¹æ³•ã€‚ é¦–å…ˆå•ç»†èƒžåŸºå› ç»„ç ”ç©¶ä¸­æ ¸åˆ†ç¦»æŠ€æœ¯æ˜¯å¯ä¿¡çš„ï¼ˆ~amenableï¼‰$^{[14,15]}$ã€‚å› æ­¤æœ¬æ–‡æå‡ºäº†ä¸¤ä¸ªä¼˜åŒ–çš„æµ‹åºæ–¹æ³•ï¼Œåœ¨å•ç»†èƒžæ°´å¹³ä¸Šå¸®åŠ©é‡åŒ–æ ¸è½¬å½•æœ¬å’ŒDNAçš„å¼€æ”¾æ€§ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨åŒä¸€ä¸ªä¿å­˜æ€§æ ·æœ¬ä¸­åŒæ—¶å¯¹åŸºå› çš„è¡¨è¾¾å’Œè°ƒèŠ‚è¿›è¡Œç»¼åˆæ€§åˆ†æžã€‚ æœ¬æ–‡å‰é¢éƒ¨åˆ†è§£å†³äº†ä¸‹é¢ä¸‰ä¸ªé—®é¢˜ï¼š æè¿°äººç±»å¤§è„‘çš®è´¨å’Œå°è„‘è„‘åŒºçš„ç»†èƒžå¤šæ ·æ€§ é‰´å®šå…·æœ‰è„‘åŒºç‰¹å¼‚æ€§çš„ç¥žç»å…ƒ/éžç¥žç»ç»†èƒžç±»åž‹ å¤§è§„æ¨¡åœ°é‰´å®šè½¬å½•å› å­çš„æ´»æ€§å’Œç›®æ ‡åŸºå› çš„è¡¨è¾¾è°± æœ€åŽï¼Œè¿˜å°†ç–¾ç—…é£Žé™©å˜å¼‚ï¼ˆrisk variantsï¼‰æ˜ å°„åˆ°äº†ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§çš„è°ƒæŽ§åŒºåŸŸï¼Œä»Žæ¦‚å¿µä¸ŠéªŒè¯ï¼ˆproof-of-conceptï¼‰å‡ºäº†ä¸€äº›å¯èƒ½ä¸Žå¤§è„‘ç–¾ç—…ç›¸å…³çš„ç—…å˜ç»†èƒžç±»åž‹ã€‚ Resultsäººç±»å¤§è„‘çš®è´¨å’Œå°è„‘è„‘åŒºçš„å•ç»†èƒžåˆ†æžä»‹ç»äº†ä¸¤ç§æ”¹è¿›çš„æµ‹åºæ–¹æ³•snDrop-seqsingle-nucleus Droplet-bases sequencing åŸºäºŽå¾®æ»´å®žéªŒæŠ€æœ¯$^{[16-18]}$çš„snDrop-seqï¼Œå®žçŽ°äº†é«˜é€šé‡çš„å•ç»†èƒžè½¬å½•ç»„å¹¶è¡Œæµ‹åºã€‚å°†æ­¤æŠ€æœ¯åº”ç”¨äºŽå…­ä¸ªæˆå¹´äººç±»é—ä½“çš„å¤§è„‘åˆ†æžï¼ˆåŒ…æ‹¬è§†è§‰çš®è´¨ã€é¢çš®è´¨ã€ä¾§å°è„‘åŠçƒï¼‰ã€‚=&gt; è¿™æ˜¯ä¸€ç§è½¬å½•ç»„æµ‹åºæ–¹æ³•ï¼ï¼ï¼ scTHS-seqsingle-cell Transposome Hypersensitive Site sequence ä¸ºäº†åŒæ—¶ç ”ç©¶è¡¨è§‚é—ä¼ ï¼Œæœ¬æ–‡è®¾è®¡äº†ä¸€ç§å®šé‡å•ç»†èƒžDNAå¼€æ”¾æ€§çš„å®žéªŒæ–¹æ³•ã€‚=&gt; è¡¨è§‚é—ä¼  è¡¨åž‹é—ä¼  DNA/æŸ“è‰²è´¨å¼€æ”¾æ€§ ATAC scTHS-seqåˆ©ç”¨äº†ä½“å¤–è½¬å½•ç»„çº¿æ€§æ‰©å¢žå’Œäººä¸ºè®¾è®¡Tn5è½¬åº§é…¶çªå˜$^{[15]}$çš„ä¼˜åŠ¿ï¼Œå®žçŽ°æ¯”ATAC-seq$^{[20]}$çµæ•åº¦æ›´é«˜çš„æµ‹åºæ–¹å¼ï¼Œèƒ½è¾ƒé«˜è¦†ç›–è¿œç«¯å…·æœ‰ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§çš„å¢žå¼ºå­$^{[21]}$ã€‚ è”åˆè¿™ä¸¤ä¸ªæµ‹åºæ–¹æ³•å¯ä»¥ä»ŽåŒä¸€ä¸ªè„‘åŒºæ ·æœ¬ä¸­åŒæ—¶å¾—åˆ°è¡¨è¾¾å’Œè°ƒèŠ‚ç‰¹å¾ï¼Œä»Žè€Œå¯¹ç»†èƒžå¤šæ ·æ€§è¿›è¡Œç‹¬ç«‹æ— åçš„åˆ†æžã€‚ åŸºå› è¡¨è¾¾åˆ†æžå¯¹snDrop-seqçš„ç»“æžœè¿›è¡ŒåŸºå› çš„è¡¨è¾¾åˆ†æžï¼Œè´¨æŽ§åŽä¸€å…±36,166ä¸ªæ ¸ï¼Œå…¶ä¸­35,289ä¸ªæ ¸ï¼ˆ=è§†è§‰çš®è´¨19,368+é¢çš®è´¨10,319+å°è„‘åŠçƒ5,602ï¼‰è¢«æˆåŠŸåˆ†åž‹ã€‚ è·¨ç‰©ç§æ··åˆåˆ†æžçš„è¯æ˜Žäº†å¾ˆå°æ¯”ä¾‹ï¼ˆ2~11%ï¼‰çš„åŒå³°ï¼ˆdoubletsï¼‰ï¼Œè¿™ä¸Žå…¨ç»†èƒžæµ‹é‡ç»“æžœç›¸ä¼¼ã€‚ ï¼ˆå›¾ï¼‰ æµ‹åºç»“æžœå¹³å‡åˆ°æ¯ä¸ªç»†èƒžæ ¸æœ‰6,200ä¸ªreadsï¼Œè¿™äº›readså¤§éƒ¨åˆ†éƒ½è½å…¥äº†å†…å«å­åŒºåŸŸï¼Œå¹¶ä¸”ä¸»è¦ä½äºŽè½¬å½•æœ¬çš„3â€™ç«¯ï¼Œè¿™æ˜¯å› ä¸ºè½¬å½•æœ¬å’Œå‰ä½“RNAéƒ½æ˜¯ä¾é poly(A)æ•èŽ·çš„ã€‚ï¼ˆå›¾ï¼‰ ä¸Žå…¨ç»†èƒžè½¬å½•ç»„æ–¹æ³•ç›¸æ¯”è¾ƒï¼Œä»…å«ç»†èƒžæ ¸çš„Drop-seqå’Œå®Œæ•´ç»†èƒžçš„Drop-seqçš„è¦†ç›–åº¦æ›´ä½Žï¼Œä½†æ˜¯å´èƒ½äº§ç”Ÿç›¸ä¼¼çš„ç»“æžœï¼ˆä¾‹å¦‚æ£€æµ‹åˆ°çš„åŸºå› æ¯”ä¾‹ï¼‰ã€‚å°½ç®¡ç»†èƒžæ ¸å’Œå®Œæ•´ç»†èƒžç»“æžœå…·æœ‰ä¸€è‡´æ€§ï¼Œæ ¸æµ‹åºç»“æžœè¿˜æ˜¯å­˜åœ¨ä¸€å®šçš„ç³»ç»Ÿè¯¯å·®ï¼Œç‰¹åˆ«æ˜¯å¯¹äºŽè¾ƒé•¿çš„åŸºå› ï¼Œè¿™å¯èƒ½æ˜¯å¯å˜å‰ªåˆ‡å¯¼è‡´çš„ã€‚ æ€»çš„æ¥è¯´ï¼Œæ¯æ ¸æµ‹åˆ°äº†928ä¸ªä¸é‡å¤çš„è½¬å½•æœ¬å’Œ719ä¸ªåŸºå› ï¼ˆä¸­å€¼ï¼‰ã€‚éšç€æ ·æœ¬æ•°é‡çš„å¢žåŠ ï¼Œè¿™ä¸€æ·±åº¦å¯ä»¥æœ‰æ•ˆè§£å†³ç»†èƒžç±»åž‹å¤šæ ·æ€§å’ŒåŸºå› è¡¨è¾¾åŠ¨æ€å˜åŒ–çš„é—®é¢˜ã€‚ å®žé™…åˆ†åž‹ç»“æžœä¸º35ä¸ªæ˜Žæ˜¾çš„èšç±»ç°‡ï¼ŒåŒ…æ‹¬ ç¥žç»ç»†èƒž çš®è´¨å…´å¥‹æ€§ç¥žç»å…ƒï¼ˆExï¼‰ çš®è´¨æŠ‘åˆ¶æ€§ç¥žç»å…ƒï¼ˆInï¼‰ å°è„‘é¢—ç²’ç»†èƒžï¼ˆGranï¼‰ æµ¦è‚¯é‡Žç¥žç»å…ƒï¼ˆPurkï¼‰ éžç¥žç»ç»†èƒž å†…çš®ç»†èƒžï¼ˆEndï¼‰ å¹³æ»‘è‚Œç»†èƒžæˆ–è€…å‘¨çš®ç»†èƒž æ˜Ÿå½¢èƒ¶è´¨ç»†èƒžï¼ˆAstï¼‰ å°‘çªèƒ¶è´¨ç»†èƒžï¼ˆOliï¼‰ä»¥åŠä»–ä»¬çš„å‰ä½“ç»†èƒžï¼ˆOPCsï¼‰ å°æ˜Ÿå½¢èƒ¶è´¨ç»†èƒžï¼ˆMicï¼‰ è¿˜ç ”ç©¶äº†è¿™äº›ç°‡åœ¨è„‘åŒºåˆ†å¸ƒä¸Šçš„å¼‚è´¨æ€§ï¼Œä¾‹å¦‚ å°è„‘ç‰¹å¼‚æ€§çš„Astï¼ˆAst_Cerï¼‰ã€OPCs åœ¨è§†è§‰çš®è´¨å’Œé¢çš®è´¨æ£€æµ‹åˆ°äº†ä¸åŒçš„å…´å¥‹æ€§ç¥žç»å…ƒï¼ˆå›¾ï¼‰ åŸºå› è°ƒæŽ§åˆ†æžä¸ºäº†è¯†åˆ«ç›¸åº”çš„è°ƒæŽ§ä¿¡å·ï¼ŒåŸºäºŽscTHS-seqè¿›è¡Œäº†åŸºå› çš„è°ƒæŽ§åˆ†æžã€‚ ä¸€å…±æµ‹å®šäº†32,869ä¸ªç»†èƒžæ ¸ã€‚å¯¹æ¯ä¸ªè„‘åŒºå•ç‹¬èšç±»ï¼Œå…¶ä¸­27,906ä¸ªæ ¸ï¼ˆ=è§†è§‰çš®è´¨13,232+é¢çš®è´¨4,753+å°è„‘9,921ï¼‰èƒ½æˆåŠŸåˆ†åž‹ã€‚ï¼ˆè¿™é‡Œæ²¡æœ‰ç»™å‡ºèšç±»å›¾ï¼Œåªç»™å‡ºç»“æžœè¡¨ï¼‰ 27906ä¸ªæ ¸ä¸­ï¼Œ15,786ä¸ªæ ¸æ˜ å°„åˆ°äº†snDrop-seqçš„èšç±»ç»“æžœä¸Šã€‚ é‰´å®šå‡ºäº†è¦†ç›–äº†å¤§çº¦144ç™¾ä¸‡ç¢±åŸºå¯¹å…±287,381ä¸ªä¸ŽæŸ“è‰²è´¨å¼€æ”¾æ€§ç›¸å…³çš„peakã€‚ æ¯ä¸ªç»†èƒžè¦†ç›–æŸ“è‰²è´¨å¼€æ”¾æ€§åŒºåŸŸçš„readsä¸ªæ•°ï¼ˆmedianï¼‰ä¸º10,168ã€‚ äººé¼ æ•°æ®æ··åˆåˆ†æžçš„ä½Žæ¯”ä¾‹åŒå³°ç‰¹æ€§è¯´æ˜Žå¯ä»¥ä½¿ç”¨combinatorial indexing protocolsã€‚ ä¸ºäº†é‰´å®šå‡ºscTHS-seqæ•°æ®ä¸­è¡¨è§‚é—ä¼ å·®å¼‚æ˜¾è‘—çš„äºšåž‹ï¼Œæœ¬æ–‡é‡‡ç”¨äº†ä¸€ç§æ— åèšç±»ç­–ç•¥ï¼šå°†æ¯ä¸ªç»†èƒžæ¯ä¸ªåŸºå› ç»„ä½ç‚¹ä¸Šè§‚å¯Ÿåˆ°readçš„æ¦‚çŽ‡å»ºæ¨¡ä¸ºcensored poisson processã€‚è¿™ä¸ªæ–¹æ³•è§£é‡Šäº†ï¼šå³ä½¿æ˜¯å¼€æ”¾æ€§æœ€å¼ºä½ç‚¹çš„ä¿¡å·ä¹Ÿä¼šåœ¨åŒ¹é…åˆ°å°‘é‡readsæ—¶é¥±å’Œã€‚ã€Qã€‘ The scTHS-seq signal from even the most accessible site will saturate after only a few reads. æ€»ç»“ï¼šè§£å†³äº†ä»€ä¹ˆé—®é¢˜ä»Žè¡¨è§‚ç»„å¯¹ç»†èƒžåˆ†åž‹æ¯”ä»Žè½¬å½•ç»„å¯¹ç»†èƒžåˆ†åž‹æ›´åŠ å›°éš¾ï¼Œå› ä¸ºè®¸å¤šè°ƒæŽ§å…ƒä»¶çš„åŠŸèƒ½ä»ç„¶æ˜¯æœªçŸ¥çš„ã€‚ä½†æ˜¯å€ŸåŠ©äºŽé‚»è¿‘å¼€æ”¾æ€§ä½ç‚¹çš„åŸºå› çš„ä¿¡æ¯ï¼Œå°±èƒ½å¤ŸåŒºåˆ†çš®è´¨å’Œå°è„‘è„‘åŒºçš„è®¸å¤šç»†èƒžç±»åž‹ã€‚.å…·ä½“æ¥è¯´ï¼Œè°ƒæŽ§åˆ†æžä¸»è¦è§£å†³äº†ä¸‹é¢ä¸¤ä¸ªé—®é¢˜ ä¸Žé¢çš®è´¨ã€è§†è§‰çš®è´¨ä¹‹é—´ä¸»è¦ç»†èƒžç±»åž‹ç›¸å…³çš„è¡¨è§‚ç‰¹å¾ å°šæœªæ·±å…¥ç ”ç©¶çš„å°è„‘Granç¥žç»ç»†èƒžçš„ç¥žç»å…ƒç‰¹å¾ è½¬å½•ç»„ =&gt; ç»†èƒžç±»åž‹ &amp; è„‘åŒºå¼‚è´¨æ€§è½¬å½•ç»„æ•°æ®æ¥æºäºŽsnDrop-seq markerè¡¨è¾¾ä¸€è‡´æ€§1. åŸºäºŽsnDrop-seqçš„markerè¡¨è¾¾æƒ…å†µ ä¸åŒçš„è„‘åŒºéƒ½ä½¿ç”¨è½¬å½•æœ¬æ•°æ®å¯¹ç»†èƒžçš„å½’å±žå’Œèº«ä»½è¿›è¡Œé‰´å®šï¼Œæ£€æµ‹åˆ°äº†ç»†èƒžç±»åž‹/ç»†èƒžäºšåž‹ç‰¹å¼‚æ€§çš„markeråŸºå› çš„é¢„æœŸè¡¨è¾¾ï¼Œè¡¨è¾¾è°±ä¸Žä»Žäººã€é¼ è„‘åŒºçš„æ··æ± æ•°æ®æŽ¨å‡ºçš„ç»“è®ºé«˜åº¦ä¸€è‡´ã€‚$$\text{Figure 2 - A \&amp; B}$$Aå›¾æ˜¯markeråŸºå› -ç»†èƒžç±»åž‹åŸºå› è¡¨è¾¾çš„å°æç´å›¾ï¼Œä»Žå›¾ä¸­æ˜Žæ˜¾å¯ä»¥çœ‹åˆ°æ¯ä¸ªmarkeréƒ½åœ¨æŸä¸€ç±»ç»†èƒžä¸­å¤§é‡è¡¨è¾¾ã€‚Aå›¾å³ä¾§çš„ä¸‰åˆ—æ•°æ®åˆ†åˆ«è¡¨ç¤ºï¼šç»†èƒžæ ¸æ•°ç›®ã€è½¬å½•æœ¬æ•°ç›®ã€ä¸åŒè„‘åŒºé‡‡æ ·çš„ç›¸å¯¹æ¯”ä¾‹ã€‚Bå›¾æ˜¯markeråŸºå› -ç»†èƒžäºšåž‹çš„è¡¨è¾¾å›¾è°±ã€‚ 2. snDrop-seqçš„ä¸€è‡´æ€§éªŒè¯ æ¯”è¾ƒå°é¼ è§†è§‰çš®å±‚å’Œäººé¢žå¶æ•°æ®ï¼ŒåŸºäºŽæ ¸çš„æ•°æ®ä¸ŽåŸºäºŽå…¨ç»†èƒžçš„æ•°æ®å…·æœ‰ä¸€è‡´æ€§ã€‚$$\text{Supplementary Figure 7 - A \&amp; B}$$ ç¥žç»å…ƒçš„è¿‡è¡¨è¾¾æ˜¯ä»¥ç‰ºç‰²éžç¥žç»ç»†èƒžä¾‹å¦‚Astå’ŒEndä¸ºä»£ä»·çš„ã€‚ã€Qã€‘ However, we observed over-representation of neurons at the expense of non-neuronal types such as Ast and End cells. ä»ŽsnDrop-seqæ•°æ®è®¡ç®—ç»†èƒžç»„æˆæ—¶ä»ç„¶å­˜åœ¨æŠ€æœ¯ä¸Šçš„è¯¯å·®ï¼Œå¯èƒ½æ˜¯å› ä¸ºç»†èƒžè½¬å½•æœ¬æ•°é‡å¤ªå°‘$$\text{Figure 2 - A}$$ Exå’ŒInæŒ‰ç…§ï¼ˆå…ˆå‰å¯¹6ä¸ªçš®è´¨åŒºåŸŸè¿›è¡Œå•ç»†èƒžæ ¸æµ‹åºé‰´å®šå‡ºçš„ï¼‰ç»†èƒžäºšåž‹çš„ç›¸å…³æ€§è¿›è¡Œæ³¨é‡Š$$\text{Supplementary Figure 7 - C}$$ä»Žä¸Šå›¾è¿˜å¯ä»¥çœ‹å‡ºï¼Œé™¤äº†é«˜åº¦çš„ä¸€è‡´æ€§ï¼ŒsnDrop-seqè¿˜èƒ½å¯¹ç»†èƒžäºšåž‹çš„åˆ†åž‹è¿›è¡Œä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œè§†è§‰çš®è´¨å±‚Exçš„ç»†èƒžäºšåž‹Ex3ç»†åŒ–ä¸ºäº†Exa-då››ç§äºšåž‹ã€‚ç›¸æ¯”äºŽä½œè€…ä¹‹å‰çš„ä¸€é¡¹ç ”ç©¶$^{[4]}$ï¼ŒsnDrop-seqé€šè¿‡å¤æ‚ç»„ç»‡çš„å°‘é‡é‡‡æ ·è§£å†³ç¥žç»ç»†èƒžäºšåž‹å¤šæ ·æ€§é—®é¢˜çµæ•åº¦æ›´é«˜ã€‚ï¼ˆç¥žå¥‡èˆ¬çš„å¼•ç”¨äº†è‡ªå·±ï¼‰ ç»†èƒžäºšåž‹çš„ç©ºé—´ç‰¹å¼‚æ€§ï¼ˆçš®è´¨å±‚åˆ†å¸ƒï¼‰Exå’ŒGranå°†Exå’ŒGranï¼ˆé€šè¿‡SLC17A7å’ŒGRM4ç­›é€‰ï¼‰è¿›ä¸€æ­¥åˆ†è§£ä¸º14ç§ç»†èƒžäºšåž‹ï¼ˆ13Ex+1Granï¼‰ï¼Œå¦‚å›¾Figure2Aã€‚ ã€å¥½é•¿çš„ä¸€å¥è¯ï¼Œçœ‹å›¾æ¯”è¾ƒå®¹æ˜“ã€‘é™¤äº†å¯¹çš®è´¨å±‚ç»†èƒžè¿›è¡Œæ›´åŠ ç»†è‡´çš„äºšåž‹åˆ†åž‹ï¼ˆæ­¤å¤„çš„çš®è´¨å±‚åŒ…æ‹¬ç¬¬5å±‚ä¸­ä¸åŒçš„äºšåž‹$\text{HS3ST5}^-\text{PCP4}^+\text{/ Ex5a}$ã€$\text{HS3ST5}^+\text{PCP4}^-\text{/ Ex5b}$ å’Œ $\text{HTR2C}^+\text{PCP4}^+\text{TLE4}^+\text{/ Ex6a}$ï¼ŒEx6aä¸Žç¬¬6å±‚ä¸­çš„$\text{HTR2C}^-\text{TLE4}^+\text{/ Ex6b}$ç›¸é‚»ï¼‰ï¼Œéšç€å¯è§†çš„çš®è´¨å±‚ç‰¹å¼‚æ€§çš„ç»†èƒžäºšåž‹çš„æ•°é‡çš„å¢žåŠ ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è§£å†³å·¨å¤§çš„è„‘åŒºå¼‚è´¨æ€§é—®é¢˜ï¼ŒåŒ…æ‹¬äºšåž‹$\text{RORB}^+\text{PCP4}^+\text{/ Ex3b}$ã€$\text{RORB}^+\text{NEFM}^{hi}\text{/ Ex3c}$ã€$\text{RORB}^+\text{PHACTR2}^+\text{EYA4}^+\text{/ Ex3d}$ã€‚å¦‚å›¾Figure2C$$\text{Figure 2 - C}$$ ä»Žä¸Šå›¾ï¼ŒEx3dç¥žç»å…ƒçš„markeræ˜¯EYA4ï¼Œå®ƒåœ¨ç¬¬4çš®è´¨å±‚çš„è§†è§‰çš®è´¨ä¸­ç‰¹å¼‚æ€§è¡¨è¾¾ï¼Œåœ¨é¢çš®è´¨ä¸­æ²¡æœ‰è¡¨è¾¾ã€‚ Inå’ŒPurkæˆ‘ä»¬å°†Inå’ŒPurkï¼ˆåˆ©ç”¨GAD1ç­›é€‰ï¼Œå¦‚å›¾Figure2Aï¼‰æŒ‰ç…§æƒå¨çš„ä¸­é—´ç¥žç»å…ƒmarkerï¼ˆä¾‹å¦‚VIP, RELN, PVALB, SSTï¼‰å’Œåœ¨å•ä¸€äºšåž‹ä¸­è¡¨è¾¾çš„åŸºå› ï¼ˆä¾‹å¦‚THSD7B, CA8, GLCEï¼‰åˆ†è§£ä¸º13ç§ç»†èƒžäºšåž‹ï¼ˆ11In+2Purkï¼‰ï¼Œå¦‚ä¸‹å›¾ã€‚$$\text{Figure 2 - B - Bottom}$$ è¿›ä¸€æ­¥ç ”ç©¶äº†Inç¥žç»å…ƒäºšåž‹çš„ç©ºé—´åˆ†å¸ƒå·®å¼‚ï¼Œå¦‚ä¸‹å›¾$$\text{Supplementary Figure 8 - E}$$ å°è„‘ç»†èƒžç±»åž‹åˆ†æžå‰é¢åšçš„éƒ½æ˜¯å¤§è„‘çš®è´¨ï¼ŒçŽ°åœ¨å¼€å§‹ç ”ç©¶å°è„‘ å°è„‘ç»“æž„ç›¸æ¯”äºŽå¤§è„‘çš®è´¨ï¼Œå°è„‘å…·æœ‰æ›´åŠ æ˜Žæ˜¾çš„ç»†èƒžç»“æž„$$\text{Figure 2 - E}$$ markerçš„è¡¨è¾¾åŠç©ºé—´ç‰¹å¼‚æ€§æœ¬æ–‡è§£å†³äº†å¤šä¸ªä¸»è¦çš„ç»†èƒžç¾¤ï¼ŒåŒ…æ‹¬Granå’ŒPurkç¥žç»å…ƒä»¥åŠå®ƒä»¬çš„æ”¯æŒç±»åž‹$$\text{Figure 2 - F}$$$$\text{Figure 2 - G}$$ Purkç¥žç»å…ƒäºšåž‹å‘çŽ°äº†ä¸¤ä¸ªæ˜Žæ˜¾çš„Purkç¥žç»å…ƒäºšåž‹Purk1å’ŒPurk2ï¼šå®ƒä»¬éƒ½è¡¨è¾¾äº†æŠ‘åˆ¶æ€§çš„markeråŸºå› GAD1/GAD2ï¼ˆå¦‚å›¾Figure 2Fï¼‰ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡markeråŸºå› SORCS3è¿›è¡ŒåŒºåˆ†ï¼ˆSORCS3åœ¨Purk2ä¸­ä¸è¡¨è¾¾ï¼‰ã€‚ Astç¥žç»å…ƒäºšåž‹é‰´å®šå‡ºäº†å·²è¢«è¯æ˜Žå­˜åœ¨çš„Astçš„äºšç¾¤ï¼ˆå¦‚å›¾Figure 2Fï¼‰ï¼š Velate Astrocytes, VAsï¼šè¡¨çŽ°å‡ºä¸Žçš®è´¨æ˜Ÿå½¢èƒ¶è´¨ç»†èƒžç›¸ä¼¼çš„è½¬å½•ç‰¹å¾ï¼Œå¯¹Granç¥žç»å…ƒèµ·æ”¯æŒä½œç”¨ Bergmann Glia, Ast_Cerï¼šä¸€ç§ç‰¹æ®Šçš„æ˜Ÿå½¢èƒ¶è´¨ç»†èƒžï¼Œåœ¨å°è„‘å±‚çŠ¶ç»“æž„çš„å‘è‚²è¿‡ç¨‹ä¸­èµ·ç€é‡è¦ä½œç”¨ï¼Œæ”¯æŒå’Œè°ƒèŠ‚Purkç¥žç»å…ƒçš„çªå‡ºæ´»åŠ¨ã€‚é€šè¿‡markeråŸºå› ALDH1A1ç­›é€‰å‡ºæ¥çš„Ast_Cerç»†èƒžä¸°å¯Œè¡¨è¾¾äº†AMPAå—ä½“ç¼–ç åŸºå› GRIA1å’ŒSLC1A3ï¼ˆæˆ–è€…å«GLASTï¼‰ã€‚ OPCsç¥žç»å…ƒäºšåž‹è¿›ä¸€æ­¥åˆ†è§£å‡ºäº†ä¸¤ä¸ªæ˜Žæ˜¾çš„OPCsç»†èƒžäºšç¾¤ï¼š $\text{LUZP2}^+\text{CASK}^+$ï¼šè¡¨çŽ°å‡ºä¸Žçš®è´¨OPCç›¸ä¼¼çš„è½¬å½•ç‰¹ç‚¹ $\text{ORAOV1}^+\text{LRP6}^+\text{RCN2}^+$ï¼šåªåœ¨å°è„‘ä¸­å‘çŽ°ï¼Œæœªä»‹ç»åŠŸèƒ½ Oliç¥žç»å…ƒå¤§éƒ¨åˆ†å°è„‘Olièµ·æºäºŽå°è„‘å¤–éƒ¨ï¼Œå°‘æ•°èµ·æºäºŽlocalç¥–ç»†èƒžã€‚ã€å¾ˆèŽ«åçš„ä¸€å¥è¯ã€‘ This is consistent with the majority of the cerebellar Oli originating from outside the cerebellum, and only a minority being derived from local progenitors$^{[30]}$. å½¢æ€å­¦åŒºåˆ†æ³•çš„é™åˆ¶ä¹Ÿæœ‰äººæå‡ºäº†åŸºäºŽå½¢æ€å­¦åŒºåˆ†å°è„‘åŠçƒçš„ä¸åŒç±»åž‹ï¼Œä½†æ˜¯å…¶å±€é™æ€§å¾ˆå¤§ï¼š è¿™äº›æ˜“äºŽåŒºåˆ†çš„ç»†èƒžæ•°é‡æœ‰é™ å°è„‘ç»„ç»‡ä¸­Granç¥žç»å…ƒæžå…¶ä¸°å¯Œï¼Œå½¢æ€å­¦å¹¶ä¸èƒ½å¸®åŠ©æˆ‘æˆ‘ä»¬å®Œç¾Žåœ°åŒºåˆ†äºšåž‹ã€‚ è½¬å½•è¡¨è§‚è”åˆæ¨¡åž‹æ€æƒ³ä¸ºäº†å»ºç«‹ä¸åŒäºšåž‹è½¬å½•çŠ¶æ€å’Œè¡¨è§‚çŠ¶æ€ä¹‹é—´æ›´åŠ å‡†ç¡®çš„å¯¹åº”å…³ç³»ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š ä»ŽATACæ•°æ®ä¸­å¯»æ‰¾ï¼ˆä¸Žé€šè¿‡è½¬å½•ç»„æ•°æ®æ±‚å‡ºçš„ç»†èƒžäºšç¾¤ç›¸å¯¹åº”çš„ï¼‰ç»†èƒž ä»Žè½¬å½•ç»„æ•°æ®ä¸­å¯»æ‰¾ï¼ˆä¸Žé€šè¿‡ATACæ•°æ®æ±‚å‡ºçš„ç»†èƒžäºšç¾¤ç›¸å¯¹åº”çš„ï¼‰ç»†èƒž ä¸ºäº†å®žçŽ°ä¸Šè¿°æ“ä½œï¼Œè¿›è¡Œäº†ä¸‹é¢ä¸¤ä¸ªå·¥ä½œã€Qã€‘ï¼š ä»¥å·®å¼‚è¡¨è¾¾æ¨¡å¼ä¸ºåŸºç¡€ï¼Œè®­ç»ƒä¸€ä¸ªGBMé¢„æµ‹å·®å¼‚å¼€æ”¾çš„åŸºå› ç»„ä½ç‚¹ ä»¥å·®å¼‚å¼€æ”¾æ€§ä¸ºåŸºç¡€ï¼Œè®­ç»ƒå¦å¤–ä¸€ä¸ªGBMé¢„æµ‹å·®å¼‚è¡¨è¾¾ é‡åŒ–ä¾æ®ï¼š ä¸€ä¸ªä½ç‚¹åˆ°ä¸€ä¸ªåŸºå› çš„è·ç¦» æŸä¸ªä½ç‚¹æˆ–åŸºå› å·®å¼‚è¡¨è¾¾æˆ–è€…å·®å¼‚å¼€æ”¾çš„ç¨‹åº¦ æ¨¡åž‹ç¤ºæ„å›¾å¦‚ä¸‹$$\text{Figure 3 - a}$$ å¯è¡Œæ€§å°½ç®¡é¢„æµ‹å•ä¸ªåŸºå› æˆ–è€…ä½ç‚¹çš„å·®å¼‚è¡¨è¾¾æˆ–è€…å·®å¼‚å¼€æ”¾çš„ç¨‹åº¦æœ‰ç‚¹å›°éš¾ï¼Œè”åˆè€ƒè™‘å¤šä¸ªåŸºå› æˆ–è€…ä½ç‚¹æ¥å¯¹ç»†èƒžåˆ†ç±»çš„å¯ä¿¡åº¦è¿˜æ˜¯æŒºé«˜çš„ã€‚Supplementary Figure 10 æ­¥éª¤è€ƒè™‘åˆ°è½¬å½•ç»„æ•°æ®çš„é«˜ç²¾åº¦ç‰¹æ€§ï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡è¯†åˆ«è§‚å¯Ÿåˆ°çš„è½¬å½•ç»„äºšç¾¤çš„æŸ“è‰²è´¨å¼€æ”¾æ€§ç‰¹å¾ï¼Œå°†è¯¥æ¨¡åž‹åº”ç”¨äºŽè¿›ä¸€æ­¥åœ°åˆ’åˆ†æŸ“è‰²è´¨å¼€æ”¾æ€§èšç±»ç°‡ã€Qã€‘ é€šè¿‡ç§¯ç´¯è¡¨è¾¾ä¿¡å·å¯¹å·²è¯†åˆ«çš„ç»†èƒžç±»åž‹è¿›è¡Œå±‚æ¬¡èšç±»ï¼Œå»ºç«‹ä¸€ä¸ªç»†èƒžç±»åž‹å…³ç³»çš„ç³»ç»Ÿæ ‘å›¾ åœ¨ç³»ç»Ÿæ ‘å›¾ä¸Šè¿›è¡Œè¿­ä»£äºŒåˆ†ï¼Œè¯†åˆ«å‡ºä¸¤ä¸ªåˆ†æ”¯ä¸Šå·®å¼‚è¡¨è¾¾çš„åŸºå›  ä½¿ç”¨GBMåˆ†ç±»å™¨é¢„æµ‹å·®å¼‚å¼€æ”¾çš„åŸºå› ç»„ä½ç‚¹ è€ƒè™‘æ‰€æœ‰é¢„æµ‹çš„å·®å¼‚å¼€æ”¾çš„ä½ç‚¹å°†scTHS-seqçš„ç»†èƒžåˆ†ç±»åˆ°å…¶ä¸­ä¸€ä¸ªåˆ†æ”¯ï¼Œå…¶æŸ“è‰²è´¨å¼€æ”¾æ¨¡å¼ä¸Žè¯¥åˆ†æ”¯çš„æŸ“è‰²è´¨å¼€æ”¾æ¨¡å¼ä¸€è‡´ ä»Žèµ·å§‹çš„åˆ†ç±»ç»“æžœæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªrefinedå·®å¼‚å¼€æ”¾ä¿¡å·ï¼Œç»¼åˆäºŒè€…åˆ¤æ–­æœ€ç»ˆæ‰€å±žåˆ†æ”¯ï¼ŒåŒæ—¶é€šè¿‡äº¤å‰éªŒè¯è¯„ä¼°åˆ†æ”¯æ³¨é‡Šçš„ç¨³å®šæ€§ã€Qã€‘ åº”ç”¨é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä»Žè½¬å½•æ•°æ®ä¸­è¯†åˆ«å‡ºäº†ï¼ˆæ–°çš„ï¼Ÿï¼‰éžç¥žç»å…ƒç»†èƒžå’Œç¥žç»å…ƒç»†èƒžç±»åž‹ä¹‹é—´çš„å·®å¼‚è¡¨è¾¾åŸºå› ã€‚ é€šè¿‡é¢„æµ‹çš„å·®å¼‚å¼€æ”¾æ€§ä½ç‚¹ï¼Œç»†åŒ–ï¼ˆæŸ“è‰²è´¨å¼€æ”¾æ€§æ•°æ®ä¸­çš„ï¼‰éžç¥žç»å…ƒå’Œç¥žç»å…ƒç»†èƒžç±»åž‹ç½®ä¿¡åº¦æ›´é«˜ã€‚ è§£å†³äº†ç¥žç»å…ƒç»†èƒžç±»åž‹çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤è¿™ä¸ªè¿‡ç¨‹æ¥åŒºåˆ†å…´å¥‹æ€§ç¥žç»å…ƒå’ŒæŠ‘åˆ¶æ€§ç¥žç»å…ƒã€‚ç„¶åŽå†æ¬¡é‡å¤è¿™ä¸ªè¿‡ç¨‹æ¥åŒºåˆ†æŠ‘åˆ¶ç¥žç»å…ƒä¸­ä¸åŒçš„ç»†èƒžäºšåž‹ï¼ˆFigure 3b &amp; Figure 3cï¼‰ã€‚ä¾æ­¤ç±»æŽ¨ã€‚ é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¯†åˆ«ä¸ŽæŠ‘åˆ¶æ€§ç¥žç»å…ƒäºšåž‹ï¼ˆInA, InBï¼‰ç›¸å…³çš„è¡¨è§‚é—ä¼ ï¼ˆå¼€æ”¾æ€§ï¼‰å·®å¼‚ InAå’ŒInBçš„å·®å¼‚ï¼šå‘è‚²æ¥æºä¸åŒï¼ˆFigure 3bï¼‰ InAèµ·æºäºŽå†…ä¾§ç¥žç»èŠ‚çš„çš®è´¨ä¸‹åŒºåŸŸ InBèµ·æºäºŽå¤–ä¾§/å°¾ä¾§ç¥žç»èŠ‚çš„çš®è´¨ä¸‹åŒºåŸŸ ç„¶è€Œï¼Œå› ä¸ºå·®å¼‚å¼€æ”¾ä½ç‚¹çš„æ•°é‡ä¸å¤Ÿï¼Œå°è¯•ä»ŽInAå’ŒInBä¸­åˆ†è§£å‡ºæ›´å¤šçš„ç»†èƒžäºšåž‹æ—¶ç»“æžœä¸ç¨³å®šã€‚ï¼ˆFigure 3b &amp; Figure 3cï¼‰ ä»…ä»…é€šè¿‡å·®å¼‚å¼€æ”¾ä¿¡æ¯åŒºåˆ†ExL4å’ŒExL5&amp;ExL6çš„å·®å¼‚æ˜¯å¾ˆéš¾çš„ï¼Œæ­¤æ—¶ç»“åˆæ¥è‡ªæ›´é«˜ç²¾åº¦çš„è½¬å½•æœ¬æ•°æ®çš„å·®å¼‚è¡¨è¾¾ä¿¡æ¯èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è¯†åˆ«ï¼ˆæ›´å¤šçš„ï¼Ÿï¼‰ç›¸å…³å·®å¼‚å¼€æ”¾æ€§ä½ç‚¹ï¼Œä»Žè€Œå°†åŸºäºŽæŸ“è‰²è´¨å¼€æ”¾æ€§çš„èšç±»ç°‡åˆ†è§£æˆæ›´åŠ ç»†è‡´çš„äºšåž‹ã€‚ é‰´å®šå‡ºä¸»è¦ç»†èƒžç±»åž‹çš„ç½®ä¿¡åº¦è¾ƒé«˜ï¼Œå¦‚ Oli, OPC, Ast, End, In, and Ex cells as expected from the visual cortexï¼ˆFigure 3cï¼‰ Ast, Oli, In, and Ex cells in the frontal cortex and Gran, Oli, and End cells in the cerebellumï¼ˆSupplementary Figure 6ï¼‰ æˆ‘ä»¬è¿›ä¸€æ­¥è¯å®žäº†ï¼Œåˆ†è§£å‡ºæ¥çš„ç»†èƒžç±»åž‹/äºšåž‹åœ¨markerçš„å¯åŠ¨å­ä½ç½®å‡ºçŽ°äº†å¼€æ”¾æ€§å¯Œé›†ï¼Œè¿™è¡¨æ˜Žäº†ï¼šè¡¨è¾¾å’Œè°ƒæŽ§çš„ä¸€è‡´æ€§ã€‚ï¼ˆFigure 3gï¼‰ æ€»ç»“ç›¸æ¯”äºŽè½¬å½•ç»„æ•°æ®ï¼Œè¡¨è§‚ç»„æ•°æ®çš„ç»†èƒžåˆ†åž‹ç²¾åº¦è¾ƒä½Žã€‚ä½†æ˜¯æ•´åˆä¸¤ç±»æ•°æ®èƒ½å¤Ÿé‡æž„å‡ºè¾ƒä¸ºè¯¦ç»†çš„å¤§è„‘ç»†èƒžç±»åž‹å¼€æ”¾æ€§å›¾è°±ï¼Œç®€å•ç ”ç©¶æ¯ä¸ªç»†èƒžç±»åž‹è°ƒæŽ§è¿‡ç¨‹çš„æ´»æ€§ã€‚ é«“éž˜å†ç”Ÿ ä¸­æž¢ç¥žç»ç³»ç»Ÿçš„é«“éž˜æ˜¯ç”±å°‘çªèƒ¶è´¨ç»†èƒžç¼ ç»•ç¥žç»è½´çªå½¢æˆ æ‰¾TFså‰é¢å»ºç«‹äº†å¯ä»¥æ ¹æ®è¡¨è§‚ç»„æ•°æ®åŒºåˆ†ç»†èƒžç±»åž‹/äºšåž‹çš„æ¨¡åž‹ï¼ŒçŽ°åœ¨å¯»æ‰¾ä¸Žæ¯ä¸€ç§ç»†èƒžç±»åž‹/äºšåž‹ç‰¹å¼‚æ€§ç›¸å…³çš„TFsã€‚ æˆ‘ä»¬è¦æ‰¾çš„æ˜¯è¿™æ ·ä¸€äº›TFsï¼šå®ƒä»¬çš„é¢„æµ‹ç»“åˆä½ç‚¹åœ¨å…·æœ‰ç»†èƒžç±»åž‹å·®å¼‚æ€§çš„å¼€æ”¾æ€§åŒºåŸŸå†…è¿‡åº¦è¡¨è¾¾ã€‚ï¼ˆFigure 4aï¼‰ æ‰«æ379ä¸ªTFsï¼ˆæ¥è‡ªäºŽJSPARæ•°æ®åº“ï¼Œå¸¦æœ‰PWMï¼‰ï¼Œç„¶åŽæ‰¾åˆ°äº†ä¸Žè‡³å°‘ä¸€ç§ç»†èƒžç±»åž‹ç»Ÿè®¡æ˜¾è‘—ç›¸å…³çš„TFsã€‚ï¼ˆFigure 4bï¼‰ æ·±å…¥ç ”ç©¶äº†ä¸åŒç©ºé—´ä½ç½®çš„Exå’ŒInç‰¹å¼‚æ€§çš„TFçš„æ´»æ€§ã€‚ ä½¿ç”¨snDrop-seqæ•°æ®è¿›è¡Œäº¤å‰éªŒè¯ï¼Œç¡®ä¿ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§çš„TFä¹Ÿä¼šåœ¨ç›¸åº”çš„ç»†èƒžç±»åž‹ä¸­é«˜è¡¨è¾¾ã€‚ æˆå¹´äººè„‘ä¸­OPCså‘Oliçš„è½¬å˜è¿‡ç¨‹ä¸€ä¸ªè½¬å½•å› å­å¼•å‘çš„æƒ¨æ¡ˆï¼šæ–°çš„ä¸­é—´ç»†èƒžã€äººé¼ è½¬å˜å·®å¼‚ ã€æœºç¿»ã€‘ä¸ºäº†è¯æ˜Žå‰é¢æåˆ°çš„ç»¼åˆæ€§åˆ†æžæ–¹æ³•å…·æœ‰ä¸€å®šçš„ç”Ÿç‰©å­¦å®žç”¨ä»·å€¼ï¼Œæ·±å…¥ç ”ç©¶äº†æˆå¹´äººè„‘ä¸­OPCså‘Oliçš„è½¬å˜è¿‡ç¨‹ã€‚é«“éž˜å†ç”Ÿæ˜¯é€šè¿‡OPCsçš„ç¥žç»å…ƒæ´»åŒ–å’Œåˆ†åŒ–æˆæœ‰é«“å°‘çªèƒ¶è´¨ç»†èƒžè€Œå‘ç”Ÿçš„ï¼Œè¿™äº›ç»†èƒžé‡æ–°åŒ…è£¹ç¥žç»å…ƒè½´çªï¼Œä»¥æ¢å¤è·³è·ƒä¼ å¯¼å’Œæ­£å¸¸åŠŸèƒ½ã€‚è¿™ä¸€è¿‡ç¨‹çš„å¤±è°ƒå¯å¯¼è‡´ä¸¥é‡çš„ç¥žç»ç³»ç»Ÿç–¾ç—…ï¼Œä¾‹å¦‚å¤šå‘æ€§ç¡¬åŒ–ç—‡ï¼ˆMSï¼‰ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å‘çŽ°äº†åŒºåˆ†OPCå’ŒOliç»†èƒžç¾¤çš„ç‰¹å¼‚è½¬å½•å› å­ï¼ˆF4bï¼‰ã€‚ä¸ºäº†ç¡®å®šè¿™äº›ã€Qã€‘æ˜¯å¦èƒ½æ­ç¤ºæˆäººé«“éž˜å†å½¢æˆçš„å…³é”®è°ƒæŽ§è¿‡ç¨‹ï¼Œæˆ‘ä»¬è¯„ä¼°äº†è§†è§‰çš®è´¨ä¸­è¿™äº›è°±ç³»çš„åˆ†åŒ–çŠ¶æ€å’Œç›¸å…³åŸºå› è¡¨è¾¾ç‰¹å¾ã€‚åˆ©ç”¨Destinyçš„æ‰©æ•£å›¾è°±ï¼Œæˆ‘ä»¬å¯ä»¥å°†OPCå’ŒOliç»†èƒžæ²¿ç€å‘è‚²è½¨è¿¹å®šä½ï¼ˆF4Cã€SF12ï¼‰ï¼Œå¹¶è¯„ä¼°ç»†èƒžåœ¨å¼€å§‹ã€ä¸­é—´å’Œç»“æŸæ—¶çš„å·®å¼‚è¡¨è¾¾ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘çŽ°äº†ç‹¬ç«‹äºŽå®žéªŒæ‰¹æ¬¡çš„ä¸­é—´ç»†èƒžï¼ˆæœªæˆç†Ÿçš„Oliï¼Œç§°ä¹‹ä¸ºiOliï¼‰ï¼Œå®ƒä»¬å…·æœ‰ç‹¬ç‰¹çš„è¡¨è¾¾ç‰¹å¾ï¼ˆå›¾4C-Dï¼Œå›¾S12ï¼Œè¡¨S6ï¼‰ï¼Œå¯ä»¥æ·±å…¥äº†è§£äººç±»æˆå¹´Oliæˆç†Ÿçš„æ—©æœŸæœºåˆ¶ã€‚ä¸Žå°é¼ å®žéªŒç»“æžœä¸€è‡´ï¼Œæˆ‘ä»¬çš„äººç±»OPCç»†èƒžç¾¤è¡¨è¾¾äº†ä¸Žå°é¼ OPCsç›¸å…³çš„markerï¼ˆPDGFRA, CSPG4, SOX6, VCANï¼‰ï¼Œä½†ä»–ä»¬ä¹Ÿè¡¨è¾¾äº†æ›´å¿ è¯šçš„å°é¼ ç¥–ç»†èƒžçš„marker(ITPR2, NEU4)ï¼Œè¡¨æ˜Žæˆ‘ä»¬çš„äººç±»æ•°æ®æ— æ³•åŒºåˆ†è¿™äº›å¾®å¦™çš„çŠ¶æ€ï¼ˆå›¾4Dï¼Œè¡¨S6ï¼‰ã€‚æ­¤å¤–ï¼Œæˆç†Ÿçš„Oliï¼ˆmOliï¼‰ç»†èƒžç¾¤è¡¨è¾¾äº†ä¸Žé«“éž˜å½¢æˆç›¸å…³çš„markerï¼ˆPLP1, MBP, MOGï¼‰ï¼ˆå›¾4Dï¼Œè¡¨S6ï¼‰ï¼Œå¹¶æ²¡æœ‰åƒå°é¼ é‚£æ ·åˆ†è§£æˆè¿›ä¸€æ­¥çš„äºšåž‹ï¼Œè¿™å¯èƒ½æ˜¯æˆå¹´äººè„‘ä¸­ç¼ºä¹å¹¼å¹´çŠ¶æ€çš„åŽŸå› ã€‚ æ¸è¿›è¡¨è¾¾ç‰¹å¾ =&gt; OPCè°·æ°¨é…¸æ¿€æ´»ååº”ç»“åˆå…¶ä»–ç ”ç©¶ ç„¶è€Œï¼Œåœ¨OPCsã€iOliå’ŒmOliä¸­å‘çŽ°çš„æ¸è¿›è¡¨è¾¾ç‰¹å¾ï¼ˆè¡¨è¾¾é‡ï¼Ÿï¼‰ï¼Œæ˜¯è·¨è„‘åŒºåŸŸä¿å®ˆä¸”ç‹¬ç«‹äºŽæŽ’åºæ–¹æ³•çš„ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–ä¸ºOPCè°·æ°¨é…¸æ¿€æ´»ååº”çš„å„ä¸ªé˜¶æ®µï¼ˆå›¾S13ï¼‰ã€‚æœ€è¿‘çš„ç ”ç©¶è¡¨æ˜Žï¼ŒAMPAå’Œçº¢è—»æ°¨é…¸å—ä½“ä»‹å¯¼äº†ä¸€ç§å¯¹è°·æ°¨é…¸çš„åˆå§‹è½´çª-OPCçªè§¦ååº”ï¼Œè¯¥ååº”å°†OPCså¯¼å‘æš´éœ²çš„è½´çªä½ç½®ï¼ŒNMDAå—ä½“çš„æ¿€æ´»å°†åœ¨è½´çªä½ç½®ä¸Šå¼•å¯¼é«“éž˜å†ç”Ÿã€‚ä¸Žè¿™ä¸€å‘çŽ°ä¸€è‡´ï¼Œæˆ‘ä»¬çš„æ•°æ®æ˜¾ç¤ºAMPAå’Œçº¢è—»æ°¨é…¸å—ä½“ç¼–ç åŸºå› ï¼ˆGRIN/GRIKï¼‰åœ¨OPCså’ŒiOliä¸­å¯Œé›†ï¼Œè€ŒNMDAå—ä½“ç¼–ç åŸºå› ï¼ˆGRIN2A, GRIN2Bï¼‰ä»…åœ¨iOliäºšç¾¤ä¸­å¯Œé›†ï¼ˆå›¾4Dï¼Œè¡¨S6ï¼‰ã€‚OPCæˆç†Ÿè¿‡ç¨‹ä¸­æ‰€é‰´å®šçš„åŸºå› é›†çš„åŠŸèƒ½ä¸ªä½“å‘è‚²ç»åŽ†äº†å…­ä¸ªé˜¶æ®µï¼Œè¿™äº›ç»“æžœä¸ºç¥žç»ç»†èƒžåœ¨é«“éž˜å†ç”Ÿä¸­çš„æ´»åŠ¨æœºåˆ¶æä¾›äº†ç‹¬ç«‹çš„æ”¯æŒï¼š(å›¾S13) ç¥žç»å‘ç”Ÿï¼ˆç¥–ç»†èƒžmarkerè¡¨è¾¾ï¼‰ è°·æ°¨é…¸å—ä½“æ´»æ€§ çªè§¦ä¼ é€’ ç¦»å­é€šé“æ´»æ€§ è†œç»„è£… è½´çªéž˜å½¢æˆã€‚ OPCå’ŒOliäºšç¾¤çš„å·®å¼‚ä¸Šè°ƒåŸºå› çš„å¼€æ”¾æ€§å·®å¼‚å¼€æ”¾ã€å¼€æ”¾äº’æ–¥ã€ä¿å®ˆè°ƒæŽ§ ä¸ºäº†äº†è§£è¿™äº›åŸºå› è¡¨è¾¾åŠ¨æ€çš„è°ƒæŽ§æœºåˆ¶ï¼Œæˆ‘ä»¬åŸºäºŽscTHS-seqæ•°æ®è”åˆè¯„ä¼°äº†è§†è§‰çš®è´¨ä¸­OPCå’ŒOliäºšç¾¤çš„å·®å¼‚ä¸Šè°ƒåŸºå› çš„å¼€æ”¾æ€§ã€‚ ä¸Žæˆ‘ä»¬çš„è¡¨è¾¾æ•°æ®ä¸€è‡´ï¼ŒOPCã€iOliå’ŒmOliåŸºå› çš„è°ƒæŽ§ä½ç‚¹æ˜¾ç¤ºå‡ºå·®å¼‚å¼€æ”¾æ€§(å›¾4E)ã€‚æ­¤å¤–ï¼ŒOPCå’ŒiOliåŸºå› çš„å¼€æ”¾æ€§æ˜¾ç¤ºå‡ºå‡ ä¹Žå®Œå…¨çš„äº’æ–¥æ€§ï¼Œè¡¨æ˜Žå¯èƒ½å­˜åœ¨ç»´æŒè¿™ä¸¤ç§çŠ¶æ€çš„æ´»è·ƒè°ƒæŽ§æœºåˆ¶ã€‚OPCå¼€æ”¾æ€§åŒºåŸŸå†…æœ€æ˜¾è‘—çš„è½¬å½•å› å­æ´»åŠ¨ä¸ŽSOX9æœ‰å…³(å›¾4Fï¼Œè¡¨S7)ï¼ˆå·²çŸ¥SOX9ä¸Žå°é¼ OPCçš„ç‰¹åŒ–ã€ç”Ÿå­˜å’Œè¿ç§»æœ‰å…³ï¼‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å‘çŽ°iOliç‰¹å¼‚çš„å¼€æ”¾æ€§ä½ç‚¹è¡¨çŽ°å‡ºäº†é‡è¦çš„TCF4è½¬å½•å› å­çš„ç»“åˆå¯Œé›†ï¼ˆå›¾4 gã€è¡¨S7ï¼‰ï¼ˆTCF4åœ¨è°ƒèŠ‚Wnt/Î²-cateninä»¥ä¿ƒè¿›å°é¼ é«“éž˜å†ç”Ÿä¸­æ‰®æ¼”ç€å¾ˆé‡è¦çš„è§’è‰²ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„è½¬å½•å› å­åˆ†æžæ­ç¤ºäº†ç»´æŒæˆå¹´å°‘çªèƒ¶è´¨ç»†èƒžç¥–ç»†èƒžå¹¶åè°ƒå…¶æˆç†Ÿä»¥è¿›è¡Œå†é«“éž˜åŒ–çš„ä¿å®ˆè°ƒæŽ§æœºåˆ¶ã€‚ å°†ç—…å˜é£Žé™©æ˜ å°„åˆ°å¤§è„‘ç‰¹å®šçš„ç»†èƒžç±»åž‹ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§è¡¨è§‚åŸºå› ç»„ä¿¡æ¯å¯¹äºŽè®¸å¤šå¸¸è§é—ä¼ ç–¾ç—…çš„è‡´ç—…ç»†èƒžç±»åž‹å’Œç‰¹å¼‚æ€§è°ƒæŽ§æœºåˆ¶çš„è¯†åˆ«å…·æœ‰é‡è¦ä»·å€¼ï¼Œä½†å¯¹è„‘ç–¾ç—…çš„è®¤è¯†ä»ä¸å……åˆ†ã€‚ ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡ç¾Žå›½å›½ç«‹å«ç”Ÿç ”ç©¶é™¢ï¼ˆNIHï¼‰çš„GRASPæœç´¢å·¥å…·ï¼ˆGenome-Wide Repository of Associations Between SNPs and Phenotypesï¼‰èŽ·å–äº†$p&lt;10^{-6}$çš„SNPsï¼Œè¿™äº›SNPsä¸Ž10ä¸ªå¤§è„‘ç–¾ç—…ç›¸å…³ï¼ŒåŒæ—¶è¿˜é€‰å–äº†7ä¸ªéžå¤§è„‘ç–¾ç—…ç›¸å…³SNPsä½œä¸ºå¯¹ç…§ã€‚ ç”±äºŽè‡´ç—…çªå˜å¸¸ä½äºŽä¸ŽGWAS SNPsè¿žé”ä¸å¹³è¡¡çš„ä¸åŒä½ç½®ï¼Œæˆ‘ä»¬ä»¥æŸä¸€ç‰¹å®šç–¾ç—…çš„æ‰€æœ‰GWAS SNPsä¸ºä¸­å¿ƒï¼Œåœ¨100 kbçª—å£ä¸­å¯»æ‰¾å¯Œé›†çš„dnaå¼€æ”¾æ€§åŒºåŸŸï¼Œå¹¶é€šè¿‡éšæœºæŽ’åˆ—è¯„ä¼°å…¶æ„ä¹‰ã€‚ è¯¥åˆ†æžè¯æ˜Žäº†ï¼ˆåœ¨å¤šç§ç»†èƒžç±»åž‹å’Œäºšåž‹ä¸­ï¼‰å¾ˆå¼ºçš„ç–¾ç—…ç‰¹å¼‚æ€§å¯Œé›†ï¼Œä¸Žå¦ä¸€ç§å¯èƒ½ï¼ˆå³ä¸€è‡´æ€§ï¼‰å½¢æˆå¯¹æ¯”ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å‘çŽ°é˜¿å°”èŒ¨æµ·é»˜ç—…(AD)é£Žé™©å˜å¼‚åœ¨Micä¸­é«˜åº¦å¯Œé›†ï¼Œè¿™ä¸Žåœ¨æ™šå‘æ€§ADçš®è´¨å’ŒADé£Žé™©ä¸­è¢«å‘çŽ°æ¿€æ´»çš„æ˜¾è‘—Micä¿¡å·ä¸€è‡´ã€‚ ä¸ŽATAC-seq dataæ‰¹é‡æ•°æ®çš„æ¯”è¾ƒè¡¨æ˜Žï¼Œæˆ‘ä»¬çš„å•ç»†èƒžæ•°æ®å¯¹äºŽé¢„æµ‹Micè°ƒæŽ§ä½ç‚¹åŠå…¶ç›¸å…³çš„ç–¾ç—…ç‰¹å¼‚æ€§é£Žé™©å˜å¼‚å¯Œé›†å…·æœ‰æ•æ„Ÿæ€§ã€‚ æˆ‘ä»¬æ²¡æœ‰å‘çŽ°ä»»ä½•ä¸Žå¤§è„‘æ— å…³çš„ç–¾ç—…å˜å¼‚çš„æ˜¾è‘—å¯Œé›†ç¥žç»å…ƒï¼Œè¿™è¿›ä¸€æ­¥æ”¯æŒäº†æˆ‘ä»¬å¯¹ç–¾ç—…è‡´ç—…æ€§çš„é¢„æµ‹ç»†èƒžç±»åž‹ã€‚ äº‹å®žä¸Šï¼Œå¤§å¤šæ•°ä¸Žå¤§è„‘æ— å…³çš„å¯Œé›†éƒ½æ˜¯ä¸Žè¿™äº›ç–¾ç—…å¯†åˆ‡ç›¸å…³çš„ç»†èƒžç±»åž‹ï¼Œå¦‚è‡ªèº«å…ç–«æ€§ç–¾ç—…ä¸­çš„Micå’ŒEndç»†èƒžã€‚ å› æ­¤ï¼Œæˆ‘ä»¬çš„å•ç»†èƒžè°ƒæŽ§å›¾ä¸Žå¤§é‡ç ”ç©¶é«˜åº¦ä¸€è‡´ï¼Œå¯èƒ½ä¸Žç»†èƒžç±»åž‹ç‰¹å¼‚æ€§ç–¾ç—…é£Žé™©ç›¸å…³ã€‚ å°½ç®¡è¿›ä¸€æ­¥åœ°éªŒè¯éœ€è¦æ›´å¤šçš„æ ·æœ¬å’Œå…¶å®ƒç–¾ç—…çš„æ•°æ®ï¼Œå‘ç—…æœºç†å°šæœªç ”ç©¶ï¼Œæˆ‘ä»¬çš„æŸ“è‰²è´¨å›¾è°±æä¾›äº†ä¸€ä¸ªç»†èƒžç±»åž‹æˆ–ç»†èƒžäºšåž‹ç‰¹å¼‚æ€§æ•°æ®é›†ï¼Œé€šè¿‡è¿™äº›æ•°æ®é›†å¯ä»¥ä»Žæ–°çš„è§’åº¦äº†è§£å¤§è„‘ç–¾ç—…ã€‚ æ€»ç»“ï¼š åœ¨çº¿æœç´¢ç–¾ç—…ç›¸å…³çš„SNPsï¼Œè§‚å¯Ÿå®ƒä»¬æ˜¯å¦æœ‰ç»†èƒžç±»åž‹ç‰¹å¼‚æ€§ï¼šéªŒè¯å‡ºäº†ADåœ¨Micä¸­å¯Œé›†ï¼Œä¸Žå¤§è„‘æ— å…³çš„ç–¾ç—…ä¸ä¼šå¯Œé›†ã€‚ Discussionç»†èƒžç±»åž‹ç»„æˆçš„é‡æž„æœ‰åˆ©äºŽåŠ æ·±æˆ‘ä»¬å¯¹äººè„‘æ­£å¸¸åŠŸèƒ½å’ŒåŠŸèƒ½å¤±è°ƒä»¥åŠå‘ç—…æœºç†çš„ç†è§£ã€‚ æœ¬æ–‡ä½¿ç”¨äº†ä¸¤ä¸ªæ‰©å±•æ€§è¾ƒå¼ºçš„æ–¹æ³•ï¼ˆsnDrop-seqå’ŒscTHS-seqï¼‰åœ¨å•ç»†èƒžæ°´å¹³ä¸Šç»¼åˆåˆ†æžäº†æˆå¹´é—ä½“å¤§è„‘çš„è½¬å½•ç»„å’Œè¡¨è§‚ç»„æ•°æ®ã€‚ ä½¿ç”¨æ ¸åˆ†ç¦»æŠ€æœ¯å…‹æœæ´»ä½“é‡‡æ ·æˆ–è€…ä¿å­˜æ€§æ ·æœ¬é¢„å¤„ç†çš„é˜»ç¢ï¼Œæˆ‘ä»¬é‰´å®šå‡ºäº†å¤§è„‘çš®è´¨å’Œå°è„‘è„‘åŒºç¥žç»ç»†èƒž/éžç¥žç»ç»†èƒžä¸€å…±35ä¸ªç»†èƒžäºšç¾¤ã€‚ æˆ‘ä»¬çš„ç»“æžœå¼ºè°ƒäº†åœ¨å¤æ‚ç»„ç»‡ä¸­è¿›è¡Œå•ç»†èƒžç¨€ç–é‡‡æ ·çš„ä»·å€¼ï¼šåªè¦å•ç»†èƒžæ•°æ®å†…å«ç”¨äºŽèšç±»å’ŒæŽ’åºçš„æ‰€æœ‰ä¿¡æ¯ï¼Œå®ƒä»¬å°±èƒ½è¢«æ•´åˆèµ·æ¥ï¼Œèµ·åˆ°ä¸Žæ··æ± æµ‹åºç›¸åŒçš„æ•ˆæžœã€‚ è¿™ä¸€ç»“è®ºä¹Ÿèƒ½åº”ç”¨äºŽæŸ“è‰²è´¨å¼€æ”¾æ€§æ•°æ®ï¼Œç”¨æ¥è§£é‡ŠåŸºäºŽè§†è§‰çš®è´¨æ•°æ®åˆ†è§£å‡ºäº†å¤§é‡çš„ç»†èƒžäºšåž‹ã€‚ ç„¶è€Œï¼Œå°½ç®¡å¯ä»¥å¢žåŠ scTHSçš„æµ‹åºæ·±åº¦ï¼ŒæŸ“è‰²è´¨å¼€æ”¾æ€§æ•°æ®æœ¬èº«ç”¨äºŽæ¯”è¾ƒç²¾ç»†çš„ç»†èƒžç±»åž‹åˆ†è§£æ¯”è¾ƒå›°éš¾ï¼Œå…¶çµæ•åº¦éœ€è¦æé«˜ã€‚ å°½ç®¡snDrop-seqèƒ½å¤Ÿç”¨äºŽæ›´åŠ å¹¿æ³›çš„ç»„ç»‡å»ºè°±ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨å°é¼ çš„çš®è´¨Astå’ŒOliçš„ç»†èƒžäºšåž‹çš„å¯»æ‰¾è¿‡ç¨‹ä¸­æ²¡æœ‰æˆåŠŸï¼ï¼ï¼ç„¶åŽåˆ†æžäº†å¯èƒ½çš„åŽŸå› ã€‚ è¿˜æ˜¯è§£å†³äº†ä¸€äº›é—®é¢˜ï¼šç»†èƒžåˆ†åž‹ã€é«“éž˜å†ç”Ÿ para2 æå‡ºäº†ä¸€ç§æ•´åˆè½¬å½•ç»„å’Œè¡¨è§‚ç»„æ•°æ®çš„ç­–ç•¥ï¼Œè¿›è¡Œæ›´åŠ ç²¾ç»†çš„ç»†èƒžåˆ†åž‹ã€‚ Glossaryæä¾›â€¦â€¦çš„è§†è§’ provide insights into â€¦ç»¼åˆåˆ†æž integrative analysisæœ€ç»ˆ ultimatelyä½¿â€¦â€¦æˆä¸ºå¿…éœ€ necessitate [vt]æ€»çš„æ¥è¯´ overallä¸Žâ€¦â€¦ç›¸å…³ underlyingè§£é‡Šï¼Œè¯ é‡Šï¼Œè§£è°ƒ interrogationè¢«è¿›ä¸€æ­¥çš„åˆ†è§£ä¸º be further resolved intoèµ·æºäºŽ stem from / derive fromuneven/even ä¸å‡åŒ€çš„ï¼Œå¥‡æ•°/å¶æ•°notably ç‰¹åˆ«åœ°ï¼Œå°¤å…¶åœ°ï¼Œå¼•äººæ³¨ç›®åœ°be in line with ä¸Žâ€¦â€¦ä¸€è‡´ corresponding with åŸºå› å†…åŒºåŸŸ intronic regionåŸºå› é—´åŒºåŸŸ intergenic regionè¡¨è§‚é—ä¼ æž„åž‹ epigenetic configurationé«“éž˜å†ç”Ÿ remyelination cerebellum è‹± [,serÉªâ€™belÉ™m] ç¾Ž [â€˜sÉ›rÉ™â€™bÉ›lÉ™m] n. [è§£å‰–] å°è„‘ [ å¤æ•° cerebellusæˆ–cerebella ]temporal lobe [è§£å‰–] é¢žå¶]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Linuxä¸‰ä¸ªå¸¸è§çš„åŽ‹ç¼©æ‰“åŒ…å‘½ä»¤]]></title>
    <url>%2Fos%2F20190515-feae.html</url>
    <content type="text"><![CDATA[å¸¸è§åŽ‹ç¼©æ–‡ä»¶æ‰©å±•å æ‰©å±•å è§£é‡Š *.gz gzipåŽ‹ç¼©æ–‡ä»¶ *.bz2 bzip2åŽ‹ç¼©æ–‡ä»¶ *.tar taræ‰“åŒ…çš„æ–‡ä»¶ï¼Œæ²¡æœ‰åŽ‹ç¼© *.tar.gz taræ‰“åŒ…æ–‡ä»¶ã€‚ç»è¿‡gzipåŽ‹ç¼© *.tar.bz2 taræ‰“åŒ…æ–‡ä»¶ï¼Œç»è¿‡bzip2åŽ‹ç¼© gzipåŽ‹ç¼©å¹¶åˆ é™¤æœ¬åœ°æ–‡ä»¶ï¼šgzip -v SOURCE åŽ‹ç¼©ä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼šgzip -c SOURCE &gt; TARGET è§£åŽ‹ç¼©ï¼šgzip -d SOURCE ä¸è§£åŽ‹ç¼©ä½†æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼šzcat SOURCE bzip2å–ä»£gzipï¼ŒåŽ‹ç¼©æ¯”ä¾‹é«˜äºŽgzip åŽ‹ç¼©å¹¶åˆ é™¤æœ¬åœ°æ–‡ä»¶ï¼šbzip2 -zv SOURCE åŽ‹ç¼©ä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼šbzip2 -kv SOURCE è§£åŽ‹ç¼©ï¼šbzip2 -d SOURCE ä¸è§£åŽ‹ç¼©ä½†æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼šbzcat SOURCE tarå°†ï¼ˆå¤šä¸ªï¼‰æ–‡ä»¶æ‰“åŒ…ï¼ˆåŽ‹ç¼©ï¼‰æˆä¸€ä¸ªæ–‡ä»¶ åŽ‹ç¼© -cï¼š åˆ›å»ºbzip2åŽ‹ç¼©æ–‡ä»¶ï¼štar -jcvf TARGET.tar.bz2 SOURCE åˆ›å»ºgzipåŽ‹ç¼©æ–‡ä»¶ï¼štar -zcvf TARGET.tar.gz SOURCE ä¸è§£åŽ‹ç¼©æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨ -tï¼š tar -jtvf SOUTCE.tar.bz2 tar -ztvf SOURCE.tar.gz è§£åŽ‹ç¼© -xï¼š tar -jxvf SOURCE.tar.bz2 tar -zxvf SOURCE.tar.gz]]></content>
      <categories>
        <category>os</category>
      </categories>
      <tags>
        <tag>Linuxå®žç”¨å‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdownå¥‡æ·«æŠ€å·§]]></title>
    <url>%2Fcargo%2F20190514-71e.html</url>
    <content type="text"><![CDATA[åŽŸç”Ÿè¡¨æ ¼ä¸­æ’å…¥åŒ…å« | çš„ä»£ç ç”±äºŽmarkdownåŽŸç”Ÿè¡¨æ ¼ä½¿ç”¨â€|â€åˆ†éš”åˆ—ï¼Œåœ¨è¡¨æ ¼ä¸­ç›´æŽ¥è¾“å…¥â€|â€ä¼šä½¿è¡¨æ ¼ç»“æž„è§£æžé”™è¯¯ã€‚ ä¸‹é¢è¿™ç§å†™æ³•å¯ä»¥ä½¿è¡¨æ ¼æ­£å¸¸è§£æžï¼š æ ·å¼ ä»£ç  A &#124; B &lt;code&gt;A &amp;#124; B&lt;/code&gt;]]></content>
      <categories>
        <category>cargo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Ræ¨¡åž‹å…¬å¼]]></title>
    <url>%2FR%2F20190514-95ad.html</url>
    <content type="text"><![CDATA[åœ¨è¿›è¡Œ æ–¹å·®åˆ†æžï¼ˆANOVAï¼‰æˆ–è€… å›žå½’åˆ†æž æ—¶æˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ° ~ æ“ä½œç¬¦ï¼Œè¿™å¯¹Ræ–°æ‰‹æ¥è¯´å®žåœ¨æ˜¯éš¾ä»¥ç†è§£ï¼Œé‚æŸ¥æŸ¥æ–‡æ¡£æ•´ç†æ•´ç†ã€‚ 12345aov(formula, data = NULL, projections = FALSE, qr = TRUE, contrasts = NULL, ...)lm(formula, data, subset, weights, na.action, method = "qr", model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, contrasts = NULL, offset, ...)glm(formula, family = gaussian, data, weights, subset, na.action, start = NULL, etastart, mustart, offset, control = list(...), model = TRUE, method = "glm.fit", x = FALSE, y = TRUE, singular.ok = TRUE, contrasts = NULL, ...) Rå‡½æ•°ä¾‹å¦‚ aov(), lm(), glm() éƒ½æä¾›äº† formula å‚æ•°ä¾›ç”¨æˆ·å®šä¹‰å°†è¦è¿›è¡Œçš„åˆ†æžä¸­æ¶‰åŠåˆ°çš„å˜é‡ï¼ˆååº”å˜é‡ã€è§£é‡Šå˜é‡ï¼‰ã€‚è¿™ä¸ª formula å‚æ•°ç›´æŽ¥å†³å®šäº†Ræž„å»ºå’Œæµ‹è¯•çš„æ¨¡åž‹ç»“æž„ã€‚formula å‚æ•°çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š 1response_variable[ååº”å˜é‡] ~ explanatory_variables[è§£é‡Šå˜é‡] ä¸Šå¼ä¸­çš„æ³¢æµªå·ï¼ˆtildeï¼‰å¯ä»¥ç†è§£ä¸ºâ€œé€šè¿‡â€¦â€¦å»ºæ¨¡â€æˆ–è€…â€œæ˜¯â€¦â€¦çš„å‡½æ•°â€ã€‚ ä¸Šå¼çš„æŠ€å·§å¤šåœ¨äºŽï¼Œå¦‚ä½•ä¹¦å†™è§£é‡Šå˜é‡ã€‚ æœ€åŸºç¡€çš„å›žå½’åˆ†æžçš„ formula å‚æ•°æ ¼å¼å¦‚ä¸‹ï¼š 1y ~ x ä¸Šå¼ä¸­çš„â€xâ€ ç§°ä¹‹ä¸º è§£é‡Šå˜é‡ï¼ˆExplanatory Variableï¼‰æˆ–è€… è‡ªå˜é‡ï¼ˆIndependent Variable, IVï¼‰,â€yâ€ç§°ä¹‹ä¸º ååº”å˜é‡ï¼ˆResponse Variableï¼‰æˆ–è€… å› å˜é‡ï¼ˆDependent Variable, DVï¼‰ã€‚ å¦‚æžœè¿˜æœ‰å…¶å®ƒçš„è§£é‡Šå˜é‡æ·»åŠ åˆ°è¡¨è¾¾å¼åŽé¢å³å¯ã€‚ä¸‹å¼è¡¨ç¤ºæž„å»ºä¸¤å˜é‡çš„å¤šå›žå½’æ¨¡åž‹ï¼š 1y ~ x + z ç±»ä¼¼äºŽä¸Šé¢çš„å¼å­æˆ‘ä»¬ç§°ä¹‹ä¸º æ¨¡åž‹å…¬å¼ï¼ˆModel Formulaï¼‰ï¼Œå®ƒå°†ä¼ é€’ç»™ formula å‚æ•°ã€‚ å¦‚ä½•ä¹¦å†™æ­£ç¡®ä¼˜é›…çš„æ¨¡åž‹å…¬å¼æ˜¯ä¸€ä»¶å¾ˆæœ‰æ„æ€çš„äº‹æƒ…â€¦â€¦ å°¤å…¶æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨å…¶å®ƒåœ°æ–¹ä½¿ç”¨çš„æ•°å­¦è¿ç®—ç¬¦ï¼ˆä¾‹å¦‚å››åˆ™è¿ç®—ç¬¦ï¼‰åœ¨æ¨¡åž‹å…¬å¼é‡Œéƒ½æœ‰æ–°çš„å«ä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½åƒè¯»ä¸€èˆ¬æ•°å­¦å…¬å¼é‚£æ ·åŽ»é˜…è¯»æ¨¡åž‹å…¬å¼ã€‚ ä¸‹é¢è¿™å¼ è¡¨åˆ—å‡ºäº†æ¨¡åž‹å…¬å¼ä¸­å¸¸ç”¨ç¬¦å·çš„æ„ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°æ„Ÿå—åˆ°å®ƒä»¬ä¸Žä¸€èˆ¬æ„ä¹‰åœ°æ˜¾è‘—å·®åˆ«ï¼š ç¬¦å· ä¾‹å­ å«ä¹‰ + + x åŒ…å«äº†è§£é‡Šå˜é‡x - - x åˆ é™¤è§£é‡Šå˜é‡xï¼ˆæ²¡å¤ªç†è§£ï¼‰ : x : z åŒ…å«äº†è§£é‡Šå˜é‡xå’Œzé—´çš„äº’ä½œ * x * z åŒ…å«äº†è§£é‡Šå˜é‡xå’Œzï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„äº’ä½œ / x / z åµŒå¥—ï¼šåŒ…å«äº†åµŒå¥—åœ¨xä¸­çš„z &#124; x &#124; z æ¡ä»¶ï¼šåŒ…å«äº†ç»™å®šzæ—¶çš„x ^ (u + v + w + z) ^ 3 åŒ…å«äº†å››ä¸ªå˜é‡ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´æœ€å¤šä¸‰ä¸ªå˜é‡é—´çš„äº’ä½œ poly poly(x, 3) å¤šé¡¹å¼å›žå½’ï¼šæ­£äº¤å¤šé¡¹å¼ Error Error(a/b) æŒ‡å®šè¯¯å·®é¡¹ I I(x*z) I() ä¸­çš„è¡¨è¾¾å¼ä¿ç•™ä¸€èˆ¬çš„æ•°å­¦æ„ä¹‰ï¼Œè¡¨ç¤ºåŒ…å«äº†xä¹˜ä»¥zè¿™ä¸ªæ–°å˜é‡ 1 (æ•°å­—) - 1 æˆªè·ï¼šåˆ é™¤æˆªè·ï¼Œå³é€šè¿‡åŽŸç‚¹å›žå½’ åŒä¸€ä¸ªæ¨¡åž‹å¯ä»¥é€šè¿‡ä¸åŒçš„å…¬å¼è¡¨è¾¾ï¼š 123456789# model 1y ~ u + v + w + u:v + u:w + v:w + u:v:wy ~ u * v * wy ~ (u + v + w)^3# model 2y ~ u + v + w + u:v + v:w + v:wy ~ u * v * w - u:v:wy ~ (u + v + w)^2 è§£é‡Šå˜é‡çš„å±žæ€§ï¼ˆä¾‹å¦‚äºŒå€¼å˜é‡ã€åˆ†ç±»å˜é‡ã€æ•°å€¼å˜é‡â€¦â€¦ï¼‰å†³å®šäº†æ¨¡åž‹çš„ç‰¹æ€§ï¼Œä¾‹å¦‚å¯¹å…¬å¼ y ~ x + zï¼š å¦‚æžœxå’Œyæ˜¯ä¸¤ä¸ªåˆ†ç±»å˜é‡ï¼Œè¯¥å…¬å¼è¡¨ç¤ºæ–¹å·®åˆ†æž[?] å¦‚æžœxå’Œyæ˜¯ä¸¤ä¸ªæ•°å€¼å˜é‡ï¼Œè¯¥å…¬å¼è¡¨ç¤ºå¤šå›žå½’[?] å¦‚æžœä¸€ä¸ªæ˜¯æ•°å€¼å˜é‡ä¸€ä¸ªæ˜¯åˆ†ç±»å˜é‡ï¼Œåˆ™è¡¨ç¤ºç›¸å…³æ€§åˆ†æž[?] å…³äºŽ Error() çš„ä¸€ç‚¹è§è§£ ç•¥]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Bassetï¼šCNNå­¦ä¹ æ–°çš„æŸ“è‰²ä½“å¼€æ”¾ä½ç‚¹]]></title>
    <url>%2Fbioinfo%2F20190423-1702.html</url>
    <content type="text"><![CDATA[å°è¯•ç€å°†ç¥žç»ç½‘ç»œçš„å…ƒä»¶ä¸Žç”Ÿç‰©å­¦æ„ä¹‰è”ç³»èµ·æ¥ã€‚å¤§èƒ†å‡è®¾ï¼Œå°å¿ƒæ±‚è¯ï¼ PMC | Genome Res. | GitHub æ•°æ®ä¸‹è½½ä»ŽENCODE Project Consortiumä¸‹è½½125ç§ç»†èƒžç±»åž‹çš„æ•°æ®ã€‚ä»ŽRoadmap Epigenomics Consortiumä¸‹è½½39ç§ç»†èƒžç±»åž‹çš„æ•°æ®ã€‚æ•°æ®å½¢å¼ä¸ºDNase-seqçš„peakä¿¡æ¯ï¼Œä¿å­˜åœ¨BEDæ ¼å¼çš„æ–‡ä»¶ä¸­ã€‚ä½¿ç”¨æœªåŽ»é‡å ï¼ˆoverlapï¼‰çš„peakæ•°æ®ã€‚ é¢„å¤„ç† ä»¥1%çš„FDRä½¿ç”¨æ¨¡æ‹Ÿæ–¹æ³•ä¿®æ”¹åŽŸå§‹æ•°æ®é›†â€”â€”robustness å½’å¹¶é‡å çš„peakså…± $2,071,886$ ä¸ªå³°ï¼Œæ¯”å¯¹åˆ°hg19å‚è€ƒåŸºå› ç»„ æ ‡å‡†è¾“å…¥ä¸ºæ¯ä¸ªä½ç‚¹600bpçš„DNAåºåˆ—é•¿åº¦ æ ‡å‡†æ ‡ç­¾ä¸ºä¸€ä¸ª164ç»´çš„äºŒå€¼å‘é‡ï¼Œè¯¥å‘é‡è¡¨ç¤ºè¿™ä¸ªå³°ï¼ˆä½ç‚¹ï¼‰åœ¨164ç§ç»†èƒžç±»åž‹ä¸­çš„å¼€æ”¾æƒ…å†µï¼ˆ1ä¸ºå¼€æ”¾ï¼Œ0ä¸ºä¸å¼€æ”¾ï¼‰ å°†æ•°æ®é›†åˆ‡åˆ†ä¸ºè®­ç»ƒé›†ã€æµ‹è¯•é›†å’ŒéªŒè¯é›† training dataï¼šè®­ç»ƒæ¨¡åž‹å‚æ•° testing dataï¼šè®¡ç®—åºåˆ—ç‰¹å¼‚æ€§å‚æ•° validation dataï¼šç”¨äºŽearly stopping åº”æ¨¡åž‹åŽç»­åˆ†æžéœ€è¦ï¼Œä½¿ç”¨GENOME v18 reference catalogå°†ä½ç‚¹åˆ†ä¸ºpromoterï¼ˆè½¬å½•èµ·å§‹ä½ç‚¹å‘¨å›´2kbåŒºåŸŸï¼‰ã€intragenicï¼ˆä¸ŽåŸºå› åŒºåŸŸå‘ç”Ÿé‡å ï¼‰ã€intergenicï¼ˆä½äºŽåŸºå› é—´åŒºåŸŸå†…ï¼‰ä¸‰ç±» æ¨¡åž‹è®­ç»ƒæ¨¡åž‹å’Œæµ‹è¯•æ¨¡åž‹çš„ç”¨é€”æœ‰ç»†å¾®å·®åˆ«ã€‚ è®­ç»ƒè®­ç»ƒæ¨¡åž‹æ˜¯ä¸€ä¸ª3CNN+2FCçš„ç®€å•ç¥žç»ç½‘ç»œï¼Œæ­¤é¡¹ç›®çš„äº®ç‚¹ä¸åœ¨ç¥žç»ç½‘ç»œçš„è®¾è®¡ï¼Œè€Œåœ¨äºŽå°†ç¥žç»ç½‘ç»œçš„å…ƒä»¶ä¸Žç”Ÿç‰©å­¦æ„ä¹‰ç»“åˆèµ·æ¥ï¼Œè¿™ä¹Ÿæ˜¯ä»¥å¾€é¡¹ç›®ä¸­æˆ‘æ‰€æƒ³ä¸é€çš„åœ°æ–¹ã€‚è®­ç»ƒç½‘ç»œå¦‚ä¸‹ï¼š æ¨¡åž‹çš„è¾“å…¥æ˜¯ä¸€ä¸ªone-hotç¼–ç çš„ $4 \times 600$ çš„åºåˆ—ï¼ˆä¸Žå¤„ç†ä¸­å·²ç»å°†æ‰€æœ‰ä½ç‚¹çš„åºåˆ—é•¿åº¦æˆªå–åˆ°äº†600bpï¼‰ã€‚ the first CNNæ˜¯æœ¬æ¨¡åž‹çš„é‡ç‚¹ï¼Œå®ƒåŒ…æ‹¬äº†ä¸€ä¸ªå·ç§¯å±‚ã€ä¸€ä¸ªæ¿€æ´»å±‚å’Œä¸€ä¸ªæ± åŒ–å±‚ã€‚ å·ç§¯å±‚ä½¿ç”¨çš„æ˜¯300ä¸ª $4 \times M$ çš„ä¸€ç»´å·ç§¯æ ¸ï¼ˆfilterï¼Œæ»¤æ³¢å™¨ï¼‰ï¼Œå…¶ä¸­ $M$ é•¿åº¦è·Ÿmotifé•¿åº¦ç›¸å½“ï¼ˆè¿™é‡Œå–19bï¼‰ã€‚ä½œè€…åœ¨è¿™é‡Œç»™æ¯ä¸ªfilterèµ‹äºˆäº†ç”Ÿå‘½åŠ›ï¼Œè®¤ä¸ºå®ƒä»¬ä¸ä»…æ˜¯ä¸€ç§ç½‘ç»œå…ƒä»¶ã€‚å› ä¸ºæ¯ä¸ªå·ç§¯æ ¸æ˜¯åŸºäºŽæ‰€æœ‰åºåˆ—ä¼˜åŒ–å¾—æ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºå·ç§¯æ ¸ä»£è¡¨äº†æ‰€æœ‰åºåˆ—å…±æœ‰çš„ä¸€ç§ä¿¡æ¯ï¼Œå³æ¨¡å¼ã€‚è¿™æ˜¯ç¬¦åˆæ€è€ƒé€»è¾‘çš„ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæ¯ä¸ªå·ç§¯æ ¸å¯èƒ½ä»£è¡¨äº†ä¸€ç§motifï¼Œè¿™ä¸ªmotifå…·ä½“çš„ç”Ÿç‰©å­¦æ„ä¹‰æœªçŸ¥ã€‚æ­¤é¡¹ç›®è¯•å›¾ä»Žè›‹ç™½è´¨ç»“åˆmotifå‡ºå‘åŽ»éªŒè¯å·ç§¯æ ¸ä¸­æ˜¯å¦å­˜åœ¨ç›¸åº”çš„ç»“æž„ä¸Žä¹‹å¯¹åº”ã€‚ è¿™æ˜¯ä¸€ç§ä¸é”™çš„å‡è®¾-éªŒè¯æ€æƒ³ã€‚ æ¨¡åž‹çš„æœ€åŽä¸€å±‚ä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªå…¨è¿žæŽ¥å±‚çš„è¾“å‡ºæ˜¯164ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«ä»£è¡¨äº†è¯¥600bpçš„åºåˆ—åœ¨164ç§ç±»åž‹ç»†èƒžç§çš„å¼€æ”¾æƒ…å†µã€‚å‚è€ƒæ ‡å‡†æ ‡ç­¾è®¡ç®—binary lossè¿›è¡Œå‚æ•°ä¼˜åŒ–ã€‚ æµ‹è¯•æµ‹è¯•é˜¶æ®µä½œè€…åšäº†å¾ˆæœ‰æ„æ€çš„äº‹æƒ…ã€‚ ä¸ºäº†è®¡ç®—å·ç§¯æ ¸ï¼ˆmotifï¼‰å¯¹ï¼ˆé¢„æµ‹çš„ï¼‰å¼€æ”¾æ€§æ‰“åˆ†ç»“æžœçš„å½±å“ç¨‹åº¦ï¼Œå°†ç¬¬ä¸€CNNçš„è¾“å‡ºç»“æžœï¼ˆæ¯ä¸ªå·ç§¯æ ¸ä¼šå°† $4 \times 600$ çš„åºåˆ—è½¬åŒ–ä¸ºï¼ˆ600-19+1ï¼‰ç»´çš„å‘é‡ï¼‰å…¨éƒ¨ç”¨å…¶å¹³å‡å€¼æ›¿æ¢ï¼Œè¿™å°†æ¶ˆé™¤å·ç§¯æ ¸çš„ç‰¹å¼‚æ€§å½±å“ã€‚ç”¨æ›¿æ¢ç»“æžœè¿›è¡ŒåŽç»­è®¡ç®—ï¼Œå°†è®¡ç®—ç»“æžœä¸Žæœªç»æ›¿æ¢çš„é¢„æµ‹ç»“æžœè¿›è¡Œæ¯”è¾ƒã€‚è®¡ç®—å·®å¼‚çš„å¹³æ–¹å’Œï¼Œè¿™ä¸ªå€¼ä½œä¸ºè¯¥å·ç§¯æ ¸çš„influenceå€¼ã€‚ ICï¼ˆInformation Contentï¼‰å€¼å¾—åŽŸæ–‡è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š$$\mathrm{IC} = \sum_{i,j}{m_{ij}\log_2 m_{ij}} - \sum_{i,j}{ b_j \log_{2}b_{j}}$$å†™æˆè¿™æ ·ä¼¼ä¹Žæ›´æ¸…æ¥šç‚¹ï¼š$$\mathrm{IC} = \sum_{i=1}^{19} \sum_{j=1}^4 m_i^{(j)} \log_2 m_i^{(j)} - 19\sum_{j=1}^4 b^{(j)} \log_2 b^{(j)}$$ å…¶ä¸­å‘é‡ $b$ æ˜¯å››ä¸ªç¢±åŸºåˆ†å¸ƒçš„èƒŒæ™¯å€¼ï¼Œå‘é‡ $m\;(4 \times 19)$ æ˜¯motifå„ä¸ªä½ç½®çš„ç¢±åŸºæ¦‚çŽ‡åˆ†å¸ƒï¼Œç­‰æ•ˆäºŽä¸€ä¸ªå·ç§¯æ ¸ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œé™¤äº†å¯¹å·ç§¯æ ¸è¿›è¡Œä¸Šè¿°æ“ä½œè®¡ç®—ICå€¼influenceå€¼ï¼Œä½œè€…è¿˜ç›´æŽ¥ä»Žæ•°æ®åº“ä¸­ï¼ˆCIS-BPæ•°æ®åº“ï¼‰ä¸‹è½½å·²çŸ¥çš„è›‹ç™½è´¨motifä»£æ›¿å·ç§¯æ ¸è¿›è¡Œè®¡ç®—ï¼Œæœ€åŽä¸€åŒè¿›è¡Œæ¯”è¾ƒåˆ†æžã€‚]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
      <tags>
        <tag>æ·±åº¦å­¦ä¹ </tag>
        <tag>å·ç§¯ç¥žç»ç½‘ç»œ</tag>
        <tag>åŸºå› ç»„å¼€æ”¾ä½ç‚¹</tag>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡‡æ ·5 - M-Hé‡‡æ ·è§£å†³æŽ¥å—çŽ‡Î±è¿‡å°çš„é—®é¢˜]]></title>
    <url>%2Fstat%2F20190422-551c.html</url>
    <content type="text"><![CDATA[M-Hé‡‡æ · æ˜¯ Metropolis-Hastingsé‡‡æ · çš„ç®€ç§°ï¼Œè¿™ä¸ªç®—æ³•é¦–å…ˆç”±Metropolisæå‡ºï¼Œè¢«Hastingsæ”¹è¿›ï¼Œå› æ­¤è¢«ç§°ä¹‹ä¸ºMetropolis-Hastingsé‡‡æ ·æˆ–M-Hé‡‡æ ·ã€‚ M-Hé‡‡æ ·è§£å†³äº†åŽŸå§‹MCMCé‡‡æ ·ä¸­æŽ¥å—çŽ‡è¿‡å°çš„é—®é¢˜ã€‚ å¯¹äºŽç»†è‡´å¹³ç¨³æ¡ä»¶$$\pi_i Q_{ij} \alpha_{ij} = \pi_j Q_{ji} \alpha_{ji}$$æ—¢ç„¶ $\alpha_{ij}â€‹$ å¤ªå°ï¼Œæˆ‘ä»¬å°±æŠŠå®ƒæ‰©å¤§åˆ°1ï¼Œå¤šä¹ˆç®€å•ç²—æš´ï¼š$$\alpha(i, j)=\min \left \lbrace \frac{\pi(j) Q(j, i)}{\pi(i) Q(i, j)},\; 1 \right \rbrace$$M-Hé‡‡æ ·è¿‡ç¨‹å¦‚ä¸‹ï¼š å·²çŸ¥å¹³ç¨³åˆ†å¸ƒ $\pi(x)â€‹$ï¼Œé¢„è®¾çŠ¶æ€è½¬ç§»æ¬¡æ•°é˜ˆå€¼ $nâ€‹$ å’Œé‡‡æ ·æ ·æœ¬æ•° $mâ€‹$ï¼Œé€‰å®šä»»æ„çš„æŸä¸ªé©¬æ°é“¾å¯¹åº”çš„çŠ¶æ€è½¬ç§»çŸ©é˜µ $Q(i,\;j)â€‹$ ä»Žä»»æ„ç®€å•æ¦‚çŽ‡é‡‡æ ·å¾— $x_0$ ä»Ž $t=1$ åˆ° $t=n+m-1$ å¾ªçŽ¯é‡‡æ ·ï¼š ä»Ž $q(x|x_{t-1})$ ä¸­é‡‡æ ·å¾—åˆ°çŠ¶æ€ $\ast$ çš„é‡‡æ ·å€¼ $x^\ast$ ä»Žå‡åŒ€åˆ†å¸ƒä¸­é‡‡æ ·å¾—åˆ° $u \sim uniform(0,\;1)$ å¦‚æžœ $u \lt \alpha(t-1,\;\ast)=\min \left \lbrace \frac{\pi(\ast) Q(\ast, \;t-1)}{\pi(t-1) Q(t-1,\;\ast)},\; 1 \right \rbrace$ ï¼Œåˆ™æŽ¥å—é‡‡æ ·å€¼ $x^\ast$ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æŽ¥å—äº†çŠ¶æ€ $t-1$ åˆ°çŠ¶æ€ $\ast$ çš„è½¬ç§»ï¼Œå³ $x_t=x^\ast$ï¼›å¦åˆ™æ‹’ç»è½¬ç§»ï¼Œå³ $x_t=x_{t-1}$ $\left \lbrace x_n,\; x_{n+1},\; \cdots,\; x_{n+m-1} \right \rbrace$ å³ä¸ºå¹³ç¨³åˆ†å¸ƒå¯¹åº”çš„é‡‡æ ·é›† ä¸€èˆ¬å¼ºåŒ–å…ˆéªŒçŸ¥è¯†æœ‰åŠ©äºŽç®€åŒ–è®¡ç®—ã€‚å¦‚æžœæˆ‘ä»¬é¢„è®¾çš„ $Qâ€‹$ æ˜¯å¯¹ç§°çŸ©é˜µï¼Œå³ $Q(i,\;j)=Q(j,\;i)â€‹$ï¼Œé‚£ä¹ˆæ­¤æ—¶ $\alphaâ€‹$ å¯ä»¥ç®€åŒ–ä¸º$$\alpha(i,\;j) = \min \left \lbrace \frac{\pi_j}{\pi_i},\; 1 \right \rbrace$$å°½ç®¡M-Hé‡‡æ ·è§£å†³äº†[åŽŸå§‹MCMMCé‡‡æ ·][]è¿‡å°çš„é—®é¢˜ï¼Œå®ƒè¿˜æ˜¯æœ‰å¾ˆå¤šç¼ºé™·ï¼Œç‰¹åˆ«æ˜¯åœ¨ç‰¹å¾ç»´åº¦å¾ˆå¤§æ—¶ï¼š æŽ¥å—æ¦‚çŽ‡ $\alpha$ éš¾ä»¥è®¡ç®—ï¼Œæˆ–è¿›è¡Œäº†è®¸å¤šçš„æ— ç”¨è®¡ç®—ï¼ˆæ‹’ç»é‡‡æ ·ï¼‰ï¼› è”åˆåˆ†å¸ƒéš¾ä»¥è®¡ç®—ï¼Œç›¸æ¯”ä¹‹ä¸‹æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒè®¡ç®—æ›´å®¹æ˜“ Gibbsé‡‡æ ·è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é‡‡æ ·4 - ç»†è‡´å¹³ç¨³æ¡ä»¶å’ŒMCMCé‡‡æ ·]]></title>
    <url>%2Fstat%2F20190417-ea8c.html</url>
    <content type="text"><![CDATA[ç»†è‡´å¹³ç¨³æ¡ä»¶&gt; ç»†è‡´å¹³ç¨³æ¡ä»¶ï¼ˆDetailed Banlance Conditionï¼‰ å½“ä¸€ä¸ªç³»ç»Ÿå¾®è§‚ä¸Šè¾¾åˆ°å¹³è¡¡æ—¶æ»¡è¶³ ç»†è‡´å¹³ç¨³æ¡ä»¶ï¼š$\pi_iâ€‹$ è¡¨ç¤ºç³»ç»Ÿå¤„äºŽçŠ¶æ€ $iâ€‹$ çš„æ¦‚çŽ‡ï¼Œ$P_{i{\to}j}â€‹$ è¡¨ç¤ºç³»ç»Ÿä»ŽçŠ¶æ€ $iâ€‹$ è½¬ç§»åˆ°çŠ¶æ€ $jâ€‹$ çš„æ¦‚çŽ‡ï¼Œä¸€ä¸ªååº”ï¼ˆè½¬ç§»ï¼‰åº”è¯¥ä¸Žå®ƒçš„é€†ååº”ï¼ˆé€†è½¬ç§»ï¼‰è¾¾åˆ°å¹³è¡¡ï¼Œå³$$\pi_i P_{i \to j} = \pi_j P_{j \to i} \tag{1}$$ç»†è‡´å¹³ç¨³æ¡ä»¶ æ˜¯ Ludwig Boltzmann äºŽ1872å¹´æå‡ºæ¥çš„ã€‚ &gt; é©¬å°”å¯å¤«é“¾å…·æœ‰å¹³ç¨³åˆ†å¸ƒçš„å……åˆ†æ¡ä»¶ å‡è®¾é©¬å°”å¯å¤«é“¾çš„çŠ¶æ€åˆ†å¸ƒä¸º $\pi$ï¼ŒçŠ¶æ€è½¬ç§»çŸ©é˜µä¸º $P$ï¼Œå¦‚æžœå­˜åœ¨æŸä¸€ä¸ªæ—¶é—´èŠ‚ç‚¹ä½¿å¾—å¯¹äºŽä»»æ„çš„çŠ¶æ€ $i$ å’Œ $j$ æœ‰$$\pi_i P_{ij} = \pi_j P_{ji} \tag{2}$$ä¸Šè¿°ç»†è‡´å¹³ç¨³æ¡ä»¶æˆç«‹ï¼Œåˆ™è¯¥é©¬å°”å¯å¤«é“¾å…·æœ‰å¹³ç¨³åˆ†å¸ƒ $\pi$ï¼ˆStationary Distributionï¼‰ã€‚ ç»†è‡´å¹³ç¨³æ¡ä»¶æ˜¯é©¬æ°é“¾æ”¶æ•›çš„å……åˆ†æ¡ä»¶ï¼Œè€Œä¸æ˜¯å¿…è¦æ¡ä»¶ã€‚ å……åˆ†æ€§è¯æ˜Žï¼š å› ä¸º $\sum_i \pi_i P_{ij} = \sum_i \pi_j P_{ji} = \pi_j \sum_i P_{ji} = \pi_j$ æ‰€ä»¥ $ \sum_i \pi_i P_{ij} = \pi P = \pi $ ä»…åœ¨äºŒçŠ¶æ€ç³»ç»Ÿä¸‹ï¼Œç»†è‡´å¹³ç¨³æ¡ä»¶ä¹Ÿæ˜¯é©¬æ°é“¾æ”¶æ•›çš„å¿…è¦æ¡ä»¶ï¼Œå³å……è¦æ¡ä»¶ã€‚ &gt; ä»Žç›®æ ‡å¹³ç¨³åˆ†å¸ƒ $\pi(x)$ å‡ºå‘å¯»æ‰¾è½¬ç§»çŸ©é˜µ $P$ å‡è®¾ç›®æ ‡å¹³ç¨³åˆ†å¸ƒ $\pi(x)$ å·²çŸ¥ï¼Œæ ¹æ®ç»†è‡´å¹³ç¨³æ¡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç¡®å®šä¸€ä¸ªçŸ©é˜µ $P$ ä½œä¸ºç›¸åº”çš„çŠ¶æ€è½¬ç§»æ¦‚çŽ‡çŸ©é˜µï¼Œå°±èƒ½ç¡®å®šè¿™æ ·ä¸€ä¸ªé©¬å°”å¯å¤«é“¾ï¼šè½¬ç§»çŸ©é˜µä¸º $P$ï¼Œå¹³ç¨³åˆ†å¸ƒä¸º $\pi(x)$ã€‚ ä½†æ˜¯ï¼ŒçŸ©é˜µ $P$ çš„ç¡®å®šå¹¶ä¸æ˜¯ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹æƒ…ï¼ŒMCMCé‡‡æ ·ç®—æ³•å¾ˆå·§å¦™çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ MCMCé‡‡æ ·&gt; é©¬å°”å¯å¤«è’™ç‰¹å¡æ´›é‡‡æ ·ï¼ˆMarkov Chain Monte Carloï¼ŒMCMCï¼‰çš„åŸºæœ¬æ€æƒ³ æˆ‘ä»¬éšæœºç¡®å®šä¸€ä¸ªé©¬å°”å¯å¤«é“¾çš„çŠ¶æ€è½¬ç§»çŸ©é˜µ $Q$ï¼Œå®ƒå¹¶ä¸æ»¡è¶³ç»†è‡´å¹³è¡¡æ¡ä»¶ï¼Œå³$$\pi_i Q_{ij} \ne \pi_j Q_{ji} \tag{3}$$ä¸ºäº†ä½¿ç­‰å¼æˆç«‹ï¼Œå¼•å…¥éžé›¶ $\alpha_{ij}$ é¡¹ï¼Œå³$$\pi_i Q_{ij} \alpha_{ij} = \pi_j Q_{ji} \alpha_{ji} \tag{4}$$å–$$\begin{cases}\alpha_{ij} &amp;= \pi_j Q_{ji} \\alpha_{ji} &amp;= \pi_i Q_{ij}\end{cases} \tag{5}$$æ­¤æ—¶ç›®æ ‡å¹³ç¨³åˆ†å¸ƒ $\pi(x)$ å¯¹åº”çš„é©¬æ°é“¾çš„çŠ¶æ€è½¬ç§»æ¦‚çŽ‡çŸ©é˜µ $P$ å¯è¡¨ç¤ºä¸º$$P_{ij} = Q_{ij} \alpha_{ij} \tag{6}$$ç”±(5)å¼å¯çŸ¥ï¼Œ$0 \le \alpha_{ij}^{(k)} \le 1$ï¼Œå¯¹äºŽç‰¹å®šçš„ $Q_{ij}$ï¼Œ$\alpha_{ij}$ è¶Šå°ï¼Œåˆ™ç›¸åº”çš„ $P_{ij}$ è¶Šå°ï¼šè¿™å¯ä»¥è§£é‡Šä¸º $\alpha_{ij}$ æ˜¯å¯¹ $Q_{ij}$ çš„æŽ¥å—çŽ‡ï¼Œç›®æ ‡çŠ¶æ€è½¬ç§»çŸ©é˜µ $P$ å¯ä»¥é€šè¿‡ä»»æ„ä¸€ä¸ªé©¬å°”å¯å¤«é“¾çš„çŠ¶æ€è½¬ç§»çŸ©é˜µ $Q$ ä»¥ä¸€å®šæ¦‚çŽ‡ $\alpha$ æŽ¥å—èŽ·å¾—ã€‚ &gt; MCMCé‡‡æ ·ç®—æ³•è¿‡ç¨‹ åˆå§‹åŒ–çŠ¶æ€åˆ†å¸ƒ $\pi_0$ å¹¶é‡‡æ · $x_0$ å¾ªçŽ¯é‡‡æ ·ç›´åˆ°èŽ·å¾— $m$ ä¸ªæ ·æœ¬ï¼š $t$ æ—¶åˆ»é©¬æ°é“¾çš„çŠ¶æ€åˆ†å¸ƒä¸º $\pi_t$ï¼ˆæœªçŸ¥ï¼Œæˆ‘ä»¬ä¹Ÿä¸å…³ç³»çº¯å‘é‡çš„å€¼ï¼‰ï¼Œä»Ž $Q(x|x_t)$ é‡‡æ ·å¾—æ ·æœ¬ $x^*$ ä»Žå‡åŒ€åˆ†å¸ƒä¸­é‡‡æ · $u \sim uniform(0,\;1)â€‹$ å¦‚æžœ $u &lt; \alpha_{x_t \to x^} = \pi_(x^)Q(x^,\;x_t)$ åˆ™æŽ¥å—è½¬ç§» $x_t \to x^$ï¼Œå³ $x_{t+1}=x^*$ï¼›å¦åˆ™ä¸æŽ¥å—è½¬ç§»ï¼Œå³ $x_{t+1}=x_t$ èˆå¼ƒç¬¬ $0$ åˆ°ç¬¬ $n-1$ å…± $n$ ä¸ªæ ·æœ¬ï¼Œä¿ç•™ç¬¬ $n$ åˆ°ç¬¬ $n+m-1$ å…± $m$ ä¸ªæ ·æœ¬ä½œä¸ºé‡‡æ ·æ ·æœ¬ ä¸Šé¢çš„ $\alpha_{ij}$ å®žé™…ä¸Šå¾ˆå°ï¼Œè¿™å¯¼è‡´å¤§éƒ¨åˆ†é‡‡æ ·éƒ½ä¼šè¢«æ‹’ç»ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„ $n$ è¦é¢„è®¾çš„éžå¸¸å¤§ã€‚ åŸºäºŽè¿™ä¸ªå›°å¢ƒï¼ŒM-Hé‡‡æ · å¯¹ MCMCé‡‡æ · è¿›è¡Œäº†ä¼˜åŒ–ã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>é‡‡æ ·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡‡æ ·3 - ç¦»æ•£é©¬å°”å¯å¤«é“¾é‡‡æ ·]]></title>
    <url>%2Fstat%2F20190416-1f84.html</url>
    <content type="text"><![CDATA[å¦‚æžœæˆ‘ä»¬çš„ç›®æ ‡åˆ†å¸ƒæ˜¯ç®€å•ã€ç¦»æ•£çš„åˆ†å¸ƒï¼Œè¿™ä¸ªç›®æ ‡åˆ†å¸ƒå¯ä»¥å½“ä½œæŸä¸ªé©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒï¼Œè¿™ä¸ªå¹³ç¨³åˆ†å¸ƒå¯¹åº”ç€ä¸€ä¸ªçŠ¶æ€è½¬ç§»çŸ©é˜µã€‚å¦‚æžœè¿™ä¸ªçŠ¶æ€è½¬ç§»çŸ©é˜µå·²çŸ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ååˆ†å®¹æ˜“çš„å¾—åˆ°ç›®æ ‡åˆ†å¸ƒçš„é‡‡æ ·é›†ã€‚ ç¦»æ•£é©¬å°”å¯å¤«é“¾é‡‡æ ·åªæ˜¯ç†è®ºåŸºç¡€ï¼Œå®žç”¨ä»·å€¼ä¸å¤§ã€‚ é‡‡æ ·ä¸‹é¢ç›´æŽ¥ä»¥ä¾‹å­è¯´æ˜Žé‡‡æ ·è¿‡ç¨‹ï¼š å‡è®¾ä¸€ä¸ªè´¨é‡åˆ†å¸ƒä¸å‡åŒ€çš„å…­é¢éª°å­æŽ·å‡ºå…­ä¸ªç‚¹æ•°çš„æ¦‚çŽ‡æœä»Žä¸€ä¸ªç®€å•ã€ç¦»æ•£çš„æ¦‚çŽ‡åˆ†å¸ƒï¼Œè®°ä¸º $\pi(x)$ï¼Œ$x=\lbrace 1\;2\;3\;4\;5\;6 \rbrace$ã€‚ $\pi(x)$ å¯ä»¥é€šè¿‡å¤§é‡ç‹¬ç«‹é‡å¤å®žéªŒç”¨é¢‘çŽ‡è¿›è¡Œä¼°è®¡ï¼Œå¦‚æžœçŸ¥é“äº†çŠ¶æ€è½¬ç§»çŸ©é˜µ $P$ å°±å¯ä»¥å¾ˆå®¹æ˜“çš„è¿›è¡Œé‡‡æ ·ã€‚ å…ˆå‡è®¾è½¬ç§»æ¦‚çŽ‡çŸ©é˜µ $P$ å·²çŸ¥ï¼Œè¿™é‡Œæ¨¡æ‹Ÿä¸€ä¸ªçŠ¶æ€è½¬ç§»çŸ©é˜µä½œä¸ºç¤ºä¾‹ï¼š 12p = np.random.uniform(0, 10, size=36).reshape([6, 6])p = p/p.sum(axis=1).reshape([-1, 1]) $$p = \left[\begin{matrix}0.18206229 &amp; 0.1764297 &amp; 0.23015706 &amp; 0.13247823 &amp; 0.23143627 &amp;0.04743645 \\0.03751516 &amp; 0.33564335 &amp; 0.39400589 &amp; 0.12847041 &amp; 0.07526389 &amp;0.0291013 \\0.12921795 &amp; 0.25957537 &amp; 0.01825006 &amp; 0.32088546 &amp; 0.26899888 &amp;0.00307228 \\0.22883623 &amp; 0.07873173 &amp; 0.23422034 &amp; 0.23744235 &amp; 0.08045652 &amp;0.14031283 \\0.14770889 &amp; 0.20742323 &amp; 0.19634175 &amp; 0.07048638 &amp; 0.16482596 &amp;0.21321379 \\0.07080479 &amp; 0.24460837 &amp; 0.22450135 &amp; 0.21595409 &amp; 0.11542076 &amp;0.12871064\end{matrix}\right]$$&gt; 1. æŒ‡å®šåˆå§‹åˆ†å¸ƒ å› ä¸ºé©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒåªä¸ŽçŠ¶æ€è½¬ç§»çŸ©é˜µç›¸å…³ï¼Œè€Œä¸Žåˆå§‹çŠ¶æ€åˆ†å¸ƒæ— å…³ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»Žä¸€ä¸ªä»Žä»»æ„åˆå§‹åŒ–çŠ¶æ€åˆ†å¸ƒå‡ºå‘è¿›è¡Œé‡‡æ ·ã€‚ 12pi = np.random.uniform(0, 10, size=6)pi = pi / pi.sum() $$\pi_0 = [0.22081522,0.11290264,0.23593329,0.0524546,0.1917839,0.18610888]$$ &gt; 2. æŒ‡å®šè®°å½•é‡‡æ ·å€¼æ—¶çš„çŠ¶æ€è½¬ç§»æ¬¡æ•° $n$ å’Œéœ€è¦è®°å½•çš„é‡‡æ ·æ•° $m$ æ•´ä¸ªé‡‡æ ·è¿‡ç¨‹ä¸­éœ€è¦è¿›è¡Œçš„çŠ¶æ€è½¬ç§»æ¬¡æ•°ä¸º$$N= n+m-1$$å°†è¦è®°å½•ä¸‹çš„é‡‡æ ·å€¼é›†åˆä¸º$$X = \lbrace \underbrace{x_n,\;x_{n+1},\;\cdots,\;x_{n+m-1}}_{\text{å…± $$m é¡¹}} \rbrace$$é‡‡æ ·é›†åˆ $X$ å³ä¸ºå¹³ç¨³åˆ†å¸ƒ $\pi(x)$ å¯¹åº”çš„æ ·æœ¬é›†ã€‚ å®žé™…åº”ç”¨ä¸­ï¼Œ$n$ å‡­ç»éªŒç¡®å®šã€‚ &gt; 3. ä»Žåˆå§‹åˆ†å¸ƒé‡‡æ · ä»Žåˆå§‹åˆ†å¸ƒé‡‡æ ·çš„æ„æ€æ˜¯ï¼šä»Žç®€å•åˆ†å¸ƒï¼ˆä¾‹å¦‚å‡åŒ€åˆ†å¸ƒï¼‰é‡‡æ ·ï¼Œä»¥åˆå§‹åˆ†å¸ƒçš„ç¡®å®šé‡‡æ ·å€¼ï¼ˆå¸¸è§çš„æ–¹æ³•æ˜¯ä»¥åˆå§‹åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ç¡®å®šé‡‡æ ·å€¼ï¼‰ã€‚ è®¡ç®—ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆpythonä¸­è°ƒç”¨ np.cumsum(arr)ï¼‰ï¼š$$F_0 = [0.22081522,0.33371785,0.56965314,0.62210774,0.81389112,1]$$ä»Ž[0,1]å‡åŒ€åˆ†å¸ƒé‡‡æ ·ä¸€æ¬¡ï¼ˆnp.random.uniform(0, 1)ï¼‰å¾— $p_0 = 0.27364499172190815â€‹$ å› ä¸º $F_0^{(1)}&lt;p_0&lt;F_0^{(2)}â€‹$ï¼Œæˆ‘ä»¬è®¤ä¸ºæœ¬æ¬¡é‡‡æ ·å€¼ $x_1=2â€‹$ï¼Œå³æœ¬æ¬¡éª°å­ä¹‹å‡ºæ¥çš„ç‚¹æ•°æ˜¯2ã€‚ &gt; 4. åŸºäºŽ $P(x|x_1)â€‹$ è¿›è¡Œç¬¬äºŒæ¬¡é‡‡æ · $P(x|x_1=2)$ å³ä»ŽçŠ¶æ€è½¬ç§»çŸ©é˜µ $P$ çš„ç¬¬äºŒè¡Œé‡‡æ ·$$P(x|x_1) = [ 0.03751516\;0.33564335\;0.39400589\;0.12847041\;0.07526389\;0.0291013 ]$$ä»Ž[0,1]å‡åŒ€åˆ†å¸ƒé‡‡æ ·ä¸€æ¬¡å¾— $p_1 = 0.23181961317728317$ï¼Œ$x_2=2$ã€‚ &gt; 5. åŸºäºŽ $P(x|x_2)â€‹$ è¿›è¡Œç¬¬ä¸‰æ¬¡é‡‡æ · $P(x|x_2=2)$ å³ä»ŽçŠ¶æ€è½¬ç§»çŸ©é˜µ $P$ çš„ç¬¬äºŒè¡Œé‡‡æ ·$$P(x|x_2) = [ 0.03751516\;0.33564335\;0.39400589\;0.12847041\;0.07526389\;0.0291013 ]$$ä»Ž[0,1]å‡åŒ€åˆ†å¸ƒé‡‡æ ·ä¸€æ¬¡å¾— $p_2= 0.5880393198555685â€‹$ï¼Œ$x_3=3â€‹$ã€‚ &gt; åŸºäºŽ $P(x|x_{n-1})$ è¿›è¡Œç¬¬ $n$ æ¬¡é‡‡æ · $P(x|x_{n-1})$ å³ä»ŽçŠ¶æ€è½¬ç§»çŸ©é˜µ $P$ çš„ç¬¬ $x_{n-1}$ è¡Œé‡‡æ ·ï¼Œå¾—åˆ°ç¬¬ $n$ ä¸ªé‡‡æ ·å€¼ $x_n$ï¼Œè¿™ä¸ªé‡‡æ ·å€¼å°†ä½œä¸ºæˆ‘ä»¬ç¬¬ä¸€ä¸ªç›®æ ‡æ ·æœ¬ã€‚ä¹Ÿå°±æ˜¯è¯´å‰é¢çš„ $n-1$ ä¸ªé‡‡æ ·ä¼šè¢«èˆå¼ƒæŽ‰ã€‚ ç»§ç»­é‡‡æ ·ï¼Œç›´åˆ°èŽ·å–ç¬¬ $n+m-1$ ä¸ªé‡‡æ ·å€¼ã€‚ æŒ å¤´Q1 ç”±ä¸ŠçŸ¥æ˜¯ä»ŽçŸ©é˜µ $P$ è€Œä¸æ˜¯æ¯ä¸ªçŠ¶æ€åˆ†å¸ƒ $\pi$ ä¸­é‡‡æ ·ï¼Œå› ä¸ºä¸è®ºçŠ¶æ€è½¬ç§»å¤šå°‘æ¬¡ï¼ŒçŸ©é˜µ $P$ æ€»æ˜¯ä¸å˜çš„ï¼Œä¸ºä»€ä¹ˆä¸ç›´æŽ¥ä»ŽçŸ©é˜µ $P$ ä¸­é‡‡æ ·ï¼Œè€Œæ˜¯ä»Žåˆå§‹åˆ†å¸ƒé‡‡æ ·èˆå¼ƒ $n-1$ ä¸ªæ ·æœ¬ï¼Ÿ è¿™ä¸ªé—®é¢˜çœ‹ä¼¼å¤æ‚ï¼Œå…¶å®žå¾ˆç®€å•ï¼šå› ä¸ºæ€»æ˜¯é€‰å–çŸ©é˜µ $P$ çš„æŸä¸€è¡Œé‡‡æ ·ï¼Œè‡³äºŽè¦é€‰å–å“ªä¸€è¡Œå–å†³äºŽä¸Šä¸€æ¬¡çš„é‡‡æ ·ç»“æžœã€‚é‚£ä¹ˆï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨çŸ©é˜µ $P$ è¿›è¡Œé‡‡æ ·ï¼ˆåŒºåˆ«äºŽç¬¬ä¸€æ¬¡é‡‡æ ·ï¼‰åº”è¯¥é€‰å–å“ªä¸€è¡Œå‘¢ï¼Ÿè¿™æ˜¯ä¸ç¡®å®šçš„ã€‚å› æ­¤ç¬¬ä¸€æ¬¡é‡‡æ ·æˆ‘ä»¬ä»ŽæŒ‡å®šçš„åˆå§‹åˆ†å¸ƒé‡‡æ ·ï¼Œç¬¬äºŒæ¬¡é‡‡æ ·ï¼ˆå³ç¬¬ä¸€æ¬¡ä½¿ç”¨çŸ©é˜µ $P$ è¿›è¡Œé‡‡æ ·ï¼‰åŸºäºŽç¬¬ä¸€æ¬¡é‡‡æ ·ç»“æžœè¿›è¡Œã€‚ Q2 ä¸ºä»€ä¹ˆè¦èˆå¼ƒå‰é¢çš„ $n-1$ ä¸ªé‡‡æ ·å€¼ï¼Ÿ å› ä¸ºåˆå§‹åˆ†å¸ƒæ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ï¼Œè€Œé‡‡æ ·å€¼æœä»Žçš„åˆ†å¸ƒåº”è¯¥æ˜¯å¹³ç¨³åˆ†å¸ƒè€Œä¸æ˜¯åˆå§‹åˆ†å¸ƒæˆ–è€…è¾¾åˆ°å¹³ç¨³åˆ†å¸ƒå‰çš„ä»»ä½•ä¸€ä¸ªåˆ†å¸ƒã€‚ $n$ ä¸€èˆ¬æ˜¯äººä¸ºè®¾å®šçš„é˜ˆå€¼ï¼Œä»£è¡¨ç¬¬ $n$ æ¬¡è½¬ç§»æ—¶å·²ç»è¾¾åˆ°å¹³ç¨³åˆ†å¸ƒï¼Œæ˜¾ç„¶è¿™ä¸æ˜¯ä¸€ä¸ªååˆ†ç²¾ç¡®çš„é˜ˆå€¼ï¼Œä½†æ˜¯åœ¨å®žé™…åº”ç”¨è¿‡ç¨‹ä¸­å½±å“ä¸å¤§ã€‚ çŠ¶æ€çš„åˆ†å¸ƒä¼´éšç€é‡‡æ ·è¿‡ç¨‹è€Œæ”¹å˜ï¼Œè¿™æ˜¯ä¸€ä¸ªéšè—çš„è¿‡ç¨‹ã€‚å½“çŠ¶æ€åˆ†å¸ƒæ”¶æ•›æ—¶çš„é‡‡æ ·å€¼é›†ä¸ºå¹³ç¨³åˆ†å¸ƒçš„é‡‡æ ·å€¼ã€‚ï¼ˆè¿™å¥è¯å¾ˆçŽ„å­¦ï¼Œæš‚æ—¶æ²¡å¤ªç†è§£ï¼ï¼‰ æ€»ç»“ä¸Šé¢çš„é©¬å°”å¯å¤«é“¾é‡‡æ ·çš„åŸºç¡€æ˜¯çŠ¶æ€æ¦‚çŽ‡çŸ©é˜µ $P$ å·²çŸ¥ï¼Œä½†æ˜¯å®žé™…ä¸Š $P$ æ˜¯å¾ˆéš¾æ±‚å‡ºæ¥çš„ï¼Œå³æˆ‘ä»¬çŸ¥é“çš„åªæœ‰å¹³ç¨³åˆ†å¸ƒ $\pi(x)$ã€‚è¿™ä¼¼ä¹Žæ˜¯ä¸€ä¸ªæ­»å¾ªçŽ¯~ MCMCé‡‡æ ·å·§å¦™åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ M-Hé‡‡æ ·å’ŒGibbsé‡‡æ ·æ˜¯MCMCé‡‡æ ·åœ°æ”¹è¿›ç‰ˆã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>é‡‡æ ·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡‡æ ·2 - ç¦»æ•£é©¬å°”å¯å¤«é“¾çš„å‡ ä¸ªæ€§è´¨]]></title>
    <url>%2Fstat%2F20190416-ea6c.html</url>
    <content type="text"><![CDATA[äº’é€šã€å¯çº¦ã€å‘¨æœŸã€å¸¸è¿”ã€éåŽ† çŠ¶æ€é—´çš„äº’é€šæ€§ äº’é€šæ€§çš„ä¸‰ä¸ªæ€§è´¨ï¼š è‡ªè¿”å¾‹ï¼ˆå‡è®¾çŠ¶æ€æœ‰è‡ªçŽ¯ï¼‰ï¼š$\mathbf{i} \leftrightarrow \mathbf{i}â€‹$ å¯¹ç§°å¾‹ï¼š$\mathbf{i} \leftrightarrow \mathbf{j}â€‹$å½“ä¸”ä»…å½“$\mathbf{j} \leftrightarrow \mathbf{i}â€‹$ ä¼ é€’å¾‹ï¼šå¦‚æžœ$\mathbf{i} \leftrightarrow \mathbf{k}$ä¸”$\mathbf{k} \leftrightarrow \mathbf{j}$ï¼Œé‚£ä¹ˆ$\mathbf{i} \leftrightarrow \mathbf{j}$ é“¾çš„å¯çº¦æ€§ä¸å¯çº¦æ€§ï¼šå¦‚æžœä¸€ä¸ªé©¬æ°é“¾çš„ä»»æ„ä¸¤ä¸ªçŠ¶æ€éƒ½äº’é€šï¼Œåˆ™è¿™ä¸ªé©¬æ°é“¾ä¸å¯çº¦ï¼›å¦åˆ™å¯çº¦ã€‚ ä¸å¯çº¦çš„é©¬æ°é“¾ï¼š å¯çº¦çš„é©¬æ°é“¾ï¼š çŠ¶æ€çš„å‘¨æœŸæ€§çŠ¶æ€çš„å‘¨æœŸæ€§æœ‰ä¸ªæŒ å¤´çš„å®šä¹‰ï¼ˆ$from$ å¼ æ³¢ã€Šåº”ç”¨éšæœºè¿‡ç¨‹ã€‹ï¼‰ï¼š è®°$d_i$ä¸ºæ•°é›†$\lbrace{n : n \geq 1, p_{i i}^{(n)}&gt;0}\rbrace$çš„æœ€å¤§å…¬çº¦æ•°ï¼Œåˆ™ç§°å®ƒä¸ºçŠ¶æ€$i$çš„å‘¨æœŸã€‚ è‹¥å¯¹ä¸€åˆ‡$n{\ge}1$æœ‰$p_{i i}^{(n)}=0$ï¼Œåˆ™çº¦å®š$d_{i}=\infty$ã€‚ å½“$d_i&gt;1â€‹$æ—¶ï¼Œç§°$iâ€‹$æ˜¯æœ‰å‘¨æœŸçš„çŠ¶æ€ï¼›å½“$d_i=1â€‹$æ—¶ï¼Œç§°$iâ€‹$æ˜¯éžå‘¨æœŸçš„çŠ¶æ€ã€‚ æ•°é›†$\lbrace{n : n \geq 1, p_{i i}^{(n)}&gt;0}\rbrace$æŒ‡çš„æ˜¯ä»ŽçŠ¶æ€$i$å‡ºå‘å†æ¬¡å›žåˆ°çŠ¶æ€$iâ€‹$çš„æ­¥æ•°çš„é›†åˆã€‚ ä¸Šå›¾çŠ¶æ€1å†æ¬¡å›žåˆ°çŠ¶æ€1çš„æ–¹å¼æœ‰ï¼š $1{\to}1$ï¼šæ­¥æ•°ä¸º1 $1\to2\to1$ï¼šæ­¥æ•°ä¸º2 é‡å¤æ–¹å¼1ï¼Œæˆ–è€…é‡å¤æ–¹å¼2ï¼Œæˆ–è€…æ–¹å¼1å’Œæ–¹å¼2çš„ç»„åˆï¼Œä¾‹å¦‚$1\to1\to1$ï¼Œ$1\to2\to1\to1$ å› æ­¤çŠ¶æ€1å›žåˆ°çŠ¶æ€1çš„æ­¥æ•°é›†åˆæ˜¯{1, 2, 3, 4, 5, â€¦}ï¼Œ$d_i=1$ï¼ŒçŠ¶æ€1æ˜¯éžå‘¨æœŸçš„ï¼› çŠ¶æ€2å›žåˆ°çŠ¶æ€2çš„åŸºæœ¬æ–¹å¼æ˜¯{$2\to1\to2$ï¼š2æ­¥ï¼Œ$2\to1\to1\to2$ï¼š3æ­¥}ï¼Œæ­¥æ•°é›†åˆæ˜¯{2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œâ€¦}ï¼Œæœ€å¤§å…¬çº¦æ•°$d_i=1$ï¼Œå› æ­¤çŠ¶æ€2æ˜¯éžå‘¨æœŸçš„ã€‚ å†çœ‹ä¸‹å›¾ï¼š çŠ¶æ€1è‡ªè¿”çš„åŸºæœ¬æ–¹å¼æ˜¯ï¼š $1\to2\to3\to4\to1$ï¼Œæ­¥æ•°ä¸º4 $1\to5\to6\to7\to8\to9\to1$ï¼Œæ­¥æ•°ä¸º6 çŠ¶æ€1è‡ªè¿”çš„æ­¥æ•°é›†åˆæ˜¯{4ï¼Œ6ï¼Œ8ï¼Œ10ï¼Œâ€¦}ï¼Œæœ€å¤§å…¬çº¦æ•°$d_i=2$ï¼Œæ‰€ä»¥çŠ¶æ€1æ˜¯å‘¨æœŸçš„ã€‚ çŠ¶æ€2ï¼Œ3ï¼Œ4çš„æ­¥æ•°é›†åˆæ˜¯{4ï¼Œ8ï¼Œ10ï¼Œ12ï¼Œ14ï¼Œâ€¦}ï¼Œéƒ½æ˜¯å‘¨æœŸçš„ã€‚ çŠ¶æ€5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9çš„æ­¥æ•°é›†åˆæ˜¯{6ï¼Œ10ï¼Œ12ï¼Œ18ï¼Œâ€¦}ï¼Œéƒ½æ˜¯å‘¨æœŸçš„ã€‚ å¦‚ä½•ç®€å•åˆ¤æ–­ä¸€ä¸ªçŠ¶æ€æ˜¯å‘¨æœŸ/éžå‘¨æœŸçš„ï¼Ÿ å¸¦æœ‰è‡ªçŽ¯çš„çŠ¶æ€ä¸€å®šæ˜¯éžå‘¨æœŸçš„ï¼ˆå› ä¸º$d_i=1$ï¼‰ï¼Œä½†ä¸æ˜¯æ‰€æœ‰éžå‘¨æœŸçš„çŠ¶æ€éƒ½æœ‰è‡ªçŽ¯ï¼Œå¦‚ä¸‹æ¡ ä¸Žéžå‘¨æœŸçŠ¶æ€äº’é€šçš„çŠ¶æ€ä¸€å®šæ˜¯éžå‘¨æœŸçš„ çŠ¶æ€çš„å¸¸è¿”æ€§å¸¸è¿”æ€§å³ï¼šé©¬æ°é“¾ç”±ä¸€ä¸ªçŠ¶æ€å‡ºå‘ä¹‹åŽèƒ½å¦å†æ¬¡å›žå½’åˆ°æœ¬çŠ¶æ€çš„ç‰¹æ€§ã€‚ å¸¸è¿”æ€§åˆ†ä¸ºä¸‰ç§ï¼š æ­£å¸¸è¿”ï¼ˆå¿…å®šä¼šè¿”å›žï¼Œå¹³å‡è¿”å›žæ—¶é—´ä¸ºæœ‰é™å€¼ï¼‰ é›¶å¸¸è¿”ï¼ˆå¿…å®šä¼šè¿”å›žï¼Œå¹³å‡è¿”å›žæ—¶é—´ä¸º $\inftyâ€‹$ ï¼‰ éžå¸¸è¿”ï¼ˆå¯èƒ½ä¸å†è¿”å›žï¼‰ å®šä¹‰ç•¥ ä¸å¯çº¦é©¬æ°é“¾çš„çŠ¶æ€ä¸€è‡´æ€§å®šç†ï¼šä¸å¯çº¦é©¬æ°é“¾çš„çŠ¶æ€é›†å…¨ä¸ºæ­£å¸¸è¿”ï¼Œæˆ–è€…å…¨ä¸ºé›¶å¸¸è¿”ï¼Œæˆ–è€…å…¨ä¸ºéžå¸¸è¿”ï¼Œå¹¶ä¸”æ¯ä¸ªçŠ¶æ€çš„å‘¨æœŸç›¸åŒã€‚ ä¸Šå›¾ä¸å¯çº¦é©¬æ°é“¾ä¸­ï¼š å¦‚æžœ $p&lt;q$ï¼Œé‚£ä¹ˆå…¨ä¸ºæ­£å¸¸è¿”ï¼› å¦‚æžœ $p=q$ï¼Œé‚£ä¹ˆå…¨ä¸ºé›¶å¸¸è¿”ï¼› å¦‚æžœ $p&gt;q$ï¼Œé‚£ä¹ˆå…¨ä¸ºéžå¸¸è¿”ã€‚ çŠ¶æ€/é“¾çš„éåŽ†æ€§å¦‚æžœé½æ¬¡é©¬æ°é“¾ä¸­çš„æŸä¸ªçŠ¶æ€æ˜¯éžå‘¨æœŸã€æ­£å¸¸è¿”çŠ¶æ€ï¼Œç§°è¿™ä¸ªçŠ¶æ€æ˜¯å¯éåŽ†çš„ã€‚ å¦‚æžœé©¬æ°é“¾æ‰€æœ‰çŠ¶æ€å…¨äº’é€šï¼ˆä¸å¯çº¦ï¼‰ã€å¯éåŽ†ï¼ˆéžå‘¨æœŸã€æ­£å¸¸è¿”ï¼‰ï¼Œç§°è¿™ä¸ªé©¬æ°é“¾ä¸ºéåŽ†é“¾ã€‚ éåŽ†é“¾å­˜åœ¨ä¸€ä¸ªå¹³ç¨³åˆ†å¸ƒï¼š å¹³ç¨³åˆ†å¸ƒä¸Žåˆå§‹çŠ¶æ€æ— å…³ å¹³ç¨³åˆ†å¸ƒæ˜¯å”¯ä¸€çš„ å¹³ç¨³åˆ†å¸ƒå…¨éƒ¨å¤§äºŽ0]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>é‡‡æ ·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡‡æ ·1 - é€†å˜æ¢é‡‡æ ·å’Œæ‹’ç»é‡‡æ ·]]></title>
    <url>%2Fstat%2F20190415-a232.html</url>
    <content type="text"><![CDATA[è’™ç‰¹å¡æ´›æ–¹æ³•ï¼ˆMonte Carlo Methodï¼‰å°è¯•åˆ©ç”¨è®¡ç®—æœºæ¨¡æ‹Ÿéšæœºæ•°ï¼ˆä¼ªéšæœºæ•°ï¼‰è§£å†³ä¸€ç±»é—®é¢˜ï¼Œè¿™ç±»é—®é¢˜é€šå¸¸æ˜¯ï¼š1. æ‰€æ±‚è§£çš„é—®é¢˜æœ¬èº«å…·æœ‰å†…åœ¨éšæœºæ€§ï¼Œä¾‹å¦‚ä¸­å­ä¸ŽåŽŸå­æ ¸çš„ç›¸äº’ä½œç”¨å—é‡å­åŠ›å­¦è§„å¾‹çš„åˆ¶çº¦ï¼›2. æ‰€æ±‚è§£é—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºæŸç§éšæœºåˆ†å¸ƒçš„ç‰¹å¾æ•°ï¼Œä¾‹å¦‚é€šè¿‡æ’’è±†å­çš„æ–¹å¼è®¡ç®—ä¸è§„åˆ™å›¾å½¢çš„é¢ç§¯ã€‚è’™ç‰¹å¡æ´›æ³•æ˜¯ä¸€ç§ä»¥æ¦‚çŽ‡ç»Ÿè®¡ç†è®ºä¸ºæŒ‡å¯¼çš„æ•°å€¼è®¡ç®—æ–¹æ³•ã€‚ æŠ½æ ·ï¼ˆé‡‡æ ·ï¼‰æŒ‡ä»Žæ€»ä½“ä¸­æŠ½å–ä¸€éƒ¨åˆ†ä½œä¸ºæ ·æœ¬ã€‚è®¡ç®—æœºæ¨¡æ‹Ÿä¸­ï¼ŒæŠ½æ ·æ„å‘³ç€ä»Žä¸€ä¸ªæ¦‚çŽ‡åˆ†å¸ƒä¸­ç”Ÿæˆä¸€ä¸ªè§‚å¯Ÿå€¼ï¼Œè¿™æ¶‰åŠåˆ°ä¸€ä¸ªéšæœºçš„è¿‡ç¨‹ã€‚ä¸€èˆ¬è®¤ä¸ºè®¡ç®—æœºåªèƒ½è¿›è¡Œå‡åŒ€åˆ†å¸ƒçš„é‡‡æ ·ï¼Œå¯¹äºŽå¤æ‚çš„æ¦‚çŽ‡åˆ†å¸ƒï¼Œéœ€è¦è¿›è¡Œé‡‡æ ·æ–¹æ³•è®¾è®¡ã€‚ é€†å˜æ¢é‡‡æ ·ä»Žå›¾åƒä¸Šç†è§£è¿žç»­åž‹éšæœºå˜é‡çš„é‡‡æ ·æ˜¯ä¸ªä»€ä¹ˆçŽ©æ„å„¿ååˆ†å½¢è±¡ï¼š å·¦å›¾æ˜¯æ­£æ€åˆ†å¸ƒçš„æ¦‚çŽ‡å¯†åº¦å‡½æ•°ï¼ˆProbability Density Functionï¼ŒPDFï¼‰è®°ä¸º$f(x)â€‹$ï¼Œå³å›¾æ˜¯æ­£æ€åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆCumulative Distribute Functionï¼ŒCDFï¼‰è®°ä¸º$F(x)â€‹$ã€‚éšæœºå˜é‡çš„é‡‡æ ·å°±æ˜¯åœ¨$[0,1]â€‹$å‡åŒ€åˆ†å¸ƒé‡‡æ ·çš„åŸºç¡€ä¸Šï¼Œé€‰å–å°½å¯èƒ½åˆ†æ•£çš„ç‚¹ï¼Œä½¿è¿™äº›ç‚¹å°½å¯èƒ½åœ°æ‹ŸåˆCDFæ›²çº¿ã€‚ æ‹’ç»é‡‡æ ·é€†å˜æ¢é‡‡æ ·è™½ç„¶ç®€å•æœ‰æ•ˆï¼Œä½†æ˜¯å…¶åº”ç”¨åœºæ™¯ååˆ†æœ‰é™ï¼šå½“ç´¯ç§¯åˆ†å¸ƒå‡½æ•°æˆ–è€…åå‡½æ•°éš¾æ±‚æ—¶ï¼Œè€Œå®žé™…æƒ…å†µå¾€å¾€æ˜¯è¿™æ ·ã€‚ ä¸‹å›¾ä¸­çš„$f(x)$æ˜¯æˆ‘ä»¬é‡‡æ ·çš„ç›®æ ‡PDFï¼Œå½“å…¶CDFæˆ–è€…CDFçš„åå‡½æ•°ä¸å®¹æ˜“æ±‚çš„æ—¶å°±ä¸èƒ½ç›´æŽ¥å¯¹$f(x)$è¿›è¡Œé‡‡æ ·ã€‚æ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰çš„åŸºæœ¬æ€æƒ³æ˜¯å€ŸåŠ©è¿™æ ·ä¸€ä¸ªå‚è€ƒæ¦‚çŽ‡å¯†åº¦å‡½æ•°$f_r(x)$å³ä¸‹å›¾ä¸­çš„$Mg(x)$ï¼š $f_r(x)$ååˆ†å®¹æ˜“è¿›è¡Œé‡‡æ ·ï¼Œä¾‹å¦‚å–å‡åŒ€åˆ†å¸ƒæ„å‘³ç€å‚è€ƒPDFå¯ä»¥ç›´æŽ¥è¿›è¡Œé€†å˜æ¢é‡‡æ · $f_r(x)$ä½äºŽ$f(x)$ä¸Šæ–¹ï¼Œå³å¯¹ä»»æ„$x$æœ‰$f_r(x){\ge}f(x)$ $Mg(x)$è¡¨ç¤ºå°†å‡åŒ€åˆ†å¸ƒ$g(x)$å‘ä¸Šç§»åŠ¨ï¼Œæ­¤æ—¶ä»¥$f(x)$çš„æžå¤§å€¼ç¡®å®š$M$çš„å€¼æ•ˆæžœæ¯”è¾ƒå¥½ ä»Žå›¾ä¸Šæ¥çœ‹ï¼Œå‚è€ƒPDFâ€œç½©ä½â€äº†ç›®æ ‡PDFï¼š æ‹’ç»é‡‡æ ·çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š ä»Ž$f_r(x)$è¿›è¡Œä¸€æ¬¡é‡‡æ ·$x_i$ è®¡ç®—$x_i$çš„æŽ¥å—æ¦‚çŽ‡$\alpha$ï¼ˆAcceptance Probabilityï¼‰ï¼š$$\alpha=\frac{f\left(x_{i}\right)}{f_r\left(x_{i}\right)}$$ ä»Ž$(0,1)$å‡åŒ€åˆ†å¸ƒä¸­è¿›è¡Œä¸€æ¬¡é‡‡æ ·$u$ å¦‚æžœ$\alpha{\ge}u$ï¼ŒæŽ¥å—$x_i$ä½œä¸ºä¸€ä¸ªæ¥è‡ª$f(x)$çš„é‡‡æ ·ï¼›å¦åˆ™ï¼Œé‡å¤ç¬¬1æ­¥ æ˜¾ç„¶å¯¹äºŽç‰¹å®šçš„ç›®æ ‡PDFï¼Œå‚è€ƒPDFä¸æ­¢ä¸€ä¸ªï¼Œä¸åŒPDFçš„$\max(\alpha)$ä¸åŒã€‚ä»¥å‡åŒ€åˆ†å¸ƒé‡‡æ ·ä¸ºä¾‹ï¼Œå½“å‚è€ƒPDFä»Žä¸Šé¢è¶Šé è¿‘ç›®æ ‡PDFé‡‡æ ·æ•ˆçŽ‡è¶Šé«˜ï¼Œç›¸åº”çš„å¯»æ‰¾è¿™æ ·çš„å‚è€ƒPDFçš„éš¾åº¦å°±è¶Šå¤§ã€‚é‡‡æ ·æ•ˆçŽ‡é«˜æ„å‘³ç€å¯¹äºŽé‚£äº›æ¦‚çŽ‡å¯†åº¦è¾ƒå°çš„åŒºåŸŸæœ‰æ›´å¤§çš„å‡ çŽ‡èƒ½å¤Ÿé‡‡æ ·åˆ°ã€‚ ä¸ºäº†å¹³è¡¡é‡‡æ ·æ•ˆçŽ‡å’Œå‚è€ƒPDFçš„ç¡®å®šéš¾åº¦ï¼Œæå‡ºäº†è‡ªé€‚åº”æ‹’ç»é‡‡æ ·ã€‚ è‡ªé€‚åº”æ‹’ç»é‡‡æ ·å½“å‚è€ƒPDFä¸èƒ½å¾ˆå¥½çš„â€œç½©ä½â€ç›®æ ‡PDFæ—¶ï¼Œé‚£äº›æœªç½©ä½åŒºåŸŸå†…çš„é‡‡æ ·ç‚¹è¢«æ‹’ç»çš„æ¦‚çŽ‡å°±ä¼šå¾ˆå¤§ï¼Œé‡‡æ ·æ•ˆçŽ‡ä½Žã€‚æ‰€ä»¥å¦‚æžœèƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªè·Ÿç›®æ ‡PDFéžå¸¸æŽ¥è¿‘çš„å‚è€ƒPDFï¼Œå³å‚è€ƒPDFè®¡åˆ’èƒ½å¤Ÿå®Œå…¨ä»Žä¸Šé¢è´´åˆç›®æ ‡PDFï¼Œæ­¤æ—¶èƒ½å¤Ÿè¾¾åˆ°è¾ƒå¥½çš„é‡‡æ ·æ•ˆçŽ‡ã€‚ å½“ç›®æ ‡PDFæ˜¯log-concaveå‡½æ•°æ—¶å¯ä»¥é‡‡ç”¨è‡ªé€‚åº”æ‹’ç»é‡‡æ ·ï¼ˆAdaptive Rejection Samplingï¼ŒARSï¼‰ã€‚ log-concaveå‡½æ•°ï¼šå½“æ¦‚çŽ‡å¯†åº¦å‡½æ•°$f(x)$æ˜¯å‡¹å‡½æ•°ï¼ˆconcaveï¼‰ä¸”$\log{f(x)}$ä»ç„¶æ˜¯å‡¹å‡½æ•°æ—¶ï¼Œ$f(x)$ç§°ä¹‹ä¸ºlog-concaveå‡½æ•°ï¼š$$f(\theta x+(1-\theta) y) \geq \theta f(x)+(1-\theta) f(y) \\log f(\theta x+(1-\theta) y) \geq \theta \log f(x)+(1-\theta) \log f(y)$$ åœ¨log-concaveå‡½æ•°ä¸Šéšæœºé€‰å–ä¸€äº›ç‚¹åšåˆ‡çº¿ï¼š å°†log-concaveå‡½æ•°å˜æ¢å›žåŽŸæ¥çš„PDFï¼Œæ­¤æ—¶ä¸Šå›¾çš„åˆ‡çº¿å°†å˜æˆæ›²çº¿ï¼ˆå–æŒ‡æ•°ï¼‰ï¼Œå®ƒï¼ä»¬ï¼å¼¯ï¼äº†ï¼ å°†è¿™ç»„å¼¯äº†çš„â€œåˆ‡çº¿â€ç»„æˆæˆä¸€ä¸ªåˆ†æ®µå‡½æ•°ï¼Œè¿™ä¸ªåˆ†æ®µå‡½æ•°å°†ä¼šå¾ˆå¥½çš„è´´åˆç›®æ ‡PDFã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>é‡‡æ ·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitç–‘éš¾æ‚ç—‡]]></title>
    <url>%2Fbug%2F20190415-bb05.html</url>
    <content type="text"><![CDATA[æŠ¥é”™å…³é”®è¯ï¼šUpdates were rejected because a pushed branch tip is behind its remote counterpart. åŽŸå› åˆ†æžï¼šç›´æŽ¥åœ¨è¿œç¨‹masteråˆ†æ”¯è¿›è¡Œä¿®æ”¹æˆ–è€…æœ‰å…¶ä»–äººä¿®æ”¹åŽå·²ç»æäº¤åˆ°äº†è¿œç¨‹masterï¼Œè€Œæœ¬åœ°ä½¿ç”¨testï¼ˆéžæœ¬åœ°masteråˆ†æ”¯ï¼‰åˆ†æ”¯è¿›è¡Œå†æ¬¡ä¿®æ”¹åŽç›´æŽ¥pushåˆ°è¿œç¨‹masteråˆ†æ”¯ï¼Œæ­¤æ—¶æœ¬åœ°masteråˆ†æ”¯çš„ç‰ˆæœ¬è¿˜æ˜¯è¿œç¨‹masteråˆ†æ”¯ä¿®æ”¹ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå³æœ¬åœ°masterçš„ç‰ˆæœ¬è½åŽäºŽè¿œç¨‹masterçš„ç‰ˆæœ¬ï¼Œå› æ­¤å¯¼è‡´pushå¤±è´¥ã€‚ è§£å†³åŠžæ³•ï¼šå…ˆ git checkout master åˆ°æœ¬åœ°masteråˆ†æ”¯ï¼Œå† git pull è¿œç¨‹ä»“åº“ master æ‹‰å–æœ€æ–°ç‰ˆæœ¬ï¼Œå† git checkout test å›žåˆ°æœ¬åœ°å·¥ä½œåˆ†æ”¯ï¼Œå† git push è¿œç¨‹ä»“åº“ master æŽ¨é€æœ€æ–°ç‰ˆæœ¬ã€‚]]></content>
      <categories>
        <category>bug</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[python3ä¸­çš„å­—ç¬¦ä¸²ä¸Žç¼–ç é—®é¢˜]]></title>
    <url>%2Fpython%2F20190411-d7e5.html</url>
    <content type="text"><![CDATA[python3çš„ç¼–ç æ–¹å¼æ¯”python2å·²ç»ç®€å•å¾ˆå¤šäº†ï¼Œä¸è¿‡è¿˜æ˜¯è®©æˆ‘ç­‰èœé¸Ÿå¤´ç–¼ã€‚å»–è€å¸ˆçš„æ•™ç¨‹å†™çš„ç€å®žé€šä¿—æ˜“æ‡‚ï¼Œæç„¶å¤§æ‚Ÿã€‚ ASCIIã€Unicodeå’ŒUTF-8æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä¼šæ‹†åˆ†æˆå•ä¸ªå­—ç¬¦è¿›è¡Œä¼ è¾“å’Œå­˜å‚¨ã€‚å¯¹å­—ç¬¦ä¸²ç¼–ç ä¸ä»…è¦è€ƒè™‘å­—ç¬¦é›†çš„å®Œæ•´æ€§ã€ä¸åŒè¯­è¨€å­—ç¬¦é›†çš„å…¼å®¹æ€§ï¼Œè¿˜è¦è€ƒè™‘ä¼ è¾“å­˜å‚¨ç©ºé—´å¤§å°ã€‚ ASCII ASCIIå…¨ç§°æ˜¯American Standard Code for Information Interchange (ç¾Žå›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç )ã€‚ è®¡ç®—æœºæ˜¯ç¾Žå›½äººå‘æ˜Žçš„ï¼Œå› æ­¤æ—©æœŸçš„ASCIIç¼–ç åªè€ƒè™‘åˆ°26ä¸ªè‹±æ–‡å­—æ¯å’Œä¸€äº›ç®€å•çš„å­—ç¬¦ã€‚ç”±äºŽæ•°é‡è¾ƒå°‘ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨ä¸€ä¸ªå­—èŠ‚å°±å¯ä»¥å®Œæˆç¼–ç ï¼Œæ‰€ä»¥ASCIIç¼–ç å¯¹åº”çš„æ•´æ•°å€¼ä»Ž0åˆ°255ã€‚ Unicode ASCIIç¼–ç ä¸èƒ½ç”¨æ¥ç¼–ç ä¸­æ–‡å­—ç¬¦ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½ç”¨æ¥ç¼–ç æ—¥æ–‡å­—ç¬¦ã€éŸ©æ–‡å­—ç¬¦å’Œé˜¿æ‹‰ä¼¯æ–‡å­—ç¬¦ç­‰ç­‰ç­‰ç­‰ã€‚å¦‚æžœæ¯ä¸ªå›½å®¶éƒ½ä¸ºäº†æ˜¯è®¡ç®—æœºèƒ½è¯†åˆ«è‡ªå·±ç‰¹æœ‰çš„å­—ç¬¦è€Œä½¿ç”¨è‡ªå·±çš„ç¼–ç æ–¹å¼ï¼Œå½“å¤„ç†å¤šå›½è¯­è¨€æ–‡æœ¬æ—¶å°±ä¼šå‡ºçŽ°è®¸å¤šé—®é¢˜ã€‚æ‰€ä»¥å¤§å®¶ç»Ÿä¸€è§„å®šäº†Unicodeç¼–ç ã€‚æ¢å¥è¯è¯´ï¼ŒUnicodeç¼–ç å…¼å®¹åœ°çƒä¸Šæ‰€æœ‰å›½å®¶çš„è¯­è¨€ç¬¦å·ï¼çœŸæ˜¯ä¸€ä¸ªä»¤äººæŒ¯å¥‹çš„æ¶ˆæ¯~ ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒUnicodeä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚å¯¹å­—ç¬¦è¿›è¡Œç¼–ç ï¼ˆå¯¹äºŽæŸäº›ååˆ†ååƒ»çš„å­—ç¬¦å¯èƒ½è¦ç”¨åˆ°æ›´å¤šçš„å­—èŠ‚ï¼‰ã€‚å¯¹äºŽåŽŸæ¥çš„ASCIIç¼–ç çš„å­—ç¬¦ï¼Œåœ¨å®ƒä»¬çš„ASCIIç¼–ç ï¼ˆäºŒè¿›åˆ¶ç¼–ç ï¼‰å‰åŠ ä¸Šä¸€ä¸ªå­—èŠ‚çš„0ï¼ˆå³8ä¸ª0ï¼‰å³å¯å®Œç¾Žè½¬åŒ–ä¸ºUnicodeç¼–ç ã€‚ å­—ç¬¦ ASCIIç¼–ç  Unicodeç¼–ç  UTF-8ç¼–ç  A 01000001 00000000 01000001 01000001 ä¸­ ä¸èƒ½ç¼–ç  01001110 00101101 11100100 10111000 10101101 å¥½äº†ï¼ŒçŽ°åœ¨é€šè¿‡Unicodeèƒ½å¤Ÿå…¼å®¹æ‰€æœ‰è¯­è¨€çš„å­—ç¬¦é›†äº†ã€‚ä½†æ˜¯åˆå‡ºçŽ°äº†æ–°çš„é—®é¢˜ï¼šå½“æˆ‘çš„æ–‡æœ¬ï¼ˆå‡ ä¹Žï¼‰æ˜¯å…¨è‹±æ–‡æ˜¯ï¼Œå¦‚æžœç›´æŽ¥ä½¿ç”¨Unicodeç¼–ç æ–‡ä»¶ï¼Œå…¶ä¼ è¾“çš„å­—èŠ‚æ•°é‡å’Œå ç”¨çš„ç£ç›˜ç©ºé—´éƒ½æ˜¯ASCIIç¼–ç çš„ä¸¤å€ï¼Œæ˜¾ç„¶ååˆ†å¤šä½™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆå‡ºçŽ°äº†UTF-8ç¼–ç ã€‚ UTF-8 UTF-8ç¼–ç æ˜¯ä¸å®šé•¿çš„ç¼–ç æ–¹å¼ï¼šé‚£äº›å¯ä»¥ç”¨ASCIIç¼–ç çš„å­—ç¬¦è½¬åŒ–æˆUTF-8ç¼–ç æ—¶ä»ç„¶åªæœ‰ä¸€ä¸ªå­—èŠ‚ï¼ŒUTF-8ç¼–ç çš„æ±‰å­—ä¸€èˆ¬æ˜¯ä¸‰ä¸ªå­—èŠ‚ï¼Œå°‘æ•°ç‰¹æ®Šå­—ç¬¦æ‰€ç”¨çš„å­—èŠ‚æ•°æ›´å¤šã€‚æ‰€ä»¥ï¼ŒUTF-8æ˜¯å®Œç¾Žå…¼å®¹ASCIIç¼–ç çš„ï¼Œåªæ”¯æŒASCIIç¼–ç çš„åº”ç”¨ä»ç„¶å¯ä»¥åœ¨UTF-8ç¼–ç ä¸Šè¿è¡Œã€‚ æ€»ç»“ æ€»ç»“ä»¥ä¸‹ï¼š ASCIIç¼–ç åªé€‚ç”¨äºŽè‹±æ–‡å­—ç¬¦ï¼Œå›ºå®šå•å­—èŠ‚ï¼› Unicodeç¼–ç æ˜¯å†…å­˜ä¸­çš„ç¼–ç æ–¹å¼ï¼Œå›ºå®šå¤šå­—èŠ‚ï¼› UTF-8ç¼–ç ä¼˜åŒ–äº†Unicodeç¼–ç ï¼Œä¸å®šå­—èŠ‚ï¼› è®¡ç®—æœºç¼–ç å·¥ä½œæ–¹å¼å­—ç¬¦ä¸²æ‰€åœ¨çš„åœºæ™¯ä¸å¤–ä¹Žä¸¤ç§ï¼š å½“æˆ‘ä»¬åœ¨pythonç¨‹åºä¸­å¤„ç†å­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä»¬å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶ä½¿ç”¨Unicodeç¼–ç å­—ç¬¦ä¸²ï¼› å½“æˆ‘ä»¬å­˜å‚¨å­—ç¬¦ä¸²æ—¶å¾€å¾€ä½¿ç”¨UTF-8ç­‰ç¼–ç æ–¹å¼ï¼ˆå»ºè®®åªé€‚ç”¨UTF-8ç¼–ç å­˜å‚¨æ–‡ä»¶ï¼‰ã€‚ åœºæ™¯1ï¼šè®°äº‹æœ¬ç¼–è¾‘æ–‡ä»¶ æ–‡æœ¬æ–‡ä»¶é€šå¸¸ä»¥UTF-8ç¼–ç å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œè®°äº‹æœ¬åº”ç”¨è¯»å–æ–‡ä»¶åˆ°å†…å­˜ä¸­ï¼Œæ­¤æ—¶å­—ç¬¦ä¸²æ”¹ç”¨Unicodeç¼–ç ï¼Œå½“æˆ‘ä»¬ç¼–è¾‘å®Œæˆä¹‹åŽéœ€è¦ä½¿ç”¨UTF-8ç¼–ç æ–‡ä»¶ä¿å­˜åˆ°ç£ç›˜ã€‚ åœºæ™¯2ï¼šç½‘é¡µæµè§ˆ å½“æˆ‘ä»¬æµè§ˆæŸäº›ç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¿¡æ¯ï¼Œè¿™äº›å­—ç¬¦ä¸²æ˜¯Unicodeç¼–ç ï¼›æœåŠ¡å™¨ä½¿ç”¨UTF-8ç¼–ç è¿™äº›å­—ç¬¦ä¸²ä¼ è¾“è‡³æµè§ˆå™¨å¹¶æ˜¾ç¤ºã€‚ python3ä¸­çš„å­—ç¬¦ä¸²pythonä¸­å­—ç¬¦ä¸²ç±»åž‹æ˜¯strï¼Œå®ƒä»¬ä»¥Unicodeæ–¹å¼ç¼–ç ã€‚ å­—ç¬¦é€šè¿‡Unicodeç¼–ç å¯ä»¥ä¸Žæ•°å­—ï¼ˆäºŒè¿›åˆ¶ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶â€¦ï¼‰è¿›è¡Œè½¬æ¢ï¼š 1234567891011## èŽ·å–å­—ç¬¦çš„Unicodeç¼–ç çš„åè¿›åˆ¶æ•´æ•°å€¼ord('A') # 65ord('ä¸­') # 20013## å°†åè¿›åˆ¶æ•´æ•°é€šè¿‡Unicodeç¼–ç æ–¹å¼è½¬åŒ–ä¸ºå­—ç¬¦chr(65) # 'A'chr(20013) # 'ä¸­'## æ³¨æ„ï¼š# ord()åªèƒ½è½¬æ¢å•ä¸ªå­—ç¬¦ï¼Œä¼ é€’å­—ç¬¦ä¸²ä¼šæŠ¥é”™# ä¼ å…¥chr()æŽ¥æ”¶çš„æ•´æ•°å¦‚æžœè¶…è¿‡Unicodeç¼–ç çš„èŒƒå›´ä¹Ÿä¼šæŠ¥é”™ æˆ‘ä»¬åœ¨ç¨‹åºä¸­å¤„ç†çš„å­—ç¬¦ä¸²éƒ½æ˜¯Unicodeç¼–ç çš„ï¼Œä¸€ä¸ªå­—ç¬¦å æ®äº†å¤šä¸ªå­—èŠ‚ã€‚ å½“è¿›è¡Œç½‘ç»œä¼ è¾“æˆ–è€…æœ¬åœ°å­˜å‚¨æ—¶ï¼Œstrç±»åž‹çš„å­—ç¬¦ä¸²éœ€è¦è¢«è½¬æ¢ä¸ºå­—èŠ‚æ•°æ®ï¼š 1234567891011# å•å•ä¸€ä¸ª'ä¸­'æ˜¯Unicodeç¼–ç çš„ï¼Œç›´è§‚ä¸Šå°±æ²¡æœ‰åæ˜ å‡ºå­—èŠ‚ä¿¡æ¯&gt;&gt;&gt; 'ä¸­'.encode('utf-8')b'\xe4\xb8\xad'# ä»Žencodeç»“æžœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°'ä¸­'åŒ…å«äº†ä¸‰ä¸ªå­—èŠ‚&gt;&gt;&gt; 'ä¸­'.encode('gbk')b'\xd6\xd0'# ä¸‹é¢ä¸¤ç§æ–¹å¼å†›ä¼šæŠ¥é”™LookupError&gt;&gt;&gt; 'ä¸­'.encode('unicode') # å› ä¸º'ä¸­'æœ¬æ¥å°±æ˜¯Unicodeç¼–ç äº†&gt;&gt;&gt; 'ä¸­'.encode('ascii') # ASCIIä¸èƒ½ç¼–ç æ±‰å­—å­—ç¬¦ pythonä¸­ str.encode(CODING_TYPE)æ–¹æ³•å¯ä»¥å°†Unicodeå­—ç¬¦ä¸²è½¬æ¢æˆCODING_TYPEç¼–ç çš„å­—ç¬¦ä¸²ï¼› bytes.decode(ORIGIN_TYPE)æ–¹æ³•å°†ORIGIN_TYPEç¼–ç çš„å­—èŠ‚ä¸²è§£ç æˆUnicodeå­—ç¬¦ä¸²ã€‚ encodeçš„å‚æ•°æ˜¯ç›®æ ‡ç¼–ç æ–¹å¼ï¼Œdecodeçš„å‚æ•°æ˜¯æºå­—èŠ‚ä¸²çš„ç¼–ç æ–¹å¼ã€‚ 12345678910111213141516&gt;&gt;&gt; b'\xe4\xb8\xad'.decode('utf-8')'ä¸­'&gt;&gt;&gt; b'\xd6\xd0'.decode('gbk')'ä¸­'## .decode(..., errors='ignore')å¯å¿½ç•¥æŽ‰éƒ¨åˆ†ä¸èƒ½æ­£ç¡®è§£ç çš„å­—èŠ‚# \xe4\xb8\xad è¢«å¿½ç•¥&gt;&gt;&gt; b'\xe4\xb8\xad\xd6\xd0'.decode('utf-8', errors='ignore')# \xd6\xd0 è¢«å¿½ç•¥&gt;&gt;&gt; b'\xe4\xb8\xad\xd6\xd0'.decode('gbk', errors='ignore')## ä¸‹é¢ä¸¤ç§æ˜¯é”™è¯¯çš„&gt;&gt;&gt; b'\xe4\xb8\xad'.decode('gbk')&gt;&gt;&gt; b'\xd6\xd0'.decode('utf-8') len(...)å‡½æ•°æŽ¥æ”¶å­—ç¬¦ä¸²æ—¶è®¡ç®—çš„æ˜¯å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°ç›®ï¼ŒæŽ¥æ”¶å­—èŠ‚ä¸²æ—¶è®¡ç®—çš„æ˜¯å­—èŠ‚ä¸²çš„å­—èŠ‚æ•°ã€‚ 123len('ä¸­å›½') #=&gt; 2len('ä¸­å›½'.encode('utf-8')) #=&gt; 6ï¼Œç­‰ä»·äºŽ len(b'\xe4\xb8\xad\xe5\x9b\xbd')len('ä¸­å›½'.encode('gbk')) #=&gt; 4ï¼Œç­‰ä»·äºŽ len(b'\xd6\xd0\xb9\xfa') .pyæºæ–‡ä»¶ä¹Ÿæ˜¯æ–‡æœ¬ï¼Œæˆ‘ä»¬åœ¨ä¿å­˜æ˜¯åº”è¯¥ä¿å­˜ä¸ºUTF-8ç¼–ç ã€‚ä¸ºäº†ä½¿pythonè§£é‡Šå™¨èƒ½æ­£ç¡®è¯»å–æºæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šè§£é‡Šå™¨è¯»å–æºæ–‡ä»¶çš„ç¼–ç æ–¹å¼ï¼š 12#!/usr/bin/env python3# -*- coding: utf-8 -*- notepad++åº”è¯¥é€‰æ‹© Encoding in UTF-8 without BOM ç¼–ç æ–‡ä»¶ï¼ ä¸­æ–‡æ–‡ä»¶çš„è¯»å†™1234567891011# encodingå‚æ•°æŒ‡å®šåŽŸæ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œå¯è®¾ç½®errors='ignore'with open(INPUT_FP, encoding='utf-8') as reader: OUTPUT_STRING = ... # encodingæŒ‡å®šæ–°æ–‡ä»¶çš„ç¼–ç æ ¼å¼with open(OUPUT_FP, 'w', encoding='utf-8') as writer: writer.write(OUTPUT_STRING) # ä¸è¦å°†è¿™é‡Œçš„encodingå‚æ•°å’Œä¸Šé¢çš„.encode/.decodeæ··æ·†ï¼š# |- encodingå‚æ•°æŒ‡å®šè¾“å…¥æ–‡ä»¶/è¾“å‡ºæ–‡ä»¶çš„ç¼–ç ç±»åž‹ï¼Œä¸€èˆ¬åœ¨è¯»æ–‡ä»¶ï¼ˆæœ¬åœ°/ç½‘ç»œï¼‰çš„æ—¶å€™æ‰ç”¨åˆ°# |- .encode/.decodeæ–¹æ³•æŒ‡å®šunicodeç¼–ç å­—ç¬¦ä¸²ä¸Žå…¶å®ƒç¼–ç å­—ç¬¦ä¸²é—´çš„è½¬æ¢æ–¹å¼ å‚è€ƒè‡ªå»–é›ªå³°çš„pythonæ•™ç¨‹-pythonåŸºç¡€-å­—ç¬¦ä¸²å’Œç¼–ç ]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[çµæ„Ÿæºè‡ªmacaronè®©äººååˆ†èˆ’é€‚çš„åç§é¢œè‰²]]></title>
    <url>%2Fcargo%2F20190410-3bf3.html</url>
    <content type="text"><![CDATA[Macaronæ˜¯ä¸€ç§ç”¨è›‹ç™½ã€æä»ç²‰ã€ç™½ç ‚ç³–å’Œç³–éœœåˆ¶ä½œï¼Œå¹¶å¤¹æœ‰æ°´æžœé…±æˆ–å¥¶æ²¹çš„æ³•å¼ç”œç‚¹ã€‚å£æ„Ÿä¸°å¯Œï¼Œå¤–è„†å†…æŸ”ï¼Œå¤–è§‚äº”å½©ç¼¤çº·ï¼Œç²¾è‡´å°å·§ã€‚Macaron 10 è‰²å› ä¸ºå®ƒä»¬çš„è§†è§‰èˆ’é€‚è€Œå¹¿ä¸ºæµä¼ ã€‚ è‹±æ–‡å ä»£ç  è§†è§‰æ”¹é‡Š bewitched tree #19CAAD æˆ– rgb(19,202,173) mystical green #8CC7B5 æˆ– rgb(140,199,181) light heart blue #A0EEE1 æˆ– rgb(160,238,225) glass gall #BEE7E9 æˆ– rgb(190,231,233) silly fizz #BEEDC7 æˆ– rgb(190,237,199) brain sand #D6D5B7 æˆ– rgb(214,213,183) mustard addicted #D1BA74 æˆ– rgb(209,186,116) magic powder #E6CEAC æˆ– rgb(230,206,172) true blush #ECAD9E æˆ– rgb(236,173,158) merry cranesbill #F4606C æˆ– rgb(244,96,108)]]></content>
      <categories>
        <category>cargo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é™ç»´04 - TSNEå¼•é¢†æ—¶å°š]]></title>
    <url>%2Fml%2F20190328-acd8.html</url>
    <content type="text"><![CDATA[t-SNE (t-distributed Stochastic Neighbor Embedding) æ˜¯ç›®å‰æ¥è¯´æ•ˆæžœè¾ƒå¥½çš„æ•°æ®é™ç»´ä¸Žå¯è§†åŒ–æ–¹æ³•ï¼Œä½†æ˜¯å¤§é‡å ç”¨å†…å­˜ã€è®¡ç®—æ—¶é—´é•¿çš„ç¼ºç‚¹ä¹Ÿå¾ˆçªå‡ºã€‚ ç›¸æ¯”äºŽSNEï¼Œt-SNEçš„ä¸»è¦ä¼˜åŒ–æœ‰ï¼šè”åˆæ¦‚çŽ‡æ›¿ä»£æ¡ä»¶æ¦‚çŽ‡ã€ä½Žç»´ç©ºé—´ä¸‹ä½¿ç”¨tåˆ†å¸ƒä»£æ›¿é«˜æ–¯åˆ†å¸ƒã€‚[1] èƒŒæ™¯å¯è§†åŒ–æ—©æœŸçš„å¯è§†åŒ– (Visualization) å·¥å…·ä¸è´Ÿè´£è§£é‡Šæ•°æ®ï¼Œè¿™å°±é™åˆ¶äº†è¿™äº›å·¥å…·åœ¨çœŸå®žä¸–ç•Œæ•°æ®ä¸Šçš„åº”ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬è¦æƒ³è§£é‡Šæ•°æ®ï¼Œæˆ‘ä»¬è¿˜æ˜¯åªèƒ½é äººçœ¼çœ‹ã€‚ç›¸æ¯”äºŽèƒ½è§£é‡Šæ•°æ®çš„ç›‘ç£å­¦ä¹ è€Œè¨€ï¼Œå¯è§†åŒ–åªéœ€è¦å±•ç¤ºè®­ç»ƒæ•°æ®ï¼Œè€Œä¸éœ€è¦è®­ç»ƒæ¨¡åž‹ä½¿å®ƒèƒ½å¤Ÿæ‹Ÿåˆåˆ°æµ‹è¯•æ•°æ®é›†ã€‚å¯è§†åŒ–çš„ä»»åŠ¡ç®€å•è®¸å¤šã€‚[2] çº¿æ€§é™ç»´ å°†æ•°æ®ä»Žé«˜ä½ç©ºé—´æ˜ å°„åˆ°ä½Žç»´ç©ºé—´çš„è¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸º mapï¼Œç›¸åº”çš„ï¼Œä½Žç»´ç©ºé—´ä¸­çš„æ˜ å°„ç‚¹è¢«ç§°ä¹‹ä¸º map pointsã€‚é™ç»´ç®—æ³•å·²ç»æ³¨æ„åˆ°ï¼Œè¦å°†é«˜ç»´ç©ºé—´ä¸­çš„æ•°æ®ç»“æž„é—®é¢˜å°½å¯èƒ½çš„ä¿ç•™åˆ°ä½Žç»´ç©ºé—´ã€‚ ä½†æ˜¯ä¼ ç»Ÿçš„çº¿æ€§é™ç»´ (Linear dimentionality reduction) ç®—æ³•ï¼Œä¾‹å¦‚PCAã€MDSï¼Œæ›´åŠ ä¾§é‡åœ¨ä½Žç»´ç©ºé—´ä¸­ä¿æŒé«˜ç»´ç©ºé—´ä¸­çš„å·®å¼‚æ€§ï¼Œå³å°½å¯èƒ½åœ°åˆ†å¼€æ•°æ®ã€‚åŒæ—¶å®ƒä»¬æ›´åŠ å…³æ³¨æ•°æ®åœ°å…¨å±€ç‰¹å¾ï¼Œè¿™ç‚¹ä¸Žéžçº¿æ€§é™ç»´ç®—æ³•æ˜¾è‘—ä¸åŒã€‚ éžçº¿æ€§é™ç»´å¤§éƒ¨åˆ†éžçº¿æ€§é™ç»´ (non-linear dimentionality reduction) ç®—æ³•å…³æ³¨çš„æ˜¯ åœ¨ä½Žç»´ç©ºé—´ä¸­ä¿æŒé«˜ç»´ç©ºé—´åœ°å±€éƒ¨ç‰¹å¾ã€‚è¿™å°±æ„å‘³ç€ï¼Œå®ƒä»¬ä¸èƒ½åŒæ—¶å…³æ³¨æ•°æ®çš„å…¨å±€ç‰¹å¾å’Œå±€éƒ¨ç‰¹å¾ã€‚å…¨å±€ç‰¹å¾å°±æ˜¯åŸºäºŽæ‰€æœ‰æ•°æ®è¿›è¡Œçš„è§£é‡Šï¼Œæ¯”å¦‚èšç±»ç»“æžœå°±æ˜¯åŸºäºŽæ‰€æœ‰æ•°æ®è¿›è¡Œçš„ï¼Œç†æƒ³æƒ…å†µä¸‹æ¯ä¸ªæ•°æ®ç‚¹éƒ½èƒ½æ‰¾åˆ°å®ƒè‡ªå·±æ‰€å±žçš„ç±»ï¼›å±€éƒ¨ç‰¹å¾åªæ˜¯åŸºäºŽéƒ¨åˆ†æ•°æ®ç‚¹è¿›è¡Œçš„æŽ¨å¯¼ï¼Œæ¯”å¦‚åœ¨SNEç®—æ³•ä¸­ï¼Œæ€»æ˜¯è®¡ç®—ç¦»ä¸­å¿ƒç‚¹æ¬§å¼è·ç¦»å°çš„éƒ¨åˆ†ç‚¹è¿›è¡Œä¸‹é™ï¼Œå®ƒå…³æ³¨çš„æ˜¯ä»¥ä¸­å¿ƒç‚¹ä¸ºåœ†å¿ƒï¼Œä»¥æœ‰é™é•¿åº¦ä¸ºåŠå¾„çš„ï¼ˆè¶…ï¼‰çƒä½“å†…çš„ç‚¹ã€‚ ä¸‹é¢7ä¸ªå¸¸è§çš„éžçº¿æ€§é™ç»´ç®—æ³•ï¼Œå®ƒä»¬åœ¨å±€éƒ¨ç‰¹å¾æå–ä¸Šéƒ½æ˜¯å¾ˆä¼˜ç§€çš„ï¼šSammon mapping [3], CCA [4], SNE [5], Isomap [6], MVU [7], LLE [8], Laplacian Eigenmaps [9]ã€‚ t-SNEt-SNEç»§æ‰¿è‡ªSNEç®—æ³•ï¼ŒåŒæ ·æ˜¯éžçº¿æ€§é™ç»´ï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºŽï¼šèƒ½å¤Ÿä¿æŒå¤§éƒ¨åˆ†å±€éƒ¨ç‰¹å¾åˆ°ä½Žç»´ç©ºé—´ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¨å±€ç‰¹å¾ï¼ˆä¾‹å¦‚èšç±»ï¼‰ã€‚ ä¸ŽSNEä¸€æ ·ï¼Œt-SNEçš„æ€æƒ³è¿˜æ˜¯è®¡ç®—ä¸¤ä¸ªç‚¹é—´çš„ç›¸ä¼¼åº¦ (similarity)ã€‚ æ–¹æ³•è®ºSNEå°½ç®¡èƒ½å¾—åˆ°æ¯”è¾ƒå¥½çš„å¯è§†åŒ–ç»“æžœï¼Œä½†æ˜¯å®ƒçš„æŸå¤±å‡½æ•°éš¾ä»¥ä¼˜åŒ–ï¼Œå¹¶ä¸”è¿˜å­˜åœ¨ crowding problem (æ‹¥æŒ¤é—®é¢˜) ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œt-SNEèƒ½ç¼“å’Œä¸Šé¢æåˆ°çš„æ‰€æœ‰é—®é¢˜ï¼ˆä¼˜åŒ–é—®é¢˜å’Œæ‹¥æŒ¤é—®é¢˜ï¼‰ï¼Œä¸ŽSNEç›¸æ¯”ï¼Œt-SNEä¸»è¦åœ¨ä¸¤ä¸ªæ–¹é¢è¿›è¡Œæ”¹è¿›ï¼š1.ä½¿ç”¨å¯¹ç§°çš„æŸå¤±å‡½æ•°ï¼Œæ–°çš„æŸå¤±å‡½æ•°æ±‚å¯¼ä¼šæ›´åŠ å®¹æ˜“ã€‚[10]2.è®¡ç®—ä½Žç»´ç©ºé—´ä¸­ä¸¤ç‚¹çš„ç›¸ä¼¼åº¦ä½¿ç”¨tåˆ†å¸ƒè€Œä¸æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œtåˆ†å¸ƒæ˜¯ä¸€ç§é‡å°¾åˆ†å¸ƒ (heavy-tailed distribution)ï¼Œå®ƒèƒ½å¤Ÿæœ‰æ•ˆç¼“è§£æ‹¥æŒ¤é—®é¢˜å’Œä¼˜åŒ–é—®é¢˜ï¼ŒåŽé¢å°†ä¼šè¯¦ç»†ä»‹ç»ã€‚ ä¼˜åŒ–SNEæˆå¯¹ç§°ç»“æž„è”åˆæ¦‚çŽ‡æ›¿æ¢æ¡ä»¶æ¦‚çŽ‡ åœ¨SNEä¸­æˆ‘ä»¬é€šè¿‡æ¡ä»¶æ¦‚çŽ‡åˆ†åˆ«è®¡ç®—é«˜ç»´ç©ºé—´å’Œä½Žç»´ç©ºé—´ä¸­ç‚¹å¯¹é—´çš„ç›¸ä¼¼åº¦ï¼š$$\begin{cases}&amp; p_{ij}=p(x_j|x_i)=\frac{\exp(-||x_i-x_j||^2)}{\sum_{k{\ne}i}{\exp(-||x_i-x_k||^2)}} \\&amp; q_{ij}=q(y_j|y_i) = \frac {\exp{(-||y_i-y_j||^2)}} {\sum_{k{\ne}i}{\exp{(-||y_i-y_k||^2)}}}\end{cases}$$ ç„¶åŽåœ¨t-SNEä¸­æˆ‘ä»¬å°†æ¡ä»¶æ¦‚çŽ‡æ¢æˆè”åˆæ¦‚çŽ‡ï¼š$$\begin{cases}&amp; p_{ij}=p(x_j,x_i)=\frac{\exp(-||x_i-x_j||^2)}{\sum_{m{\ne}n}{\exp(-||x_m-x_n||^2)}} \\&amp; q_{ij}=q(y_j,y_i) = \frac {\exp{(-||y_i-y_j||^2)}} {\sum_{m{\ne}n}{\exp{(-||y_m-y_n||^2)}}}\end{cases}$$ æ³¨æ„ä¸Šé¢ä¸¤ç§è¡¨è¿°æ–¹å¼çš„åˆ†æ¯çš„å·®å¼‚ï¼š æ¡ä»¶æ¦‚çŽ‡çš„åˆ†æ¯æ˜¯ä¸­å¿ƒç‚¹ $x_i$ ä¸Žå…¶å®ƒæ‰€æœ‰ç‚¹çš„ç›¸ä¼¼åº¦ä¹‹å’Œ; è”åˆæ¦‚çŽ‡çš„åˆ†æ¯æ²¡æœ‰ä¸­å¿ƒç‚¹ä¸€è¯´ï¼Œè®¡ç®—çš„æ˜¯æ‰€æœ‰ç‚¹å¯¹ï¼ˆnä¸ªæ•°æ®ç‚¹æœ‰ $C_n^2$ ä¸ªç‚¹å¯¹ï¼‰çš„ç›¸ä¼¼åº¦ä¹‹å’Œã€‚ æ¡ä»¶æ¦‚çŽ‡ä¸­ $p_{ij}{\ne}p_{ji}$ï¼Œè€Œè”åˆæ¦‚çŽ‡ä¸­ $p_{ij}=p_{ji}$ï¼ˆqåŒç†ï¼‰ï¼Œè¿™æ­£å¥½ä¹Ÿä¸Žåˆ†æ¯çš„è¿™ç§å·®å¼‚å»åˆã€‚ æ³¨æ„åˆ°è”åˆæ¦‚çŽ‡ç®—æ³•ä¼šäº§ç”Ÿä¸€ä¸ªæ¡ä»¶æ¦‚çŽ‡ç®—æ³•ä¸ä¼šé‡åˆ°çš„é—®é¢˜ï¼šç¦»ç¾¤ç‚¹ã€‚ è§‚å¯Ÿä¸Šé¢çš„è”åˆæ¦‚çŽ‡å…¬å¼ï¼Œå¯¹äºŽç¦»ç¾¤ç‚¹ $x_i$ï¼Œæ‰€æœ‰ä¸Žå®ƒé…å¯¹è®¡ç®—å‡ºæ¥çš„ $p_{ij}$ æˆ–è€… $p_{ji}$ çš„ $||x_i-x_j||^2$ å°†ä¼šç‰¹åˆ«å¤§ï¼Œè¿™å¯¼è‡´ $p_{ij}$ æˆ–è€… $p_{ji}$ æ€»æ˜¯ç‰¹åˆ«çš„å°ï¼Œå³ä¸Ž $x_i$ ç›¸å…³çš„ $p_{ij}$ æˆ–è€… $p_{ji}$ åœ¨å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®æ€»æ˜¯ç‰¹åˆ«å°ã€‚è¿™ç›¸å½“äºŽè‡ªåŠ¨å‡å°äº†é‚£äº›ä½Žå¯†åº¦åŒºåŸŸçš„ç‚¹åœ¨æŸå¤±å‡½æ•°ä¸­çš„æƒé‡ï¼Œä½¿å¾—é€šè¿‡ç›¸ä¼¼æ€§ç¡®å®šç¦»ç¾¤ç‚¹åœ¨ä½Žç»´ç©ºé—´ä¸­çš„ä½ç½®æ›´åŠ å›°éš¾ã€‚ æ‰€ä»¥å‘¢ï¼Œå¿…é¡»æƒ³åŠžæ³•æ¶ˆé™¤è¿™ç§æ•ˆåº”ï¼Œå¢žå¤§ç¦»ç¾¤ç‚¹åœ¨æŸå¤±å‡½æ•°ä¸­çš„æ¯”é‡ï¼Œæ–‡ä¸­ç”¨ç”¨æ¡ä»¶æ¦‚çŽ‡å…¬å¼ä»£æ›¿ä¸Šè¿° $p_{ij}$ çš„å®šä¹‰ï¼Œå³ï¼š$$\begin{cases}&amp; p_{ij}=\frac{p(x_j|x_i)+p(x_i|x_j)}{2n} \\&amp; q_{ij}=q(y_j|y_i) = \frac {\exp{(-||y_i-y_j||^2)}} {\sum_{m{\ne}n}{\exp{(-||y_m-y_n||^2)}}}\end{cases}$$ è¿™æ ·æ¯ä¸ªç‚¹ $x_i$ å¯¹æŸå¤±å‡½æ•°çš„è´¡çŒ®åº¦ $p(x_i)=\sum_jp_{ij}&gt;\frac1{2n}$ï¼Œè¿™å°±ä¿è¯äº†ç¦»ç¾¤ç‚¹çš„è´¡çŒ®ä¸ä¼šå¤ªå°‘ã€‚ KLæ•£åº¦ä½œä¸ºæŸå¤±å‡½æ•° t-SNEä»ç„¶ä½¿ç”¨KLæ•£åº¦ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œæ‰€ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæ±‚çš„æ˜¯ä¸¤ä¸ªè”åˆæ¦‚çŽ‡åˆ†å¸ƒä¹‹é—´çš„æ•£åº¦ï¼š$$C=KL(P||Q)=\sum_i\sum_jp_{ij}\log{\frac{p_{ij}}{q_{ij}}}$$ æ­¤æ—¶KLæŸå¤±å‡½æ•°æ±‚å¯¼çš„ç»“æžœæ›´åŠ ç®€æ´ï¼š$$\frac{\partial{C}}{\partial{y_i}}=4\sum_k(p_{ik}-q_{ik})(y_i-y_k)$$ SNEæ±‚å¯¼ç»“æžœä¸ºï¼š$$\frac{\partial{C}}{\partial{y_i}}=2\sum_k{(y_i-y_k)[(p_{ik}-q_{ik})+(p_{ki}-q_{ki})]}$$ è§£å†³SNEçš„æ‹¥æŒ¤é—®é¢˜ä»€ä¹ˆæ˜¯æ‹¥æŒ¤é—®é¢˜æµå½¢çš„ç›´è§‚ç†è§£manifoldçš„Wikiè§£é‡Šï¼š In mathematics, a manifold is a topological space that locally resembles Euclidean space near each point. è€Œä¸­æ–‡æ¦‚å¿µâ€œæµå½¢â€æ˜¯ç”±åŒ—å¤§å·²æ•…æ•°å­¦æ•™æŽˆæ±Ÿæ³½æ¶µå…ˆç”Ÿæå‡ºæ¥ã€‚æ±Ÿè€çš„å ‚å§å¤«æ˜¯èƒ¡é€‚ï¼Ÿâ€¦ â€¦ ä¸è¿‡â€œæµå½¢ï¼šè¿™ä¸ªè¯çœŸçš„å¾ˆè‰ºæœ¯ï¼Œæˆ‘åˆæ¬¡è§åˆ°æ—¶å°±æ„Ÿå¹å…¶å½¢è±¡è€Œä¸èƒ½è‡ªå·²ã€‚æµå½¢çš„Wikiä¸­æ–‡è§£é‡Šï¼š æ˜¯å±€éƒ¨å…·æœ‰æ¬§å‡ é‡Œå¾—ç©ºé—´æ€§è´¨çš„ç©ºé—´ï¼Œæ˜¯æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­çš„æ›²çº¿ã€æ›²é¢ç­‰æ¦‚å¿µçš„æŽ¨å¹¿ã€‚æ¬§å‡ é‡Œå¾—ç©ºé—´å°±æ˜¯æœ€ç®€å•çš„æµå½¢çš„å®žä¾‹ã€‚åœ°çƒè¡¨é¢è¿™æ ·çš„çƒé¢åˆ™æ˜¯ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¾‹å­ã€‚ä¸€èˆ¬çš„æµå½¢å¯ä»¥é€šè¿‡æŠŠè®¸å¤šå¹³ç›´çš„ç‰‡æŠ˜å¼¯å¹¶ç²˜è¿žè€Œæˆã€‚ ä¸ºä»€ä¹ˆè¯´äºŒç»´æµå½¢é¢ä¸Šçš„ç‚¹è·å®¹æ˜“å»ºæ¨¡ (model)ï¼Ÿ è¿™ä¸ªé—®é¢˜ç›´è§‚ä¸Šç†è§£æœ€æ˜¯ç®€å•ã€‚é¦–å…ˆå¯¹äºŽæ¬§å‡ é‡Œå¾—ç©ºé—´ï¼Œæˆ‘ä»¬æ™®é€šäººç±»æœ€å¤šèƒ½ç›´è§‚æ„Ÿå—åˆ°ä¸‰ç»´ã€‚æ¢ç®—æˆé»Žæ›¼ç©ºé—´ï¼Œå°±æ„å‘³ç€æˆ‘ä»¬åªèƒ½åœ¨ä¸‰ç»´ç©ºé—´ä¸­ç›´è§‚æ„Ÿä¸è¶…è¿‡äºŒç»´æµå½¢æ›²é¢çš„å­˜åœ¨ï¼ŒäºŒç»´æµå½¢æ›²é¢ä¸Šçš„è·ç¦»å°±æ˜¯æ›²é¢å†…è¿žæŽ¥å®ƒä»¬çš„æœ€çŸ­æ›²çº¿é•¿åº¦ã€‚ç»å…¸çš„äºŒç»´æµå½¢æ›²é¢å¦‚ä¸‹ï¼ˆSwiss Roll æµå½¢, Swiss Roll datasetï¼‰ï¼š ä¸ºä»€ä¹ˆå­˜åœ¨æ‹¥æŒ¤ä¸ºäº†ä¾¿äºŽå¯è§†åŒ–ï¼Œæˆ‘ä»¬ä¼šå°†é«˜ç»´æµå½¢ä¸Šçš„ç‚¹æ˜ å°„åˆ°äºŒç»´ç©ºé—´ï¼ŒåŒæ—¶æœ€å¤§ç¨‹åº¦çš„ä¿ç•™å®ƒä»¬çš„ç›¸å¯¹ä½ç½®ï¼ˆè¿™ç§æ¯ä¸ªç‚¹ç›¸å¯¹äºŽæ•´ä½“æ•°æ®ç‚¹çš„å®šä½å°±æ˜¯ä¸€ç§å…¨å±€ç‰¹å¾ï¼‰ã€‚ç„¶è€Œè¿™ç§æ˜ å°„æ˜¯å¾ˆéš¾å®Œç¾Žå®žçŽ°çš„ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œåç»´ç©ºé—´ï¼ˆæ¬§å‡ é‡Œå¾—ç©ºé—´æˆ–è€…é»Žæ›¼ç©ºé—´ï¼‰ä¸­å¯ä»¥å¾ˆå®¹æ˜“æ‰¾åˆ°11ä¸ªç›¸äº’ç­‰è·çš„ç‚¹ï¼ˆå°±å¥½æ¯”äºŒç»´ç©ºé—´ä¸­èƒ½è½»æ˜“æ‰¾åˆ°ä¸‰ä¸ªç›¸äº’ç­‰è·çš„ç‚¹ä¸€æ ·ï¼‰ï¼Œç„¶è€Œæ˜ å°„åˆ°äºŒç»´ç©ºé—´æ˜¯ä¸å¯èƒ½æ‰¾åˆ°11ä¸ªç›¸äº’ç­‰è·çš„ç‚¹çš„ï¼ŒåŠ¿å¿…ä¼šæœ‰ä¸€äº›ç‚¹ä¼šç›¸äº’é è¿‘æŒ¤åœ¨ä¸€èµ·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šä»¥äºŒç»´ç›¸äº’ç­‰è·çš„ä¸‰ä¸ªç‚¹æ˜ å°„åˆ°ä¸€ç»´ç©ºé—´ä¸ºä¾‹ï¼Œæ— è®ºæ€Žä¹ˆåŠªåŠ›ï¼Œä¸‰ç‚¹éƒ½ä¸å¯èƒ½å†ç­‰è·ã€‚å½’æ ¹æ­åº•ï¼Œä¸åŒç»´åº¦ç©ºé—´å†…çš„è·ç¦»åˆ†å¸ƒæ˜¯ä¸åŒçš„ï¼Œé™ç»´æ˜ å°„éš¾å…å°½å¦‚äººæ„ã€‚ å†ä»¥çƒå†…åŒºåŸŸä¸ºä¾‹è§£é‡ŠcrowdingçŽ°è±¡ï¼šä»¥æ•°æ®ç‚¹ $x_i$ ä¸ºä¸­å¿ƒçš„çƒçš„ä½“ç§¯ä¸Ž $r^m$ ç›´æŽ¥ç›¸å…³ï¼ˆ $r$ æ˜¯åŠå¾„ï¼Œ$m$ æ˜¯çƒæ‰€åœ¨ç©ºé—´çš„ç»´åº¦ï¼‰ã€‚å¦‚æžœåœ¨åç»´æµå½¢æ›²é¢ä¸Šæ•°æ®ç‚¹å‡åŒ€åˆ†å¸ƒåœ¨è¿™ä¸ªçƒä¸­ï¼Œæˆ‘ä»¬è¯•å›¾åœ¨äºŒç»´æµå½¢æ›²é¢ä¸Šä»¥ $y_i$ ä¸ºä¸­å¿ƒå¯¹ä¸Ž $x_i$ ç›¸å…³çš„ä¸¤ä¸¤è·ç¦»è¿›è¡Œå»ºæ¨¡ã€‚æ­¤æ—¶æˆ‘ä»¬å°±ä¼šé‡åˆ°ä¼ è¯´ä¸­çš„æ‹¥æŒ¤é—®é¢˜ï¼šä¸Žå®¹çº³ä¸­å¿ƒç‚¹é™„è¿‘æ•°æ®ç‚¹çš„åŒºåŸŸç›¸æ¯”ï¼Œå®¹çº³é€‚ä¸­è·ç¦»æ•°æ®ç‚¹çš„åŒºåŸŸæ˜¾å¾—ä¸å¤Ÿç”¨ã€‚ åœ¨å‡åŒ€åˆ†å¸ƒçš„æ¡ä»¶ä¸‹ï¼Œç­‰è·ç‚¹çš„æ•°é‡ä¸ŽåŠå¾„ç›¸å…³ï¼Œè·ç¦»è¶Šå¤§æ•°é‡è¶Šå¤šï¼Œè¿™æ„å‘³ç€æ˜ å°„åˆ°ä½Žç»´ç©ºé—´å°±ä¼šè¶Šâ€œæŒ¤â€ã€‚å› æ­¤å¦‚æžœæˆ‘ä»¬æƒ³è¦è¾ƒä¸ºå‡†ç¡®çš„åœ¨äºŒç»´æµå½¢æ›²é¢ä¸­å¯¹ä»¥ $x_i$ ä¸ºä¸­å¿ƒçš„ä¸¤ä¸¤è·ç¦»å»ºæ¨¡ï¼Œæˆ‘ä»¬å°±å¿…é¡»æŠŠè·ç¦» $x_i$ é€‚ä¸­ä½ç½®çš„é‚£äº›ç‚¹å¾€æ›´è¿œçš„åœ°æ–¹æŽ¨ç½®ï¼ˆå› ä¸ºå¤ªæŒ¤äº†ï¼‰ã€‚ ä¸åªæ˜¯SNEï¼Œå…¶å®ƒå±€éƒ¨ç‰¹å¾æå–ç®—æ³•ä¾‹å¦‚Sammon mappingç­‰ä¹Ÿéƒ½é¢ä¸´ç€æ‹¥æŒ¤éš¾é¢˜ã€‚ æ€Žä¹ˆè§£å†³æ‹¥æŒ¤é—®é¢˜ä¸€ç§å«åšUNI-SNEçš„æ”¹è‰¯ç®—æ³•[10]æå‡ºäº†ä¸€ç§è§£å†³åŠžæ³•ï¼šç»™æ¯ä¸€ä¸ªä¸¤ä¸¤ç›¸ä¼¼åº¦æ·»åŠ ä¸€ä¸ªèƒŒæ™¯å€¼ï¼ŒèƒŒæ™¯å€¼é‡‡æ ·è‡ªå‡åŒ€åˆ†å¸ƒå¹¶ä»¥ä¸€å®šçš„æ¯”ä¾‹ $\rho$ è¿›è¡Œæ··åˆã€‚ç”±äºŽæ¯ä¸ªç‚¹å¯¹ä¹‹é—´éƒ½å¼•è¿›äº†èƒŒæ™¯å€¼ï¼Œå› æ­¤ä¸ç®¡ä½Žç»´ç©ºé—´ä¸­ä¸¤ä¸ªæ˜ å°„ç‚¹ç¦»çš„å¤šä¹ˆè¿œï¼Œ$q_{ij}$ æ°¸è¿œä¸ä¼šå°äºŽ $\frac{\rho}{n(n-1)/2}$ï¼ˆnä¸ªæ•°æ®ç‚¹å¯ç»„åˆæˆ $C_n^2$ ä¸ªç‚¹å¯¹ï¼‰ã€‚ å¼•è¿›èƒŒæ™¯å€¼å¯¼è‡´å¯¹äºŽé«˜ç»´ç©ºé—´ä¸­ç›¸è·å¾ˆè¿œçš„ä¸¤ä¸ªæ•°æ®ç‚¹æ€»æœ‰$q_{ij}&gt;p_{ij}$ï¼ˆ$p_{ij}{\rightarrow}0$ æ—¶ $q_{ij}{\rightarrow}\frac{\rho}{n(n-1)/2}$ï¼‰ï¼Œè¿™è¡¨ç¤ºä½Žç»´ç©ºé—´ä¸­ç‚¹å¯¹å¹¶æ²¡æœ‰å®Œå…¨æ‹Ÿåˆé«˜ç»´ç©ºé—´çš„ç‚¹å¯¹ç›¸ä¼¼åº¦ï¼Œæ˜ å°„åŽç›¸ä¼¼åº¦å˜å°ã€‚ å°½ç®¡UNI-SNEçš„æ•ˆæžœæ¯”SNEå¥½ï¼Œä½†æ˜¯å…¶æŸå¤±å‡½æ•°å´å¾ˆéš¾ä¼˜åŒ–ã€‚ç›®å‰è¾ƒå¥½çš„ä¼˜åŒ–UNI-SNEçš„æ–¹æ³•æ˜¯ï¼šå¼€å§‹çš„æ—¶å€™å°†èƒŒæ™¯å€¼æ··åˆæ¯”ä¾‹è®¾ä¸º0ï¼Œè¿™å®žé™…ä¸Šç­‰æ•ˆäºŽè¿è¡ŒSNEï¼›å½“SNEå¼€å§‹ä½¿ç”¨æ¨¡æ‹Ÿé€€ç«ç­–ç•¥æ—¶å¢žå¤§èƒŒæ™¯å€¼çš„æ··åˆæ¯”ä¾‹ï¼Œä¿ƒè¿›è‡ªç„¶åˆ†ç±»é—´çš„gapså½¢æˆã€‚ ç›´æŽ¥ä¼˜åŒ–UNI-SNEå¹¶ä¸å¯è¡Œï¼Œå› ä¸ºä½Žç»´ç©ºé—´ä¸­ä¸¤ä¸ªç›¸è·å¾ˆè¿œçš„æ˜ å°„ç‚¹çš„ $q_{ij}$ å‡ ä¹Žå…¨éƒ¨æ¥è‡ªäºŽèƒŒæ™¯å€¼ï¼Œå³é«˜ç»´ç©ºé—´ä¸­ç›¸åº”ä¸¤ç‚¹é—´ï¼ˆå³ä½¿ä»–ä»¬çš„ $p_{ij}$ å¾ˆå¤§ï¼‰çš„è·ç¦»å¯¹ $q_{ij}$ çš„å½±å“å¾ˆå°ï¼Œè¿™ä½¿å¾—æ˜ å°„åŽçš„ä¸¤ç‚¹é—´çš„ $q_{ij}$ æ²¡æœ‰ä»€ä¹ˆå®žé™…æ„ä¹‰ã€‚è¿™è¡¨ç¤ºï¼Œå¦‚æžœä¸€ä¸ªè‡ªç„¶ç±»çš„ä¸¤éƒ¨åˆ†åœ¨ä¼˜åŒ–æ—©æœŸå°±åˆ†å¼€äº†ï¼Œå°±å†ä¹Ÿä¸ä¼šå†èšåˆåœ¨ä¸€èµ·äº†ã€‚ ä½Žç»´ç©ºé—´é‡‡ç”¨æŸ¯è¥¿åˆ†å¸ƒè¡¨è¾¾è”åˆæ¦‚çŽ‡UNI-SNEé€šè¿‡æ·»åŠ èƒŒæ™¯å€¼ä½¿ä½Žç»´ç©ºé—´ä¸­ç›¸è·ç”šè¿œçš„ $q_{ij}$ ä¸è‡³äºŽè¶‹è¿‘äºŽ0ã€‚ æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„è§£å†³åŠžæ³•ï¼Œé‡‡ç”¨ä¸Žé«˜æ–¯åˆ†å¸ƒæ€§è´¨æžå…¶ç›¸ä¼¼çš„é‡å°¾åˆ†å¸ƒè®¡ç®—è”åˆæ¦‚çŽ‡ã€‚å³é‡å°¾åˆ†å¸ƒä½¿å¾—å½“éšæœºå˜é‡å–å€¼å¾ˆå¤§æ—¶å…¶å¯¹åº”çš„æ¦‚çŽ‡å€¼é«˜æ–¯åˆ†å¸ƒè¦å¤§ï¼Œå…¸åž‹çš„é‡å°¾åˆ†å¸ƒæ˜¯tåˆ†å¸ƒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼štåˆ†å¸ƒå®žé™…ä¸Šæ˜¯ä¸åŒæ–¹å·®çš„é«˜æ–¯åˆ†å¸ƒçš„æ··åˆåˆ†å¸ƒï¼Œå®ƒçš„æ€§è´¨ä¸Žé«˜æ–¯åˆ†å¸ƒååˆ†æŽ¥è¿‘ï¼Œè€Œä¸”æ›´åŠ å®¹æ˜“è®¡ç®—ï¼šå› ä¸ºé«˜æ–¯åˆ†å¸ƒæ¶‰åŠåˆ°æŒ‡æ•°è¿ç®—ï¼Œè€Œtåˆ†å¸ƒåªéœ€è¦æ±‚å€’æ•°ã€‚ è¿™é‡Œé‡‡ç”¨çš„æ˜¯è‡ªç”±åº¦ $\nu=1$ çš„tã€åˆ†å¸ƒï¼Œåˆå«åšæŸ¯è¥¿åˆ†å¸ƒï¼Œå…¶æ¦‚çŽ‡å¯†åº¦å‡½æ•°å¦‚ä¸‹ï¼š$$f(x;x_0,\gamma)=\frac1{\pi\gamma[1+(\frac{x-x_o}{\gamma})]^2}$$ å– $x_0=0, \gamma=1$ å¾—æ ‡å‡†æŸ¯è¥¿åˆ†å¸ƒï¼š$$f(x;0,1)=\frac1{\pi[1+(x-x_0)]^2}$$ ç”¨æ ‡å‡†æŸ¯è¥¿åˆ†å¸ƒè¡¨ç¤ºè”åˆæ¦‚çŽ‡ï¼š$$q_{ij}=\frac{(1+||y_i-y_j||^2)^{-1}}{\sum_{m{\ne}n}{(1+||y_m-y_n||^2)^{-1}}}=\frac{\sum_{m{\ne}n}(1+||y_m-y_n||^2)}{1+||y_i-y_j||^2}$$ æ±‚å¯¼ç»“æžœå¦‚ä¸‹ï¼š$$\frac{\partial{C}}{\partial{y_i}}=4\sum_j{(p_{ij}-q_{ij})(y_i-y_j)(1+||y_i-y_j||^2)^{-1}}$$ Pseudo codeä¸‹é¢æ˜¯ç²¾ç®€ç‰ˆt-SNEç®—æ³•ä¼ªä»£ç ï¼Œéžå¸¸ç®€æ´ï¼š ä¼˜åŒ–æ–¹æ³•æ·»åŠ å¾®å°çš„åŠ¨é‡é¡¹å¯ä»¥å‡å°‘åˆ°è¾¾æœ€ä¼˜è§£çš„è¿­ä»£æ¬¡æ•° ç²¾ç®€ç‰ˆçš„t-SNEç®—æ³•é‡‡ç”¨é€‚åº”æ€§å­¦ä¹ çŽ‡åŠ é€Ÿè®­ç»ƒï¼šåœ¨æ¢¯åº¦è¾ƒç¨³å®šçš„æ–¹å‘ä¸Šå¢žå¤§å­¦ä¹ çŽ‡ã€‚[11] å°½ç®¡ç²¾ç®€ç‰ˆç®—æ³•å·²ç»å¯ä»¥åŠæ‰“å…¶å®ƒéžå‚æ•°é™ç»´æŠ€æœ¯äº†ï¼Œè¿˜æ˜¯å¯ä»¥ç»§ç»­ä¼˜åŒ–ï¼Œæ–‡ä¸­æå‡ºäº†ä¸¤ä¸ªæŠ€å·§ï¼š 1. early compressionï¼šä¼˜åŒ–èµ·å§‹çš„æ—¶å€™å°†æ‰€æœ‰çš„æ˜ å°„ç‚¹åˆå§‹åŒ–åœ¨åŽŸç‚¹é™„è¿‘ï¼Œæœ‰åˆ©äºŽæ˜ å°„ç‚¹ç§»åŠ¨ã€å½¢æˆè‡ªç„¶ç±»ã€‚early compressioné€šè¿‡ç»™æŸå¤±å‡½æ•°åŠ ä¸Šä¸€ä¸ªL2æƒ©ç½šé¡¹å®žçŽ°ã€‚2. early exaggerationï¼šåœ¨ä¼˜åŒ–çš„åˆå§‹é˜¶æ®µå°†æ‰€æœ‰çš„ $p_{ij}$ æ‰©å¤§æŒ‡å®šå€æ•°åŠ å¿«æ”¶æ•›é€Ÿåº¦ã€‚ æ€»ç»“ä¸€ä¸‹æ¨¡åž‹ä¼˜åŒ–çš„å‚æ•°é…ç½®ï¼š èµ·å§‹çš„50æ¬¡è¿­ä»£ä¸­å°†æ‰€æœ‰çš„ $p_{ij}$ ä¹˜ä»¥4ï¼ˆè¿™ä¸ªæ­¥éª¤åœ¨ç²¾ç®€ç‰ˆç®—æ³•çš„ä¼ªä»£ç ä¸­æ²¡æœ‰å†™å‡ºæ¥ï¼‰ï¼› æ¢¯åº¦ä¸‹é™çš„è¿­ä»£è½®æ•°Tè®¾ä¸º1000ï¼› åŠ¨é‡é¡¹ $\alpha^{(t)}$ å½“ $t&lt;250$ æ—¶è®¾ä¸º0.5ï¼Œå½“ $t{\ge}250$ æ—¶è®¾ä¸º0.8ï¼› å­¦ä¹ çŽ‡åˆå§‹å€¼è®¾ä¸º100ï¼Œæ¯æ¬¡è¿­ä»£éƒ½å°†è¿›è¡Œé€‚åº”æ€§æ›´æ–° [11]ã€‚ ç®—æ³•çš„Matlabå®žçŽ° ä¸è¶³ä½œè€…åˆ†æžäº†ä¸‰ä¸ªä¸è¶³ä¹‹å¤„ã€‚ 1. ä¸èƒ½ç”¨äºŽä½Žç»´ç©ºé—´è¶…è¿‡ä¸‰ç»´çš„æƒ…å†µ å› ä¸ºt-SNEç®—æ³•åœ¨æ˜ å°„ç©ºé—´åˆ©ç”¨äº†æŸ¯è¥¿åˆ†å¸ƒçš„é‡å°¾ç‰¹æ€§è§£å†³æ‹¥æŒ¤é—®é¢˜ï¼ŒæŸ¯è¥¿åˆ†å¸ƒæ˜¯è‡ªç”±åº¦ä¸º1çš„tåˆ†å¸ƒï¼Œè¿™ç§ç‰¹æ€§åœ¨äºŒç»´ç©ºé—´ä¸­è¡¨çŽ°ååˆ†ä¼˜å¼‚ã€‚ä½†å¦‚æžœéœ€è¦é™åˆ°ä¸‰ç»´ä»¥ä¸Šçš„æ˜ å°„ç©ºé—´ï¼Œ1è‡ªç”±åº¦çš„tåˆ†å¸ƒä¸èƒ½å¾ˆå¥½çš„ä¿ç•™å±€éƒ¨ç‰¹å¾ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä½¿ç”¨æ›´å¤šè‡ªç”±åº¦çš„tåˆ†å¸ƒã€‚ 2. æœ¬å¾ç»´åº¦è¯…å’’ t-SNEè™½ç„¶èƒ½å¤Ÿä¿ç•™å…¨å±€ç‰¹å¾ï¼Œä½†æ˜¯æ€»ä½“ä¸Šè¿˜æ˜¯åŸºäºŽå±€éƒ¨ç‰¹å¾è¿›è¡Œçš„é™ç»´ï¼Œè¿™è¡¨ç¤ºt-SNEå¯¹åŽŸå§‹æ•°æ®çš„ æœ¬å¾ç»´åº¦ (intrinsic dimentionality) ååˆ†æ•æ„Ÿï¼Œå› ä¸ºæœ¬å¾ç»´åº¦è¿‡é«˜ï¼Œæˆ‘ä»¬å°±ä¸èƒ½å†æŠŠæµå½¢æ›²é¢çš„å±€éƒ¨åŒºåŸŸå½“æ¬§å‡ é‡Œå¾—ç©ºé—´å¤„ç†äº†ï¼Œæ•°æ®ç‚¹é—´çš„å±€éƒ¨ç‰¹å¾æ›´åŠ å¤æ‚ [12]ã€‚ä¸ä»…t-SNEï¼Œå…¶å®ƒä¸»æµçš„åŸºäºŽå±€éƒ¨ç‰¹å¾æå–çš„é™ç»´ç®—æ³•ï¼ˆå¦‚Isomapï¼ŒLLeï¼‰éƒ½é¢ä¸´ç€è¿™ä¸ªè¯…å’’ã€‚ ä½œè€…æå‡ºäº†ä¸€ç§å¯è¡Œçš„åŠžæ³•ï¼šå…ˆç”¨ è‡ªç¼–ç å™¨ (autoencoder)[13] å¯¹æ•°æ®è¿›è¡ŒåŽ‹ç¼©ï¼Œè¿™ç±»æ¨¡åž‹å¯ä»¥å¤§å¤§é™ä½ŽåŽŸå§‹æ•°æ®çš„ç»´åº¦ï¼ŒåŒæ—¶æœ€å¤§ä¿ç•™é«˜ç»´æ•°æ®çš„ç‰¹å¾ã€‚ç»è¿‡ç¼–ç çš„æ•°æ®å†è¿›è¡Œt-SNEé™ç»´ã€‚ 3. æŸå¤±å‡½æ•°ä¸å‡¸~ ä¸å¹¸çš„æ˜¯å½“å‰ä¸»æµé™ç»´ç®—æ³•ä½¿ç”¨çš„æŸå¤±å‡½æ•°éƒ½æ˜¯å‡¸å‡½æ•°ï¼Œè€Œt-SNEä¼˜åŒ–çš„è¶…å‚æ›´å¤šï¼Œè¿™ä½¿å¾—å…¶æŸå¤±å‡½æ•°æ˜¯éžå‡¸çš„ã€‚è¿™æ„å‘³ç€ï¼Œä¸åŒçš„è¶…å‚å–å€¼ã€ä¸åŒçš„åˆå§‹åŒ–éƒ½å¯èƒ½æ”¶æ•›åˆ°ä¸åŒçš„ï¼ˆå±€éƒ¨æœ€ä¼˜ï¼‰è§£ã€‚ä½†æ˜¯ä½œè€…è¡¨ç¤ºï¼Œå¦‚æžœå›ºå®šè¿™äº›è¶…å‚ï¼Œt-SNEå°±å¯ä»¥åº”ç”¨äºŽä¸åŒçš„å¯è§†åŒ–ä»»åŠ¡ï¼Œä¼˜åŒ–ç»“æžœä¸ä¼šéšç€ä¸åŒæ‰¹æ¬¡è€Œå‘ç”Ÿå˜åŒ–ã€‚ t-SNEé™ç»´ç»“æžœä¸­ç‚¹é—´çš„è·ç¦»æ˜¯æ²¡æœ‰å®žé™…æ„ä¹‰çš„ã€‚åŽŸå§‹çš„t-SNEè®­ç»ƒå¾ˆæ…¢ï¼ŒåŽé¢æœ‰è®¸å¤šæ”¹è¿›ï¼Œæ¯”å¦‚ multiple maps of t-SNE parametric t-SNE â€¦ â€¦ å¼•ç”¨[1] Maaten, L. V. D., &amp; Hinton, G. (2008). Visualizing data using t-SNE. Journal of machine learning research, 9(Nov), 2579-2605.[2] M.C. Ferreira de Oliveira and H. Levkowitz. From visual data exploration to visual data mining: A survey. IEEE Transactions on Visualization and Computer Graphics, 9(3):378â€“394, 2003.[3] J.W. Sammon. A nonlinear mapping for data structure analysis. IEEE Transactions on Computers, 18(5):401â€“409, 1969.[4] P. Demartines and J. Herault. Â´ Curvilinear component analysis: A self-organizing neural network for nonlinear mapping of data sets. IEEE Transactions on Neural Networks, 8(1):148â€“154, 1997[5] G.E. Hinton and S.T. Roweis. Stochastic Neighbor Embedding. In Advances in Neural Information Processing Systems, volume 15, pages 833â€“840, Cambridge, MA, USA, 2002. The MIT Press.[6] J.B. Tenenbaum, V. de Silva, and J.C. Langford. A global geometric framework for nonlinear dimensionality reduction. Science, 290(5500):2319â€“2323, 2000.[7] K.Q. Weinberger, F. Sha, and L.K. Saul. Learning a kernel matrix for nonlinear dimensionality reduction. In Proceedings of the 21st International Confernence on Machine Learning, 2004.[8] S.T. Roweis and L.K. Saul. Nonlinear dimensionality reduction by Locally Linear Embedding. Science, 290(5500):2323â€“2326, 2000.[9] M. Belkin and P. Niyogi. Laplacian Eigenmaps and spectral techniques for embedding and clustering. In Advances in Neural Information Processing Systems, volume 14, pages 585â€“591, Cambridge, MA, USA, 2002. The MIT Press.[10] J.A. Cook, I. Sutskever, A. Mnih, and G.E. Hinton. Visualizing similarity data with a mixture of maps. In Proceedings of the 11th International Conference on Artificial Intelligence and Statistics, volume 2, pages 67â€“74, 2007.[11] R.A. Jacobs. Increased rates of convergence through learning rate adaptation. Neural Networks, 1: 295â€“307, 1988.[12] Y. Bengio. Learning deep architectures for AI. Technical Report 1312, UniversiteÂ´ de Montreal, Â´ 2007.[13] G.E. Hinton and R.R. Salakhutdinov. Reducing the dimensionality of data with neural networks. Science, 313(5786):504â€“507, 2006.]]></content>
      <categories>
        <category>ml</category>
      </categories>
      <tags>
        <tag>paper</tag>
        <tag>é™ç»´</tag>
        <tag>t-SNE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é™ç»´03 - SNEåŽŸç†]]></title>
    <url>%2Fml%2F20190325-80ae.html</url>
    <content type="text"><![CDATA[Hinton, G. E., &amp; Roweis, S. T. (2003). Stochastic neighbor embedding. In Advances in neural information processing systems (pp. 857-864). éšæœºè¿‘é‚»åµŒå…¥ç®—æ³• (Stochastic Neighbor Embedding, SNE) ç”±Hintonåœ¨2003å¹´æå‡ºæ¥çš„åŸºäºŽæ¡ä»¶æ¦‚çŽ‡ã€åªä¿ç•™å±€éƒ¨ç‰¹å¾çš„éžçº¿æ€§é™ç»´æ–¹æ³•ã€‚ æµå½¢å…ˆçœ‹ä¸€å¼ å›¾ ä¸Šå›¾æè¿°äº†ä¸€ä¸ªæ›²é¢ï¼Œé¢œè‰²ç›¸åŒçš„ç‚¹èšä¸ºä¸€ç±»ã€‚ æ›²é¢ä¸Šæœ‰ä¸‰ä¸ªç‚¹$A$, $B$, $C$ï¼Œæˆ‘ä»¬å°†è¯¥æ›²é¢ç½®äºŽä¸‰ç»´ç©ºé—´ä¸­ï¼Œæ›²é¢ä¸Šæ¯ä¸ªç‚¹éƒ½å¯ä»¥ç”¨ä¸€ä¸ªä¸‰ç»´åæ ‡$(x,y,z)$è¡¨ç¤ºã€‚ è€ƒè™‘ä¸‰ç»´ç©ºé—´ä¸­çš„æ¬§å¼è·ç¦»ï¼Œæœ‰$\overline{AC}&lt;\overline{AB}$ï¼Œè¿™è¡¨ç¤ºç›¸å¯¹äºŽ$B$ç‚¹è€Œè¨€ï¼Œ$C$ç‚¹ç¦»$A$ç‚¹æ›´è¿‘ã€‚ ä½†æ˜¯å¾ˆæ˜Žæ˜¾$A$ç‚¹æ›´å€¾å‘äºŽä¸Ž$B$ç‚¹èšä¸ºä¸€ç±»ã€‚ æˆ‘ä»¬ç”¨æ›²é¢ä¸Šä¸¤ç‚¹é—´æœ€çŸ­çº¿æ®µçš„é•¿åº¦æ¥è¡¨ç¤ºä¸¤ç‚¹é—´çš„è·ç¦»ï¼Œå¦‚å›¾$\widehat{AB}$å’Œ$\widehat{AC}$ï¼Œæœ‰$\widehat{AB} &lt; \widehat{AC}$ï¼Œè¿™è¡¨ç¤ºåœ¨æ›²é¢ç©ºé—´ä¸Š$B$ç‚¹ç¦»$A$ç‚¹æ›´è¿‘ã€‚ æˆ‘ä»¬åœ¨ä¸‰ç»´ç©ºé—´ä¸­åŽ»æè¿°è¿™ä¸ªæ›²é¢çš„ç‰¹å¾ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ æ¬§å¼ç©ºé—´ï¼ˆæ¬§å‡ é‡Œå¾—ç©ºé—´ï¼‰ï¼› æˆ‘ä»¬ç›´æŽ¥åœ¨æ›²é¢ä¸ŠåŽ»æè¿°ç‚¹ä¸Žç‚¹çš„è¿œè¿‘ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ é»Žæ›¼ç©ºé—´ï¼ˆæµè¡Œç©ºé—´ï¼‰ã€‚ æµè¡Œå­¦ä¹  çš„è§‚ç‚¹è®¤ä¸ºï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„æ•°æ®å®žé™…ä¸Šæ˜¯ ä½Žç»´æµå½¢ æ˜ å°„åˆ° é«˜ç»´ç©ºé—´ ä¸­çš„å½¢å¼ï¼Œå› ä¸ºç»´åº¦é—´çš„å†—ä½™ï¼Œé«˜ç»´æ•°æ®éƒ½èƒ½ç”¨è¾ƒä½Žçš„ç»´åº¦åŽ»æè¿°ã€‚ æµå½¢å­¦ä¹ çš„åŸºæœ¬æ€æƒ³ å®šä¹‰æ¡ä»¶æ¦‚çŽ‡å³ä½¿æ˜¯ä¸èƒ½ç›´è§‚æ„Ÿå—çš„é«˜ç»´ç©ºé—´ä¸­ï¼Œå¦‚æžœä¸¤ä¸ªç‚¹æ— é™é è¿‘ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ æ¬§å¼è·ç¦» ä¹Ÿè¶‹è¿‘äºŽ0ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ æ¬§å¼è·ç¦» æ¥æè¿°é«˜ç»´ç©ºé—´ä¸­ä¸¤ä¸ªç‚¹çš„ç›¸ä¼¼æ€§ã€‚ å¯¹äºŽ $R^n$ ç©ºé—´ä¸­æŸä¸ªç‚¹ $x_i$, æˆ‘ä»¬åŸºäºŽ æ¬§å¼è·ç¦» å®šä¹‰ä»»æ„ç‚¹ $x_j \in R^n$ ä¸Ž $x_i$ çš„ ç›¸ä¼¼åº¦ï¼š$$d^2(x_i,x_j)=\frac{||x_i-x_j||^2}{2\sigma_i^2}$$ä¸Šå¼ä¸­ $\sigma_i^2$ æ˜¯æ ·æœ¬ç©ºé—´ä¸­é™¤ $x_i$ å¤–å…¶å®ƒæ‰€æœ‰ç‚¹åˆ° $x_i$ è·ç¦»çš„ æ–¹å·®ã€‚ $d^2(x_i,x_j)$ æ˜¯ æ ‡å‡†åŒ– åŽçš„ç»“æžœï¼Œå®ƒè¡¨ç¤ºäº†ç‚¹ $x_i$ ä¸Žç‚¹ $x_j$ çš„ç›¸ä¼¼ç¨‹åº¦ã€‚ SNEå°† $d^2(x_i,x_j)$ è½¬åŒ–ä¸º æ¡ä»¶æ¦‚çŽ‡ æ¥æè¿°ç‚¹ $x_i$ é€‰æ‹©ç‚¹ $x_j$ ä½œä¸ºé‚»å±…çš„æ¦‚çŽ‡ï¼Œè®°ä¸º $p(x_j|x_i)$ï¼š$$P_{ij}=p(x_j|x_i)=\frac{\exp(-d_{ij}^2)}{\sum_{k{\ne}i}{\exp(-d_{ik}^2)}},\ j \ne i$$ å½“ $j \ne i$ æ—¶ï¼Œ$p (x_j|x_i)$ å³ç‚¹ $x_i$ é€‰æ‹©ç‚¹ $x_j$ ä½œä¸ºé‚»å±…çš„æ¦‚çŽ‡ï¼Œä»‹äºŽ $0 \sim 1$ ä¹‹é—´ï¼› å½“ $j=i$ æ—¶ï¼Œç‚¹ $x_i$ æ°¸è¿œä¸å¯èƒ½æˆä¸ºè‡ªå·±çš„é‚»å±…ï¼Œ $p(x_i|x_i)=0$ã€‚ SNEç”¨ æ¡ä»¶æ¦‚çŽ‡ æ¥ä»£æ›¿æ¬§å¼è·ç¦»åº¦é‡ä¸¤ä¸ªé«˜ç»´æ•°æ®ç‚¹é—´çš„ç›¸ä¼¼æ€§ã€‚ ç¡®å®šæ–¹å·®ç›¸ä¼¼åº¦ä¸­ç”¨æ¥æ ‡å‡†åŒ–çš„ $\sigma_i^2$ æ˜¯æ ·æœ¬ç©ºé—´ä¸­é™¤ $x_i$ å¤–å…¶å®ƒæ‰€æœ‰ç‚¹åˆ° $x_i$ è·ç¦»çš„ æ–¹å·®ã€‚ å¦‚æžœ $x_i$ å‘¨å›´çš„æ ·æœ¬ç‚¹æ¯”è¾ƒå¯†é›†ï¼Œæ–¹å·®è¾ƒå°ï¼›$x_i$ å‘¨å›´æ ·æœ¬ç‚¹æ¯”è¾ƒç¨€ç–ï¼Œæ–¹å·®è¾ƒå¤§ã€‚ è·ç¦» $x_i$ éžå¸¸è¿œçš„ç‚¹ï¼Œç›¸å¯¹äºŽæ•´ä¸ªæ ·æœ¬æ€»ä½“ï¼Œ$x_i$ é€‰æ‹©å®ƒä½œä¸ºè‡ªå·±é‚»å±…çš„æ¦‚çŽ‡éžå¸¸å°ã€‚ æˆ‘ä»¬è€ƒè™‘æ ·æœ¬ç‚¹ $x_i$ ä¸Žå“ªäº›æ ·æœ¬ç‚¹ç›¸ä¼¼æ€§æ¯”è¾ƒé«˜ï¼Œå³ $x_i$ é€‰æ‹©å“ªäº›æ ·æœ¬ç‚¹ä½œä¸ºé‚»å±…çš„æ¦‚çŽ‡è¾ƒé«˜ï¼Œæˆ‘ä»¬å°†ä¸Ž $x_i$ æ›´å¯èƒ½æˆä¸ºé‚»å±…çš„æ ·æœ¬ç‚¹ç§°ä¸º æœ‰æ•ˆé‚»å±…ã€‚æœ‰æ•ˆé‚»å±…å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå®šæ€§æ¦‚å¿µï¼Œæˆ‘ä»¬å¹¶ä¸æ¸…æ¥š $x_i$ çš„æœ‰æ•ˆé‚»å±…æœ‰å¤šå°‘ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è§„å®šä¸€ä¸ªæœ‰æ•ˆé‚»å±…æ•°ã€‚åŽŸæ–‡ä¸­å®šä¹‰äº†ä¸€ä¸ªåå« å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰çš„ä¸œè¥¿ï¼Œ $x_i$ çš„å›°æƒ‘åº¦å®šä¹‰ä¸º$$K_i = 2^{H(P_i)}$$å…¶ä¸­ $H(P_i)$ æ˜¯é¦™å†œç†µï¼š$$H(P_i) = -\sum_{j{\ne}i}{p_{ij}\log_2{p_{ij}}}=\log_2 K_i$$ æ­¤å¤–ï¼Œå¯¹äºŽé‚£äº›éžå¸¸é¥è¿œå¾—ç‚¹ï¼Œä¸­å¿ƒç‚¹ $x$ ä¸Žå®ƒä»¬å¾—è·ç¦»éžå¸¸å¤§ï¼Œ$x$ é€‰æ‹©å®ƒä»¬ä½œä¸ºé‚»å±…å¾—æ¦‚çŽ‡ä¹Ÿéžå¸¸å°ï¼Œåœ¨ç©ºé—´ç»´åº¦å¾ˆå¤§ã€é‡‡æ ·ç‚¹å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œå¿½ç•¥å®ƒä»¬ä¸å¤±ä¸ºä¸€ç§åŠ å¿«è®¡ç®—çš„æœ‰æ•ˆåŠžæ³•ã€‚ è¿™é‡Œä¸ºæ¯ä¸ªç‚¹ $x_i$ å®šä¹‰äº†ä¸€ä¸ª å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰$K_i$ï¼Œå®ƒä¸Žä»¥ $x_i$ ä¸ºä¸­å¿ƒã€ä»¥ $\sigma_i^2$ ä¸ºæ–¹å·®çš„é«˜æ–¯åˆ†å¸ƒçš„ï¼ˆç»éªŒï¼‰ç†µæœ‰å…³ï¼š$$K_i = 2^{H(P_i)}$$å…¶ä¸­ $H(P_i)$ æ˜¯é¦™å†œç†µï¼š$$H(P_i) = -\sum_{j{\ne}i}{p_{ij}\log_2{p_{ij}}}=\log_2 K_i$$ç»“åˆä¸Šè¿°å¼å­å³å¯æ±‚å‡ºæ–¹å·® $\sigma_i^2$ï¼šæ–¹å·®è¶Šå¤§ï¼Œåˆ™ä»¥ç‚¹ $x_i$ ä¸ºä¸­å¿ƒçš„â€œå¯†é›†åŒºåŸŸâ€ï¼ˆæ€»ä½“ï¼‰è¶Šå¤§ï¼Œè¢«é€‰ä¸­çš„æœ‰æ•ˆé‚»å±…æ•°å°±è¶Šå¤šï¼Œç›¸åº”çš„è¯¥åˆ†å¸ƒçš„ç†µä¹Ÿè¶Šå¤§ï¼Œå›°æƒ‘åº¦è¶Šå¤§ã€‚è¿™æ„å‘³ç€ï¼Œå›°æƒ‘åº¦$K_i$å¯ä»¥ç”¨æ¥æè¿°ç‚¹$x_i$é€‰æ‹©çš„æœ‰æ•ˆé‚»å±…æ•°ç›®ã€‚æˆ‘ä»¬é€šè¿‡è®¾ç½®è¶…å‚$K= K_i$æ¥æ±‚æ–¹å·®ï¼Œä»Žè€Œæ ‡å‡†åŒ–æ¯ä¸ªåˆ†å¸ƒã€‚å›°æƒ‘åº¦çš„å–å€¼èŒƒå›´ä¸€èˆ¬ä¸º $5 \sim 50$ã€‚ ç†µ $H(P_i)$ çš„ç†è§£ ä¸ç¡®å®šæ€§ï¼šç†µæœ¬èº«å°±æ„å‘³ç€ä¸ç¡®å®šæ€§ï¼Œå½“åŒºåŸŸç‚¹å¯†é›†æ—¶ï¼Œä¸­å¿ƒç‚¹ä½ç½®çš„ä¸ç¡®å®šæ€§å°±å°ï¼› èƒ½é‡ï¼šä¸ç¡®å®šæ€§å¤§æ„å‘³ç€èƒ½é‡å¤§ï¼Œæ‹‰ä¸ä½ä¸­å¿ƒç‚¹ï¼Œå®ƒè¦åˆ°å¤„è·‘ï¼› æœ‰æ•ˆé‚»å±…æ•°ï¼šç‚¹å¯†é›†æ—¶ä¸­å¿ƒç‚¹çš„æœ‰æ•ˆé‚»å±…å°±å¤šã€‚ æ˜ å°„åˆ°ä½Žç»´ç©ºé—´åœ¨ä½Žç»´ç©ºé—´ï¼ˆäºŒç»´æˆ–è€…ä¸‰ç»´ï¼‰ç¡®å®šä¸€ç‚¹ $y_i$ï¼Œå®ƒä¸Žé«˜ç»´ç©ºé—´çš„ç‚¹ $x_i$ å¯¹åº”ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®ç‚¹ $y_i$ çš„æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒï¼Œå³å›ºå®šä»¥ $y_i$ ä¸ºä¸­å¿ƒç‚¹çš„é«˜æ–¯åˆ†å¸ƒå¯¹åº”çš„æ–¹å·®ä¸º $\frac12$ï¼Œå½“ $j{\ne}i$ æ—¶ï¼š$$ q_{ij}=q(y_j|y_i) = \frac {\exp{(-||y_i-y_j||^2)}} {\sum_{k{\ne}i}{\exp{(-||y_i-y_k||^2)}}} $$å½“j=iæ—¶ $q(y_j|y_i)=0$ ã€‚ æ­¤æ—¶ï¼Œå¦‚æžœä½Žç»´ç‚¹ $y_i$ èƒ½å¤Ÿæ­£ç¡®è¡¨ç¤ºé«˜ç»´ç‚¹ $x_i$ï¼Œæ„å‘³ç€ $q(y_j|y_i)=p(x_j|x_i)$ã€‚ä¸ºäº†ä½¿ä¸¤ä¸ªæ¦‚çŽ‡ï¼ˆè¿‘ä¼¼ï¼‰ç›¸ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥æœ€å°åŒ–KLæ•£åº¦ã€‚æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š$$C=\sum_iKL(P_i|Q_i)=\sum_i\sum_jp_{ij}\log\frac{p_{ij}}{q_{ij}}$$ $P_i$ è¡¨ç¤ºï¼šç»™å®šç‚¹ $x_i$ï¼Œå…¶å®ƒæ‰€æœ‰ç‚¹çš„æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒï¼› $Q_i$ è¡¨ç¤ºï¼šç»™å®šä½Žç»´ç©ºé—´æ˜ å°„ç‚¹ $y_i$ï¼Œå…¶å®ƒæ‰€æœ‰ä½Žç»´æ˜ å°„ç‚¹çš„æ¡ä»¶æ¦‚çŽ‡åˆ†å¸ƒã€‚ KLæ•£åº¦åˆå«ç›¸å¯¹ç†µï¼Œç”¨æ¥åº¦é‡ä¸¤ä¸ªåˆ†å¸ƒé—´çš„è·ç¦»ã€‚å‡è®¾Pæ˜¯çœŸå®žåˆ†å¸ƒï¼ŒQæ˜¯æ¨¡åž‹åˆ†å¸ƒï¼Œ$KL(P|Q)$ è¡¨ç¤ºç”¨Qè¡¨ç¤ºPåˆ†å¸ƒçš„æ•°æ®æ‰€éœ€çš„é¢å¤–ä¿¡æ¯ã€‚ KLæ•£åº¦æ˜¯ä¸å¯¹ç§°çš„ KLæ•£åº¦ä¸­åŒ…å« $\log\frac{p_{ij}}{q_{ij}}$ æ„å‘³ç€è¿™ä¸ªæ˜ å°„ä¸æ˜¯å¯¹ç§°çš„ï¼Œå³ï¼š ä½¿ç”¨è·ç¦»è¾ƒå°çš„ä½Žç»´ç‚¹è¡¨ç¤ºè·ç¦»è¾ƒå¤§çš„é«˜ç»´ç‚¹æ—¶ï¼Œ$\log\frac{p_{ij}}{q_{ij}}$ å€¾å‘äºŽå°äºŽ0ï¼Œåˆ™æŸå¤±Cè¾ƒå°ï¼› ä½¿ç”¨è·ç¦»è¾ƒå¤§çš„ä½Žç»´ç‚¹è¡¨ç¤ºè·ç¦»è¾ƒå°çš„é«˜ç»´ç‚¹æ—¶ï¼Œ$\log\frac{p_{ij}}{q_{ij}}$ å€¾å‘äºŽå¤§äºŽ0ï¼Œåˆ™æŸå¤±Cè¾ƒå¤§ã€‚ è¿™é‡Œå°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå½“ä¸¤ä¸ªé«˜ç»´ç‚¹è·ç¦»å¾ˆè¿œï¼Œè€Œæˆ‘æž„é€ ä¸¤ä¸ªè·ç¦»å¾ˆè¿‘çš„ä½Žç»´ç‚¹èƒ½å¤Ÿä½¿æŸå¤±å‡½æ•°æ›´å°ï¼Œå´ä¸Žå®žé™…çš„ç›®çš„ä¸ç›¸ç¬¦ï¼æ‰€ä»¥ï¼ŒSNEç®—æ³•ä½¿å¾—é«˜ç»´ç©ºé—´ä¸­è·ç¦»è¿‘çš„ç‚¹åœ¨ä½Žç»´ç©ºé—´ä¸­è·ç¦»ä»ç„¶å¾ˆè¿‘ï¼Œä½†æ˜¯è¿œçš„ç‚¹å°±å˜¿å˜¿å˜¿äº†ã€‚ æœ€å°åŒ–æŸå¤±å‡½æ•°ä»Ž $q_{ij}$ çš„å®šä¹‰å¼çš„åˆ†æ¯éƒ¨åˆ†å¯çŸ¥ï¼Œä½Žç»´ç©ºé—´ä¸­ç‚¹ $y_i$ é€‰æ‹©ç‚¹ $y_j$ çš„æ¦‚çŽ‡ $q_{ij}$ ä¸Žä½Žç»´ç©ºé—´ä¸­çš„æ¯ä¸€ä¸ªæ˜ å°„ç‚¹éƒ½æœ‰å…³ç³»ï¼ˆåˆ†æ¯èµ·åˆ°äº†normalizationçš„ä½œç”¨ï¼‰ï¼Œä½†æ˜¯æ±‚å¯¼ç»“æžœå´ååˆ†ç®€æ´ï¼š$$\frac{\partial{C}}{\partial{y_i}}=2\sum_k{(y_i-y_k)[(p_{ik}-q_{ik})+(p_{ki}-q_{ki})]}$$ æƒ³æ²¿ç€æ‰€æœ‰ç‚¹ä»¥æœ€é™¡æ¢¯åº¦ä¸‹é™æ˜¯ä¸çŽ°å®žçš„ï¼Œä¸ä»…ä½Žæ•ˆï¼Œè¿˜å¯èƒ½é™·å…¥ç³Ÿç³•è´¹è§£çš„å±€éƒ¨æœ€ä¼˜ã€‚ä¸Šé¢çš„æ¢¯åº¦å…¬å¼å³è¾¹ç†è®ºä¸Šæ˜¯é’ˆå¯¹æ‰€æœ‰ä½Žç»´æ˜ å°„ç‚¹è¿›è¡Œè¿­ä»£ï¼Œä½†æ˜¯å®žé™…ä¸Šï¼Œç›¸è·è¾ƒè¿œçš„ä¸€å †ç‚¹é—´çš„å½±å“ååˆ†å°ï¼ˆæŠ½è±¡ï¼‰ï¼Œåœ¨è®¡ç®—æ—¶å¾€å¾€å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šä»…ä»…è®¡ç®—ä¸Žä¸­å¿ƒç‚¹ç›¸è·è¾ƒè¿‘çš„ä¸€éƒ¨åˆ†ç‚¹ï¼Œå³é‚»å±… ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç®—æ³•ä¸­å«æœ‰å•è¯neighbourçš„åŽŸå› äº†å§ã€‚ é€‰æ‹©ä¸­å¿ƒç‚¹çš„éƒ¨åˆ†è¾ƒè¿‘çš„é‚»å±…å‚ä¸Žè®¡ç®—è¡¨ç¤ºï¼Œæˆ‘ä»¬åªä¿ç•™äº†ä¸­å¿ƒç‚¹é™„è¿‘åŒºåŸŸçš„ç‰¹æ€§ï¼Œè€Œå¿½ç•¥äº†æ•´ä½“å±€åŠ¿ï¼Œæ‰€ä»¥è¯´SNEæ˜¯ä¿ç•™å±€éƒ¨ç‰¹å¾è€Œéžå…¨å±€ç‰¹å¾çš„ç®—æ³•ã€‚è¿™ä¸ªå±€éƒ¨ç‰¹æ€§ä¸»è¦ååº”ä¸º $\sigma_i^2$ï¼šå±€éƒ¨ç‚¹å¯†é›†æ–¹å·®å°ï¼Œå±€éƒ¨ç‚¹ç¨€ç–æ–¹æ³•å¤§ã€‚æ–¹å·®ç¡®å®šçš„æ–¹æ³•å‰é¢å·²ç»é™ˆè¿°äº†~ã€‚ å¸¦åŠ¨é‡é¡¹çš„æ¢¯åº¦æ›´æ–°ä¸ºäº†åŠ é€Ÿä¼˜åŒ–è¿‡ç¨‹ã€é¿å…å¾ˆä¸€èˆ¬çš„å±€éƒ¨è§£ï¼Œå¯ä»¥åœ¨æ¯æ¬¡ä¸‹é™æ—¶æ·»åŠ åŠ¨é‡é¡¹ã€‚åŠ¨é‡ (momentum) çš„ä½œç”¨å°±æ˜¯åœ¨ä¸‹é™åˆ°å±€éƒ¨æœ€ä¼˜æ—¶ï¼Œå°çƒä»ç„¶å…·æœ‰æ²¿åˆ‡çº¿æ–¹å‘çš„åˆ†é‡ï¼Œè¿™ä½¿å¾—å°çƒå°†ç»§ç»­æœå‰è¿åŠ¨ï¼Œè¿™ä¼šæœ‰ä¸¤ç§ç»“æžœï¼š å°çƒè¶Šè¿‡éšœç¢ï¼Œç»§ç»­å‰è¡Œï¼› å°çƒå›žé€€ï¼Œè¿”å›žå±€éƒ¨æœ€ä¼˜è§£ï¼›å…·ä½“çš„ï¼Œæ›´æ–°å…¬å¼å¦‚ä¸‹ï¼š$$\gamma^{(t)}=\gamma^{(t-1)}-{\eta}\frac{\partial{C}}{\partial{\gamma}}+\alpha(t)(\gamma^{(t-1)}-\gamma^{(t-2)})$$ å¼ä¸­ $\alpha(t)$ å³åŠ¨é‡ï¼ŒåŠ¨é‡é¡¹ ($\alpha(t)(\gamma^{(t-1)}-\gamma^{(t-2)})$) è¿˜ä¸Žä¸Šä¸€æ¬¡è¿åŠ¨å¹…åº¦æœ‰å…³ï¼Œç›´è§‚çš„çœ‹ï¼Œä¸Šä¸€æ¬¡è¿åŠ¨è¶Šå‰§çƒˆï¼Œä¸‹ä¸€æ¬¡å°±è¶Šåˆ¹ä¸ä½è½¦ã€‚ éšæœºæŠ–åŠ¨éšæœºæŠ–åŠ¨ (random jitter) æ˜¯ä¸€ç§åˆå§‹åŒ–æŠ€å·§ï¼Œå³å°†ä½Žç»´ç©ºé—´ä¸­çš„æ‰€æœ‰æ•°æ®ç‚¹åˆå§‹åŒ–åœ¨ç¦»åæ ‡åŽŸç‚¹æžè¿‘çš„åœ°æ–¹ã€‚åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬å°†æŠ–æŠ–æŠ–æŠ–æŠ–åŠ¨ç›´è‡³æ”¶æ•›ã€‚å°½ç®¡è¿˜æ˜¯å¾ˆæ…¢ï¼Œä¸è¿‡åœ¨èŠ‚çº¦æ—¶é—´å’Œé€‰æ‹©æ›´ä¼˜å±€éƒ¨è§£æ—¶è¿˜æ˜¯æœ‰æ˜Žæ˜¾æå‡çš„ã€‚ æ¨¡æ‹Ÿé€€ç«åœ¨ä¼˜åŒ–æ—©æœŸç»™æ¯ä¸€æ­¥è¿­ä»£åŠ ä¸Šé«˜æ–¯å™ªéŸ³ï¼Œè¿™å¯ä»¥å¸®åŠ©é¿å…ä¸å¥½çš„å±€éƒ¨æœ€ä¼˜è§£ã€‚éšç€è¿­ä»£æ¬¡æ•°å˜å¤šï¼Œå™ªéŸ³æ–¹å·®å°†é€æ¸å‡å°ã€‚å½“æ–¹å·®å˜åŒ–éžå¸¸æ…¢æ—¶ï¼Œè¿™è¡¨æ˜Žå¼€å§‹å½¢æˆå…¨å±€ç»“æž„ã€‚ï¼ˆçŽ„å­¦ï¼‰ ç„¶è€Œï¼Œé«˜æ–¯å™ªéŸ³çš„æ•°é‡å’Œè¡°å‡é€ŸçŽ‡æ˜¯ååˆ†éš¾ä»¥ç¡®å®šçš„ï¼Œå®ƒä»¬ä¸ä»…ä¸ŽåŠ¨é‡ç›¸å…³ï¼Œä¹Ÿå—å­¦ä¹ çŽ‡çš„å½±å“ã€‚æ€Žä¹ˆåŠžï¼Ÿå¤šç®—å‡ æ¬¡ï¼666]]></content>
      <categories>
        <category>ml</category>
      </categories>
      <tags>
        <tag>paper</tag>
        <tag>é™ç»´</tag>
        <tag>éžçº¿æ€§é™ç»´</tag>
        <tag>SNE</tag>
        <tag>t-SNE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é™ç»´02 - ä¸»æˆåˆ†åˆ†æž (PCA)]]></title>
    <url>%2Fml%2F20190325-c024.html</url>
    <content type="text"><![CDATA[PCAçš„å¤§åå¦‚é›·è´¯è€³ï¼Œæ›¾ç»çš„æˆ‘ä¹Ÿä»¥ä¸ºPCAæ˜¯ä¸ªä»€ä¹ˆå¾ˆå¤æ‚çš„ä¸œè¥¿ï¼Œä½†æ˜¯å­¦ä¹ äº†çº¿æ€§ä»£æ•°ä¹‹åŽæ‰å‘çŽ°ï¼ŒPCAçš„åŽŸç†ç®€å•è€Œä¸å¤±ä¼˜é›…ï¼Œç²—æš´è€Œä¸å¤±è¶£å‘³ã€‚ PCAæ˜¯æœ€æ˜“äºŽç†è§£çš„ç‰¹å¾æå–è¿‡ç¨‹ï¼šé€šè¿‡å¯¹åŽŸå§‹ç‰¹å¾çš„çº¿æ€§ç»„åˆæž„é€ æ–°çš„â€œç‰¹å¾â€ï¼Œè¿™äº›ç‰¹å¾ä¸åŒäºŽåŽŸå§‹ç‰¹å¾ï¼Œä½†æ˜¯åˆèƒ½ä¸ŽåŽŸå§‹ç‰¹å¾ä¸€æ ·è¡¨è¾¾åŽŸå§‹æ•°æ®çš„ä¿¡æ¯ã€‚ PCA (Primary Component Analysis, ä¸»æˆåˆ†åˆ†æž) ä¸ºä»€ä¹ˆå«åšä¸»æˆåˆ†åˆ†æžå‘¢ï¼Ÿå› ä¸ºPCAæž„é€ å‡ºçš„æ–°ç‰¹å¾åœ°ä½å¹¶ä¸æ˜¯ç­‰åŒçš„ï¼Œå³è¿™äº›æ–°ç‰¹å¾çš„é‡è¦ç¨‹åº¦å­˜åœ¨å·®å¼‚ï¼š ç¬¬ä¸€ä¸»æˆåˆ† (the first component) æ˜¯æ–°ç‰¹å¾ä¸­æœ€é‡è¦çš„ç‰¹å¾ï¼Œå®ƒåœ¨æ‰€æœ‰æ–°ç‰¹å¾ä¸­æ–¹å·®æœ€å¤§ï¼Œè¿™æ„å‘³ç€å®ƒå¯¹æ•°æ®å˜å¼‚çš„è´¡çŒ®æ˜¯æœ€å¤§çš„ï¼› ç¬¬äºŒä¸»æˆåˆ† (the second component) åœ¨ä¿è¯ä¸å½±å“ç¬¬ä¸€ä¸»æˆåˆ†çš„åŸºç¡€ä¸Šè¯•å›¾è§£é‡Šå‰©ä¸‹çš„å˜å¼‚ï¼ˆå³æ€»å˜å¼‚ - ç¬¬ä¸€ä¸»æˆåˆ†å¼•èµ·çš„å˜å¼‚ï¼‰ï¼› ç¬¬ä¸‰ä¸»æˆåˆ† (the third component) åœ¨ä¸ä¿è¯ç¬¬ä¸€å’Œç¬¬äºŒä¸»æˆåˆ†å‘¢çš„åŸºç¡€ä¸Šè¯•å›¾è§£é‡Šå‰©ä¸‹çš„å˜å¼‚ï¼ˆå³æ€»å˜å¼‚ - ç¬¬ä¸€ä¸»æˆåˆ†å¼•èµ·çš„å˜å¼‚ - ç¬¬äºŒä¸»æˆåˆ†å¼•èµ·çš„å˜å¼‚ï¼‰; ä¾æ¬¡ç±»æŽ¨â€¦â€¦ çº¿ä»£åŽŸç†é¢„å¤‡çŸ¥è¯†ï¼šçº¿æ€§ä»£æ•°ï¼ˆçŸ©é˜µè¿ç®—ã€ç‰¹å¾å€¼&amp;ç‰¹å¾å‘é‡ã€ç‰¹å¾å€¼åˆ†è§£ï¼‰ å¯å¯¹è§’åŒ–å¦‚æžœä¸€ä¸ªné˜¶æ–¹é˜µAç›¸ä¼¼äºŽå¯¹è§’çŸ©é˜µï¼Œå³å­˜åœ¨å¯é€†çŸ©é˜µ$P$ä½¿å¾—$P^{-1}AP$æ˜¯å¯¹è§’çŸ©é˜µï¼Œåˆ™ç§°æ–¹é˜µAæ˜¯å¯å¯¹è§’åŒ–çš„ã€‚ né˜¶æ–¹é˜µAå¯å¯¹è§’åŒ–çš„å……è¦æ¡ä»¶æ˜¯Aæ¯ä¸ªç‰¹å¾å€¼çš„å‡ ä½•é‡æ•°ä¸Žä»£æ•°é‡æ•°ç›¸ç­‰ï¼šä»£æ•°é‡æ•°æŒ‡ç‰¹å¾å¤šé¡¹å¼ä¸­è¯¥ç‰¹å¾å€¼çš„å¹‚æ¬¡ï¼Œå‡ ä½•é‡æ•°æŒ‡ç‰¹å¾å€¼å¯¹åº”çš„çº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡çš„ä¸ªæ•°ã€‚ né˜¶æ–¹é˜µAå¯å¯¹è§’åŒ–çš„å……è¦æ¡ä»¶æ˜¯Aæœ‰nä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ï¼šå‡ ä½•é‡æ•°ä¸Žä»£æ•°é‡æ•°ç›¸ç­‰æ„å‘³ç€nä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ã€‚ å³ä½¿æ–¹é˜µAå¯é€†ä¹Ÿä¸èƒ½ä¿è¯æ¯ä¸ªç‰¹å¾å€¼çš„ä»£æ•°é‡æ•°ä¸Žå‡ ä½•é‡æ•°ç›¸ç­‰ï¼Œå› æ­¤Aå¯é€†ä¸æ˜¯Aå¯å¯¹è§’åŒ–çš„å……è¦æ¡ä»¶ï¼ ç‰¹å¾å€¼åˆ†è§£å¦‚æžœçŸ©é˜µAæ˜¯ä¸€ä¸ªå¯å¯¹è§’åŒ–çš„æ–¹é˜µï¼Œå®ƒå°±å¯ä»¥è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼Œå³Aå¯è¡¨ç¤ºä¸ºï¼š$$A=Q{\Lambda}Q^{-1}$$å…¶ä¸­ $Q$ æ˜¯né˜¶æ–¹é˜µï¼Œå®ƒçš„nä¸ªåˆ—å‘é‡æ˜¯æ–¹é˜µAçš„nä¸ªç‰¹å¾å‘é‡ $\Lambda$ æ˜¯å¯¹è§’æ–¹é˜µï¼Œå¯¹è§’çº¿å…ƒç´ æ˜¯æ–¹é˜µAçš„ç‰¹å¾å€¼ï¼Œå…¶ä½ç½®ä¸Ž $Q$ ä¸­çš„ç‰¹å¾å‘é‡ä½ç½®ç›¸å¯¹åº” ç‰¹å¾å€¼åˆ†è§£çš„åº”ç”¨ï¼Ÿæ±‚é€†ã€‚å¦‚æžœæ–¹é˜µAæ˜¯éžå¥‡å¼‚çŸ©é˜µï¼ˆå³å¯ä»¥è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ä¸”ç‰¹å¾å€¼ä¸å«0ï¼‰ï¼Œåˆ™ $A^{-1}=Q{\Lambda}^{-1}Q^{-1}$ï¼Œå…¶ä¸­ $[{\Lambda}^{-1}]_{ii}=\frac1{\lambda_i}$ã€‚ å¥‡å¼‚å€¼åˆ†è§£ç‰¹å¾å€¼åˆ†è§£å¯¹Açš„è¦æ±‚æ ¼å¤–ä¸¥æ ¼ï¼šå¯é€†ã€ç‰¹å¾å€¼ä¸å«0ã€æ–¹é˜µâ€¦â€¦æ”¾æ¾ç‰¹å¾å€¼åˆ†è§£çš„é™åˆ¶ï¼Œå°†Aæ‰©å±•åˆ°ä»»æ„ $m{\times}n$ çš„çŸ©é˜µå³å¾—åˆ° å¥‡å¼‚å€¼åˆ†è§£ (Singular Value Decomposition, SVD) ã€‚ å‡è®¾Mæ˜¯å®šä¹‰åœ¨å®žæ•°åŸŸæˆ–è€…å¤æ•°åŸŸä¸Šçš„ $m{\times}n$ é˜¶çš„çŸ©é˜µï¼š$$M=U{\Sigma}V^\ast$$å…¶ä¸­ Uæ˜¯ $m{\times}m$ é˜¶é…‰çŸ©é˜µï¼šUçš„mä¸ªåˆ—å‘é‡å®žé™…ä¸Šæ˜¯ $M^{\ast}M$ çš„ç‰¹å¾å‘é‡ï¼Œç§°ä¸ºMçš„å·¦å¥‡å¼‚å‘é‡ã€‚ $\Sigma$ æ˜¯ $m{\times}n$ é˜¶éžè´Ÿå®žæ•°å¯¹è§’çŸ©é˜µï¼šå¯¹è§’çº¿å…ƒç´ ç§°ä¸ºMçš„å¥‡å¼‚å€¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¥‡å¼‚å€¼æŒ‰ä»Žå¤§åˆ°å°çš„é¡ºåºæŽ’åˆ—ï¼ $V^\ast$ æ˜¯ $V$ çš„å…±è½­è½¬ç½®ï¼Œæ˜¯ $n{\times}n$ é˜¶é…‰çŸ©é˜µï¼šVçš„nä¸ªåˆ—å‘é‡å®žé™…ä¸Šæ˜¯ $MM^\ast$ çš„ç‰¹å¾å‘é‡ï¼Œç§°ä¸ºMçš„å³å¥‡å¼‚å‘é‡ã€‚ å…±è½­è½¬ç½®ï¼šå…±è½­è½¬ç½®ä¸Žè½¬ç½®æ˜¯ä¸¤ä¸ªæ¦‚å¿µï¼Œå½“çŸ©é˜µå®šä¹‰åœ¨å®žæ•°åŸŸä¸Šæ—¶äºŒè€…ç»“æžœç›¸åŒï¼ŒçŸ©é˜µAçš„å…±è½­è½¬ç½®è®°ä¸º $A^\ast$ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š$$A^\ast=(\overline{A})^T=\overline{A^T}$$å…¶ä¸­ï¼Œ$\overline{A}$ è¡¨ç¤ºå¯¹Açš„å…ƒç´ å¤å…±è½­ï¼Œå½“Aå®šä¹‰åœ¨å®žæ•°åŸŸæ—¶ $\overline{A}=A$ã€‚ å½“çŸ©é˜µMå®šä¹‰åœ¨å®žæ•°åŸŸæ—¶æœ‰ï¼š$$M=U{\Sigma}V^T$$æˆ‘ä»¬åœ¨åº”ç”¨SVDæ—¶ä¸€èˆ¬éƒ½æ˜¯å®šä¹‰åœ¨å®žæ•°åŸŸä¸Šçš„å“Ÿ~ ä¸»æˆåˆ†åˆ†æžä¸Šé¢æåˆ°äº†å¯¹äºŽä»»æ„ $m{\times}n$ é˜¶çŸ©é˜µMçš„SVDåˆ†è§£ï¼š$$M_{m{\times}n}=U_{m{\times}m}{\Sigma_{m{\times}n}}V_{n{\times}n}^T$$ç›´è§‚å›¾å¦‚ä¸‹ï¼ˆè¿™é‡Œå‡è®¾æ ·æœ¬æ•°é‡må¤šäºŽç‰¹å¾æ•°é‡nï¼Œè¿™æ„å‘³ç€Mæœ‰nä¸ªå¥‡å¼‚å€¼ï¼‰ï¼šå…¶ä¸­ $\Sigma$ çŸ©é˜µå¾ˆæœ‰æ„æ€ï¼Œå½“m&gt;næ—¶ï¼ŒçŸ©é˜µ $\Sigma_{m{\times}n}$ ä¸­åªæœ‰å­çŸ©é˜µ $\Sigma_{n{\times}n}$ çš„å¯¹è§’çº¿ä¸Šçš„å€¼ä¸ä¸º0ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»¥scRNAæµ‹åºä¸ºä¾‹ï¼šå‡è®¾åœ¨è¡¨è¾¾è°±çŸ©é˜µä¸­ï¼Œä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªç»†èƒžä¸­ä¸åŒåŸºå› çš„è¡¨è¾¾é‡ï¼Œä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªåŸºå› åœ¨ä¸åŒç»†èƒžä¸­çš„è¡¨è¾¾é‡ã€‚è¿™ä¸Žæˆ‘ä»¬çš„ä¹ æƒ¯ï¼ˆä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªç»†èƒžï¼Œä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªåŸºå› ï¼‰æœ‰æ‰€ä¸åŒï¼ å¯¹åº”åˆ°ä¸Šè¿°SVDåˆ†è§£å¼æˆ‘ä»¬å‘çŽ°ï¼Œnè¡¨ç¤ºç»†èƒžæ•°é‡ï¼Œmè¡¨ç¤ºåŸºå› æ•°é‡ã€‚æˆ‘ä»¬é™ç»´çš„ç»“æžœè‚¯å®šæ˜¯è¦ä¿è¯ç»†èƒžæ€»æ•°mä¸å˜ï¼Œè€Œå°†åŸºå› æ•°ç›®ä»Žnå‡å°åˆ°kã€‚ å…·ä½“çš„ï¼Œå– $\Sigma$ ä¸­æœ€å¤§çš„kä¸ªå¥‡å¼‚å€¼ï¼Œå³å– $\Sigma_{k{\times}k}$ å­çŸ©é˜µï¼Œç›¸åº”çš„å–Uçš„å‰kåˆ—å’ŒVçš„å‰kåˆ—ï¼ˆå³$V^\ast$çš„å‰kè¡Œï¼‰ï¼Œå³ï¼šæ­¤æ—¶$$M_{m{\times}n}=U_{m{\times}k}{\Sigma_{k{\times}k}}V_{k{\times}n}^T$$ä¸Šå¼ä¸­çš„ $U_{m{\times}k}$ å°±æ˜¯ $M_{m{\times}n}$ ä»Žnç»´ç‰¹å¾ç©ºé—´é™åˆ°kç»´ç‰¹å¾ç©ºé—´çš„ç»“æžœã€‚æ³¨æ„çŸ©é˜µ $U_{m{\times}k}$ çš„kä¸ªåˆ—å‘é‡å¹¶ä¸åœ¨çŸ©é˜µ $M_{m{\times}n}$ ä¸­ï¼Œè€Œæ˜¯Mä¸­çš„nä¸ªåˆ—å‘é‡çº¿æ€§ç»„åˆçš„ç»“æžœã€‚ å·¥å…·12# in pythonfrom sklearn.decomposition import PCA]]></content>
      <categories>
        <category>ml</category>
      </categories>
      <tags>
        <tag>é™ç»´</tag>
        <tag>PCA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é™ç»´01 - ç‰¹å¾é€‰æ‹©å’Œç‰¹å¾æå–]]></title>
    <url>%2Fml%2F20190325-d2ce.html</url>
    <content type="text"><![CDATA[å¤§æ•°æ®åŒ…å«äº†ä¸°å¯Œçš„å…ˆéªŒçŸ¥è¯†ï¼Œå³å‡ ä¹ŽåŒ…å«äº†ä¸€åˆ‡æˆ‘ä»¬æ„Ÿå…´è¶£çš„ä¿¡æ¯ã€‚ä½†æ˜¯æ•°æ®é‡è¿‡å¤§ä¹Ÿä¼šä½¿æˆ‘ä»¬åœ¨åˆ†æžæ—¶æ„Ÿåˆ°èŒ«ç„¶æ— æŽªã€‚ç‰¹å¾è¿‡å¤šä½¿å¾—æˆ‘ä»¬ä¸å¯èƒ½å¯¹å•ä¸ªç‰¹å¾è¿›è¡Œè¯¦ç»†è§£æžï¼Œå¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬æ˜¯å°†æ‰€æœ‰ç‰¹å¾å½“æˆä¸€ä¸ªæ•´ä½“è¿›è¡Œè€ƒè™‘ï¼Œæˆ–è€…åˆ†æžç‰¹å¾ä¹‹é—´çš„å…³ç³»ã€‚å¯¹é«˜ç»´æ•°æ®æ•°æ®è¿›è¡Œé¢„å¤„ç†æ˜¯ä¸€ç§ä¸é”™çš„é€‰æ‹©ï¼Œæ­¤æ—¶å„ç§å„æ ·çš„é™ç»´æµ“ç¼©æŠ€æœ¯åº”è¿è€Œç”Ÿã€‚ é™ç»´çš„å¥½å¤„æœ‰å“ªäº›ï¼Ÿ å‡å°‘æ•°æ®ç»´åº¦ï¼Œå­˜å‚¨æ•°æ®éœ€è¦çš„ç©ºé—´ä¹Ÿä¼šå‡å°‘ï¼ˆç›˜éœ¸å¯å¿½ç•¥~ï¼‰ï¼› ä½Žç»´æ•°æ®å¯ä»¥å‡å°‘è®¡ç®—é‡ï¼Œç¼©çŸ­æ¨¡åž‹è®­ç»ƒæ—¶é—´ï¼› å¾ˆå¤šç®—æ³•åœ¨é«˜ç»´æ•°æ®ä¸Šçš„è¡¨çŽ°è¿œè¿œæ²¡æœ‰åœ¨ä½Žç»´æ•°æ®ä¸Šå¥½ï¼› åŽ»æŽ‰å†—ä½™ç‰¹å¾ï¼ˆå¼ºç›¸å…³ç‰¹å¾ï¼‰ï¼Œæé«˜æ•°æ®çš„è´¨é‡ï¼› æœ‰åŠ©äºŽå¯è§†åŒ–ï¼Œæˆ‘ä»¬åªèƒ½å½¢è±¡è§‚å¯Ÿä¸‰ç»´åŠä»¥ä¸‹çš„æ•°æ®ï¼ åˆ†ç±»é™ç»´æ€»æ˜¯å›´ç»•ç€å‡å°‘ç‰¹å¾æ•°è¿›è¡Œçš„ï¼Œæ ¹æ®å¯¹ç‰¹å¾çš„æ“ä½œå¯åˆ†ä¸ºï¼š ç‰¹å¾é€‰æ‹©ï¼šä¿ç•™åŽŸå§‹ç‰¹å¾é›†çš„å­é›†ï¼Œå³é€‰å–éƒ¨åˆ†åŽŸå§‹ç‰¹å¾ï¼› ç‰¹å¾æå–ï¼šæž„é€ ä¸åŒäºŽåŽŸå§‹ç‰¹å¾çš„æ–°ç‰¹å¾ï¼Œæ–°ç‰¹å¾å¾€å¾€æ˜¯åŽŸå§‹ç‰¹å¾çš„ç»„åˆï¼Œæ›¿ä»£åŽŸå§‹ç‰¹å¾è¡¨è¾¾åŽŸå§‹æ•°æ®æƒ³è¡¨è¾¾çš„ä¿¡æ¯ã€‚ç‰¹å¾æå–æ˜¯é™ç»´ç®—æ³•ç ”ç©¶çš„æ ¸å¿ƒå†…å®¹ã€‚ ç‰¹å¾é€‰æ‹©ç‰¹å¾é€‰æ‹©åªæ˜¯å¯¹æ¯ä¸ªç‰¹å¾è¿›è¡Œè¯„ä¼°ï¼ŒåŽ»æŽ‰ä¸é‡è¦çš„æˆ–è€…é€‰å‡ºé‡è¦çš„ï¼š ç¼ºå¤±å€¼æ¯”çŽ‡ï¼šæŒ‰ç¼ºå¤±å€¼æ¯”çŽ‡åˆ é™¤ç‰¹å¾ï¼› ä½Žæ–¹å·®æ»¤æ³¢ï¼šåˆ é™¤æ–¹å·®å°çš„ç‰¹å¾ï¼› é«˜ç›¸å…³æ»¤æ³¢ï¼šåªä¿ç•™é«˜ç›¸å…³ç‰¹å¾ä¸­çš„ä¸€ä¸ªï¼› éšæœºæ£®æž—ï¼šè®¡ç®—æ¯ä¸ªç‰¹å¾çš„é‡è¦æ€§ï¼› å‰å‘ç‰¹å¾é€‰æ‹©ï¼šä¾æ¬¡å¢žåŠ ç‰¹å¾æ•°æ£€éªŒæ¨¡åž‹æ€§èƒ½ï¼› åå‘ç‰¹å¾æ¶ˆé™¤ï¼šä¾æ¬¡å‡å°‘ç‰¹å¾æ•°æ£€éªŒæ¨¡åž‹æ€§èƒ½ã€‚ ç‰¹å¾æå–ç‰¹å¾æå–æ‰æ˜¯é™ç»´æ€æƒ³çš„æ ¸å¿ƒå†…å®¹ï¼Œé™ç»´ç®—æ³•å®¶æ—æžç¹å¶èŒ‚ï¼Œå…ˆåšä¸€ä¸ªæ€»ä½“åˆ†ç±»ï¼š]]></content>
      <categories>
        <category>ml</category>
      </categories>
      <tags>
        <tag>é™ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰¹æ¬¡æ•ˆåº”æ ¡æ­£ä¸ŽRUVç®—æ³•]]></title>
    <url>%2Fbioinfo%2F20190322-afa7.html</url>
    <content type="text"><![CDATA[æ–¹æ³• Gagnon-Bartsch et al.æå‡ºäº†RUV-2ç”¨æ¥æ ‡å‡†åŒ–è¿žç»­çš„å¾®é˜µåˆ—æ•°æ®ï¼Œç§»é™¤ä¸éœ€è¦çš„å˜å¼‚ã€‚è¿™é‡ŒåŸºäºŽå‰é¢çš„æ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œç”¨ä»¥æ ‡å‡†åŒ–ç¦»æ•£çš„RNAæµ‹åºæ•°æ®ã€‚ å¯¹äºŽè¡¨è¾¾çŸ©é˜µï¼ˆæ ·æœ¬æ•° $n{\times}J$ åŸºå› æ•°ï¼‰,æž„å»ºæ³›åŒ–çº¿æ€§æ¨¡åž‹ (Generalized Linear Model, GLM):$$ \log{E[Y|W,X,O]}=W\alpha+X\beta+O $$å‚æ•°æ„ä¹‰å¦‚ä¸‹ï¼š $Y$ æ˜¯ $n{\times}J$ çš„è¡¨è¾¾çŸ©é˜µï¼› $W$ æ˜¯ $n{\times}k$ ä¸Žä¸éœ€è¦çš„å˜å¼‚ç›¸å…³çš„å¤šä½™å˜å¼‚ç›¸å…³çŸ©é˜µï¼ˆkæ˜¯ä¸éœ€è¦çš„å˜å¼‚ç›¸å…³çš„å˜é‡çš„ä¸ªæ•°ï¼‰ï¼Œ$\alpha$ æ˜¯ $k{\times}J$ çš„å¤šä½™å˜å¼‚ç›¸å…³çŸ©é˜µçš„ç³»æ•°ï¼ˆå‚æ•°ï¼‰ï¼› $X$ æ˜¯ $n{\times}p$ ä¸Žæ„Ÿå…´è¶£çš„å˜å¼‚ç›¸å…³çš„æœŸæœ›å˜å¼‚ç›¸å…³çŸ©é˜µï¼ˆpæ˜¯æ„Ÿå…´è¶£çš„å˜å¼‚ç›¸å…³çš„å˜é‡çš„ä¸ªæ•°ï¼‰ï¼Œ$\beta$ æ˜¯ $p{\times}J$ çš„æœŸæœ›å˜å¼‚ç›¸å…³çŸ©é˜µçš„ç³»æ•°ï¼ˆå‚æ•°ï¼‰ï¼› $O$ æ˜¯ä¸€ä¸ª $n{\times}J$ çš„çŸ©é˜µï¼Œå®ƒå¯ä»¥ç½®é›¶ï¼Œä¹Ÿå¯ä»¥åŒ…å«å…¶å®ƒçš„æ ‡å‡†åŒ–è¿‡ç¨‹ï¼ˆå¦‚UQæ ‡å‡†åŒ–ï¼‰ã€‚ çŸ©é˜µ $X$ æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œæ˜¯æˆ‘ä»¬å®žéªŒçš„æµ‹é‡å€¼ï¼Œæ˜¯å·²çŸ¥çš„ï¼ˆå…ˆéªŒï¼‰ã€‚ çŸ©é˜µ $W$ æ˜¯æœªè§‚æµ‹çš„éšæœºå˜é‡ï¼›$\alpha$ã€$\beta$ã€$k$ éƒ½æ˜¯æœªçŸ¥å‚æ•°ã€‚ ä¸åŒäºŽå…ˆå‰çš„æ ‡å‡†åŒ–æ–¹æ³•ï¼ŒRUVå¯ä»¥ä½¿ç”¨GLMæ ‡å‡†åŒ–æŠ€æœ¯åŒæ—¶æ ‡å‡†åŒ–readsè®¡æ•°ï¼ˆ$W\alpha$ï¼‰å’ŒæŽ¨æ–­å·®å¼‚è¡¨è¾¾ï¼ˆ$X\beta$ï¼‰ã€‚æ ‡å‡†åŒ–çš„è®¡æ•°ä¹Ÿå¯ä»¥é€šè¿‡ç”±åŽŸå§‹è®¡æ•°å¯¹ä¸éœ€è¦çš„å› å­è¿›è¡Œå›žå½’åˆ†æžåŽæ±‚æ®‹å·®å¾—åˆ°ï¼Œä½†æ˜¯ç›´æŽ¥ä»ŽåŽŸå§‹è®¡æ•°ä¸­ç§»é™¤ä¸éœ€è¦çš„å› å­ï¼ˆ$W\alpha$ï¼‰å¯èƒ½ä¼šæŸå¤±æŽ‰ $X$ çš„ä¸€éƒ¨åˆ†ã€‚[reference] åŒæ—¶ä¼°è®¡ $W$, $\alpha$, $\beta$ å’Œ $k$ æ˜¯å¾ˆéš¾çš„ã€‚å¯¹äºŽä¸€ä¸ªç»™å®šçš„ $k$ å€¼ï¼Œæˆ‘ä»¬å°è¯•ç€ç”¨ä¸‹é¢ä¸‰ç§æ–¹æ³•å¯¹$W$ è¿›è¡Œä¼°è®¡ï¼š 1. åŸºäºŽé˜´æ€§å¯¹ç…§åŸºå› çš„RUVg å‡è®¾æˆ‘ä»¬é‰´å®šå‡ºäº†ä¸€ä¸ªé˜´æ€§å¯¹ç…§åŸºå›  (negative control genes) çš„é›†åˆï¼ˆå¤§å°ä¸º $J_c$ï¼‰ï¼Œä¾‹å¦‚ä¸å·®å¼‚è¡¨è¾¾çš„åŸºå› ï¼Œå¯¹è¿™ä¸ªåŸºå› é›†åˆæ¥è¯´ $\beta_c=0$ å³ $\log{E[Y_c|W,X,O]}=W\alpha_c+O_c$ï¼Œå…¬å¼ä¸­çš„ä¸‹æ ‡cå°†çŸ©é˜µé™åˆ¶åœ¨äº†å¤§å°ä¸º $J_c$ çš„åŸºå› é›†åˆé‡Œã€‚ å®šä¹‰ $Z=\log{Y}-O$ï¼Œ$Z^\ast$ æ˜¯ $Z$ åˆ—å‘é‡ä¸­å¿ƒåŒ–ï¼ˆ$Z$ çš„å„ä¸ªåˆ—å‘é‡å‡å€¼éƒ½ä¸º0ï¼‰çš„ç»“æžœã€‚ å¯¹ $Z_c^\ast$ è¿›è¡Œå¥‡å¼‚å€¼åˆ†è§£ (singular value decomposition, SVD) å³ $Z_c^\ast=U{\Lambda}V^T$ã€‚çŸ©é˜µ $U$ æ˜¯ $n{\times}n$ åˆ—æ­£äº¤çŸ©é˜µï¼Œå®ƒçš„åˆ—å‘é‡æ˜¯ $Z^\ast$ çš„å·¦å¥‡å¼‚å‘é‡é›†ï¼›çŸ©é˜µ $V$ æ˜¯ $J_c{\times}J_c$ çš„åˆ—æ­£äº¤çŸ©é˜µï¼Œå®ƒçš„åˆ—å‘é‡æ˜¯ $Z^\ast$ çš„å³å¥‡å¼‚å‘é‡é›†ï¼›$\Lambda$ çŸ©é˜µæ˜¯ç”± $Z^\ast$ çš„å¥‡å¼‚å€¼ç»„æˆçš„éžæ–¹å½¢å¯¹è§’çŸ©é˜µï¼Œå¤§å°ä¸º $n{\times}J_c$ã€‚$Z^\ast$ æœ€å°‘æœ‰ $\min{(n,J_c)}$ ä¸ªå¥‡å¼‚å€¼ã€‚å¯¹äºŽä¸€ä¸ªç»™å®šçš„ $k$ï¼Œé€šè¿‡ $\widehat{W\alpha_c}=U\Lambda_kV^T$ ä¼°è®¡ $W\alpha_c$ï¼Œé€šè¿‡ $\hat{W}=U\Lambda_k$ ä¼°è®¡ $W$ã€‚$|lambda_k$ æ˜¯ç”± $\Lambda$ å¯¼å‡ºçš„å¤§å°ä¸º $n{\times}J_c$ çš„éžæ–¹å½¢å¯¹è§’çŸ©é˜µï¼Œä¿ç•™ $\Lambda$ ä¸­æœ€å¤§çš„ $k$ ä¸ªå¥‡å¼‚å€¼ï¼Œå°†å…¶å®ƒçš„å¥‡å¼‚å€¼ç½®ä¸º0ã€‚ å°† $\hat{W}$ å¸¦å…¥ä¸Šé¢åŸºäºŽ $J$ ä¸ªåŸºå› æž„å»ºçš„å…¬å¼ä¸­ï¼Œé€šè¿‡GLMå›žå½’ä¼°è®¡ $\alpha$ å’Œ $\beta$ã€‚ ï¼ˆå¯é€‰ï¼‰å°†æ ‡å‡†åŒ–çš„è¯»æ®µè®¡æ•°å®šä¹‰ä¸º $Z$ å¯¹ $\hat{W}$ çš„æ™®é€šæœ€å°äºŒä¹˜å›žå½’ (ordinary least squares, OLS) çš„æ®‹å·®ã€‚ è¿™æ˜¯æœ€åŸºç¡€çš„RUV-2çš„ç¦»æ•£ç‰ˆæœ¬ã€‚å…¶ä¸­çš„å…³é”®å‡è®¾æ˜¯æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°è¿™ä¸ªé˜´æ€§å¯¹ç…§åŸºå› é›†åˆã€‚ç„¶è€Œï¼ŒRUV-2å·²è¢«è¯å®žå¯¹å¯¹ç…§åŸºå› çš„é€‰æ‹©ååˆ†æ•æ„Ÿã€‚æˆ‘ä»¬å› æ­¤è€ƒè™‘ä¸‹é¢çš„ä¸¤ç§æ–¹æ³•ï¼šRUVrä¸éœ€è¦é˜´æ€§å¯¹ç…§åŸºå› ï¼ŒRUVså¯¹é˜´æ€§å¯¹ç…§åŸºå› é€‰æ‹©çš„é²æ£’æ€§æ›´å¼ºã€‚ 2. åŸºäºŽæ®‹å·®çš„RUVr è®¡ç®—æ®‹å·®çŸ©é˜µ $E(n{\times}J)$: è®¡æ•°çŸ©é˜µ $Y(n{\times}J)$ å…³äºŽæ„Ÿå…´è¶£çš„åå˜é‡çŸ©é˜µ $X(n{\times}J)$ çš„åˆæ­¥GLMå›žå½’ï¼Œä¾‹å¦‚å¼‚å¸¸å€¼æ®‹å·®ã€‚è¿™é‡Œç”¨äºŽå›žå½’è®¡ç®—çš„è®¡æ•°çŸ©é˜µå¯ä»¥æ˜¯æœªæ ‡å‡†åŒ–çš„åŽŸå§‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»è¿‡å…¶å®ƒæ ‡å‡†åŒ–å·¥å…·ï¼ˆä¾‹å¦‚UQï¼‰å¤„ç†è¿‡çš„æ•°æ®ã€‚ å¯¹æ®‹å·®è¿›è¡Œå¥‡å¼‚å€¼åˆ†è§£ï¼Œå³ $E=U{\Lambda}V^T$ï¼Œé€šè¿‡ $\hat{W}=U\Lambda_k$ ä¼°è®¡ $w$ã€‚æŽ¥ä¸‹æ¥çš„æ­¥éª¤ä¸Ž RUVg çš„ç¬¬4ã€5æ­¥ç›¸åŒã€‚ 3. åŸºäºŽé‡å¤/é˜´æ€§å¯¹ç…§æ ·æœ¬çš„RUVs å‡è®¾åœ¨å¤šä¸ªå¤åˆ¶æ ·æœ¬ä¸­å…·æœ‰ç”Ÿç‰©å­¦ç‰¹å¾çš„ï¼ˆæˆ‘ä»¬æ„Ÿå…´è¶£çš„ï¼‰æŸäº›åå˜é‡çš„è¡¨è¾¾é‡å¯çœ‹ä½œæ’å®šçš„ï¼Œå®ƒä»¬çš„è®¡æ•°å·®å¼‚ä¸ŽRUVgä¸­çš„é˜´æ€§å¯¹ç…§åŸºå› ä¸€æ ·ï¼Œå¯¹æˆ‘ä»¬åŽç»­çš„ç ”ç©¶æ²¡æœ‰å½±å“ã€‚çŽ°åœ¨å‡è®¾æœ‰ $R$ ä¸ªå¤åˆ¶ç»„ï¼Œ$r(i){\in}{1,â€¦,R}$ è¡¨ç¤ºæ ·æœ¬ $i$ æ‰€å±žçš„å¤åˆ¶ç»„ï¼›å¦‚æžœæ ·æœ¬ $i$ ä¸å±žäºŽä»»ä½•ä¸€ä¸ªå¤åˆ¶ç»„ï¼Œåˆ™ $r(i)=0$ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽSEQCæ•°æ®é›†ï¼Œæ ·æœ¬Aå’Œæ ·æœ¬Bå„è‡ªçš„64ä¸ªå¤åˆ¶æœ¬ï¼ˆ$=4[\text{libraries}]{\times}2[\text{flow-cell}]{\times}8[\text{lanes}]$ï¼‰åˆ†åˆ«ç»„æˆäº†ä¸€ä¸ªå¤åˆ¶ç»„ã€‚ å¯¹æ¯ä¸€ä¸ªå¤åˆ¶æœ¬å¯¹åº”çš„è®¡æ•°çŸ©é˜µè¿›è¡Œåˆ—ä¸­å¿ƒåŒ–å¤„ç†ï¼Œå³çŸ©é˜µå„ä¸ªåˆ—å‘é‡çš„å‡å€¼éƒ½ä¸º0ã€‚åŽ»æŽ‰ä¸å±žäºŽé¢„æœŸå¤åˆ¶ç»„çš„æ ·æœ¬ï¼Œå³ç­›é€‰å‡º $n_d=\sum_i{I(r(i)\ne0)}$ ä¸ªæ ·æœ¬å¯¹åº”çš„åˆ—ä¸­å¿ƒåŒ–åŽçš„è®¡æ•°å­çŸ©é˜µ $Y_d(n_d{\times}J)$ã€‚ æ­¤æ—¶ $\log{E[Y_d|W,X,O]}=W_d\alpha+O_d$ï¼Œå¯¹åº”çš„çŸ©é˜µå¤§å°æ˜¯ $(n_d{\times}J){\leftarrow}({n_d\times}k)({k\times}J)+(n_d{\times}J)$ã€‚ å®šä¹‰ $Z_d=\log{Y_d}-O_d$ï¼Œ$Z_d^\ast$ æ˜¯ $Z_d$ åˆ—ä¸­å¿ƒåŒ–çš„ç»“æžœï¼Œ$Z_d^\ast=U{\Lambda}V^T$ã€‚é€šè¿‡ $\hat{\alpha}=\Lambda_kV^T$ï¼ˆä¿ç•™æœ€å¤§çš„ $k$ ä¸ªå¥‡å¼‚å€¼ï¼Œ$k{\le}\min{(n_d,J)}$ï¼‰æ¥ä¼°è®¡ $\alpha$ã€‚ åœ¨æ‰€æœ‰ $n$ ä¸ªåŽŸå§‹æ•°æ®å’Œ $J_c$ ä¸ªé˜´æ€§å¯¹ç…§åŸºå› ä¸Šå¯¹ $Z_c$ è¿›è¡Œæœ€å°äºŒä¹˜å›žå½’ï¼ˆOLSï¼‰ã€‚ä¼°è®¡è®¨åŽŒå› å­ $W$ï¼š$\hat{W}=Z_c\hat\alpha_c^T(\hat\alpha_c\hat\alpha_c^T)^{-1}$ã€‚æŽ¥ä¸‹æ¥çš„æ­¥éª¤ä¸Ž RUVgçš„ç¬¬4ã€5æ­¥ç›¸åŒã€‚ è¦ç‚¹ä¸¤ä¸ªæ•°æ®é›† SEQC data set: The third phase of the MicroArray Quality Control (MAQC) project, also known as the Sequencing Quality Control17 (SEQC) project, aims to assess the technical performance of high-throughput sequencing platforms by generating benchmarking data sets. Zebrafish (æ–‘é©¬é±¼) data set: All procedures were conducted in compliance with US federal guidelines in an AAALAC-accredited facility and were approved by the UC Berkeley Office of Animal Care and Use. ä¸¤ç§è®¨åŽŒå› å­æœ¬æ–‡åˆ†æžäº†ä¸¤ç§è®¨åŽŒå› å­ï¼šlibrary preparation &amp; flow-cell effectsã€‚ flowcellï¼šæµåŠ¨å®¤ï¼Œåˆ«ç§°éž˜æµæ± ã€æµåŠ¨æ± ï¼Œæ˜¯æµå¼ç»†èƒžæŠ€æœ¯çš„åŸºç¡€å…³é”®éƒ¨ä»¶ã€‚å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ï¼š ä½œè€…ç”¨æ­£äº¤çš„ä¸»æˆåˆ†å›¾å±•ç¤ºäº†è¿™ä¸¤ç§è®¨åŽŒå› å­ï¼šScatterplot matrix of first three principal components (PC) for unnormalized counts (log scale, centered). The principal components are orthogonal linear combinations of the original 21,559-dimensional gene expression profiles, with successively maximal variance across the 128 samples, that is, the first principal component is the weighted average of the 21,559 gene expression measures that provides the most separation between the 128 samples. Each point corresponds to one of the 128 samples. The four sample A and the four sample B libraries are represented by different shades of blue and red, respectively (16 replicates per library). Circles and triangles represent samples sequenced in the first and second flow-cells, respectively. As expected for the SEQC data set, the first principal component is driven by the extreme biological difference between sample A and sample B. The second and third principal components clearly show library preparation effects (the samples cluster by shade) and, to a lesser extent, flow-cell effects reflecting differences in sequencing depths (within each shade, the samples cluster by shape). ç®—æ³•æ¨ªå‘å¯¹æ¯”ä¸Šåˆ†ä½æ•°æ ‡å‡†åŒ– (Upper-quartile normalization, UQ)ï¼ŒUQåªèƒ½æ¶ˆé™¤æµç»†èƒžæ•ˆåº”è€Œå¯¹æ–‡åº“æ•ˆåº”æŸæ‰‹æ— ç­–ï¼ŒRUVç®—æ³•è§£å†³çš„å°±æ˜¯å¦‚ä½•æ¶ˆé™¤ä¸åŒæ–‡åº“çš„å½±å“ã€‚ å±€éƒ¨åŠ æƒå›žå½’æ•£ç‚¹å¹³æ»‘æ³• (Locally Weighted Scatterplot Smoothing, LOWESS/LOESS)ä¸èƒ½æ¶ˆé™¤æ–‡åº“æ•ˆåº”ã€‚ è¡¥å……ERCC spike-in controlsERCC å³ External RNA Controls Consortiumï¼Œæ˜¯æ–¯å¦ç¦å¤§å­¦ä¸ºäº†å®šåˆ¶ä¸€å¥—spike-in RNAè€Œæˆç«‹çš„ä¸“é—¨æ€§ç»„ç»‡ï¼Œä¸»è¦çš„å·¥ä½œæ˜¯è®¾è®¡äº†å¥½ç”¨çš„spike-in RNAï¼Œæ–¹ä¾¿microarrayä»¥åŠRNA-Seqè¿›è¡Œå†…å‚å®šé‡ã€‚[å®˜æ–¹é¦–é¡µ] RNA spike-inæ˜¯ä¸€ç§æ•°é‡å’Œåºåˆ—éƒ½å·²çŸ¥çš„RNAè½¬å½•æœ¬ï¼Œç”¨äºŽæ ¡å‡†RNAæ‚äº¤å®žéªŒï¼ˆä¾‹å¦‚DNAå¾®é˜µåˆ—å®žéªŒã€RT-qPCRã€RNAæµ‹åºç­‰ï¼‰çš„æµ‹é‡å€¼ã€‚RNA spike-inä½œä¸ºå¯¹ç…§ç»„ï¼ˆæŽ§åˆ¶ç»„ï¼‰æŽ¢é’ˆï¼Œè¢«è®¾è®¡æˆèƒ½ä¸Žå…·æœ‰ç›¸åº”åŒ¹é…åºåˆ—çš„DNAåˆ†å­ç»“åˆï¼Œè¿™ä¸ªç‰¹å¼‚æ€§ç»“åˆçš„è¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸ºæ‚äº¤ã€‚åœ¨åˆ¶å¤‡çš„è¿‡ç¨‹ä¸­ï¼Œå·²çŸ¥æ•°é‡çš„spike-inå°†ä¸Žå®žéªŒæ ·æœ¬è¿›è¡Œæ··åˆã€‚spike-insçš„æ‚äº¤ç¨‹åº¦å¯ä»¥ç”¨æ¥æ ‡å‡†åŒ–æ ·æœ¬RNAçš„æµ‹é‡å€¼ã€‚[wiki] [reference]]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
      <tags>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰¹æ¬¡æ•ˆåº”ï¼ˆbatch effectï¼‰]]></title>
    <url>%2Fbioinfo%2F20190319-cca5.html</url>
    <content type="text"><![CDATA[ä¸€ã€å®šä¹‰ä¸‹é¢æ˜¯å¤§ä½¬ç»™å‡ºæ¥çš„å…³äºŽæ‰¹æ¬¡æ•ˆåº”(batch effect)çš„å®šä¹‰ï¼š Batch effects are sub-groups of measurements that have qualitatively different behaviour across conditions and are unrelated to the biological or scientific variables in a study. For example, batch effects may occur if a subset of experiments was run on Monday and another set on Tuesday, if two technicians were responsible for different subsets of the experiments, or if two different lots of reagents, chips or instruments were used. Leek et. al (2010) æ‰¹æ¬¡æ•ˆåº”æ˜¯æµ‹é‡ç»“æžœä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬å› ä¸ºå®žéªŒæ¡ä»¶çš„ä¸åŒè€Œå…·æœ‰ä¸åŒçš„è¡¨çŽ°å½¢å¼ï¼Œå¹¶ä¸”ä¸Žæˆ‘ä»¬ç ”ç©¶çš„å˜é‡æ²¡æœ‰åŠæ¯›é’±å…³ç³»ã€‚ä¸€èˆ¬æ‰¹æ¬¡æ•ˆåº”å¯èƒ½åœ¨ä¸‹è¿°æƒ…å½¢ä¸­å‡ºçŽ°ï¼š ä¸€ä¸ªå®žéªŒçš„ä¸åŒéƒ¨åˆ†åœ¨ä¸åŒæ—¶é—´å®Œæˆï¼› ä¸€ä¸ªå®žéªŒçš„ä¸åŒéƒ¨åˆ†ç”±ä¸åŒçš„äººå®Œæˆï¼› è¯•å‰‚ç”¨é‡ä¸åŒã€èŠ¯ç‰‡ä¸åŒã€å®žéªŒä»ªå™¨ä¸åŒï¼› å°†è‡ªå·±æµ‹çš„æ•°æ®ä¸Žä»Žç½‘ä¸Šä¸‹è½½çš„æ•°æ®æ··åˆä½¿ç”¨ï¼› â€¦â€¦ äºŒã€æ£€æµ‹æ‰¹æ¬¡æ•ˆåº”ç›¸å…³åå˜é‡å·²çŸ¥æ—¶ï¼Œç›´æŽ¥èšç±»è§‚å¯Ÿç»“æžœæ˜¯å¦å’Œç›¸åº”åå˜é‡ç›¸å…³ã€‚æ··åˆæ•°æ®å› ä¸ºå®žéªŒæ¡ä»¶è¿¥å¼‚ï¼Œä¸€èˆ¬æ‰¹æ¬¡æ•ˆåº”éƒ½å¾ˆå¤§ã€‚ ä»¥Rä¸ºä¾‹ï¼Œé€šè¿‡èšç±»æ£€éªŒæ˜¯å¦å­˜åœ¨æ‰¹æ¬¡æ•ˆåº”ã€‚è¯·å…ˆæŸ¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹æ•°æ®é›†ã€‚12345678# t() è½¬ç½®å‡½æ•°# dist() è·ç¦»å‡½æ•°ï¼šæŒ‰ç…§æŒ‡å®šè§„åˆ™æ±‚è¡Œå‘é‡é—´çš„è·ç¦»ï¼Œå› æ­¤è¦è½¬ç½®&gt; dist_mat &lt;- dist(t(edata))&gt; clustering &lt;- hclust(dist_mat) # hclust çš„è¾“å…¥ç»“æž„ä¸Ž dist ç›¸åŒï¼# æŒ‰ç…§æ‰¹æ¬¡ä¿¡æ¯èšç±»&gt; plot(clustering, labels = pheno$batch)# æŒ‰ç…§æ˜¯å¦æ˜¯æ­£å¸¸ç»†èƒžèšç±»&gt; plot(clustering, labels = pheno$cancer) èšç±»ç»“æžœå¦‚ä¸‹ï¼šå·¦è¾¹çš„çº¢è‰²æ¡†æ¡†æ˜¯æ­£å¸¸ç»†èƒžä¸­æ··å…¥çš„ç™Œç»†èƒžï¼Œå³è¾¹è“è‰²æ¡†æ¡†ä¸­æ˜¯ç™Œç»†èƒžä¸­æ··å…¥çš„æ­£å¸¸ç»†èƒžã€‚ è¿˜æœ‰è®¸å¤šæ£€éªŒæ‰¹æ¬¡æ•ˆåº”çš„çš„æ–¹æ³•ï¼Œè¿™ç¯‡æ–‡ç« ç»™å‡ºäº†å¤šç§æ£€éªŒæ–¹å¼ï¼š å›¾åˆ†æžï¼šåŒæŸ±çŠ¶å›¾ã€QQå›¾ã€ç®±çº¿å›¾ã€å—å›¾ã€â€¦ å®šé‡åˆ†æžï¼šFæ£€éªŒã€åŒæ ·æœ¬tæ£€éªŒã€â€¦ ä¸‰ã€å¤„ç†å®žéªŒæ¡ä»¶å…è®¸çš„æ¡ä»¶ä¸‹ï¼Œåº”è¯¥ä¼˜åŒ–å®žéªŒè®¾è®¡ï¼Œå°†å¼•èµ·æ‰¹æ¬¡æ•ˆåº”çš„åå˜é‡é‡‡æ ·åˆ†æ•£å¼€æ¥ã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽæ—¶é—´æ‰¹æ¬¡æ•ˆåº”ï¼Œå®žéªŒçš„ä¸åŒéƒ¨åˆ†åº”è¯¥åœ¨å„ä¸ªæ—¶é—´å†…å‡åŒ€é‡‡æ ·ã€‚è¿™å«â€œæ²»ç—…å°±æ²»æœ¬â€ã€‚ ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹å®žéªŒæ¡ä»¶ä¸å…è®¸ï¼Œå¦‚æžœå¤Ÿå¹¸è¿çš„è¯æ‰¹æ¬¡æ•ˆåº”ç›¸å…³çš„åå˜é‡å·²ç»è¢«è®°å½•ä¸‹æ¥äº†ï¼Œæ­¤æ—¶å¯¹æ‰¹æ¬¡æ•ˆåº”è¿›è¡ŒéªŒè¯ï¼Œç„¶åŽä½¿ç”¨ç»Ÿè®¡æ¨¡åž‹è¿‡æ»¤ï¼›å¦‚æžœååˆ†ä¸å¹¸ï¼Œæ‰¹æ¬¡æ•ˆåº”ç›¸å…³çš„åå˜é‡æ²¡æœ‰è¢«è®°å½•æˆ–è€…ä¸æ˜Žæ˜¾ï¼Œæˆ‘ä»¬å°±éœ€è¦å€ŸåŠ©ç›¸å…³å·¥å…·çŒœä¸€ä¸‹å“ªä¸ªå˜é‡å¯èƒ½é€ æˆäº†æ‰¹æ¬¡æ•ˆåº”ï¼Œç„¶åŽä½¿ç”¨ç»Ÿè®¡æ¨¡åž‹è¿‡æ»¤ã€‚å‰è€…å«å‚æ•°åŒ–æ–¹æ³•ï¼ŒåŽè€…å«éžå‚æ•°åŒ–æ–¹æ³•ã€‚ 1.å¯¼å…¥ç¤ºä¾‹æ•°æ®é›†bladderbatchåŒ…bladderbatchåŒ…åŒ…å«äº†ä¸€é¡¹è†€èƒ±ç™Œç ”ç©¶ä¸­ç›¸å…³çš„57ä¸ªæ ·æœ¬çš„åŸºå› è¡¨è¾¾æ•°æ®ï¼Œè¿™äº›æ•°æ®å·²ç»ä½¿ç”¨RMAæ ‡å‡†åŒ–ï¼Œå¹¶ä¸”å·²ç»æŒ‰ç…§ç›¸å…³åè®®è¿›è¡Œäº†é¢„å¤„ç†ã€‚ å¦å¤–é˜…è¯»Ræ–‡æ¡£æˆ‘ä»¬å‘çŽ°ï¼š eSetæ˜¯ä¸€ä¸ªåŒ…å«é«˜é€šé‡å®žéªŒå…ƒæ•°æ®çš„ä¸€ä¸ªç±»ï¼Œå®ƒä¸èƒ½ç›´æŽ¥è¢«å®žä¾‹åŒ–ã€‚ pDataæ–¹æ³•åœ¨ç±»eSetä¸­è¢«å®šä¹‰ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®¿é—®æ•°æ®çš„å…ƒæ•°æ®ï¼ˆæ³¨é‡Šä¿¡æ¯ï¼‰ã€‚ ExpressionSetç»§æ‰¿è‡ªeSetï¼ŒåŒæ ·æ˜¯ä¸€ä¸ªé«˜é€šé‡æµ‹åºæ•°æ®çš„å®¹å™¨ï¼Œç”±&gt; * biobaseåŒ…å¼•å…¥ï¼Œå°è£…äº†è¡¨è¾¾çŸ©é˜µå’Œæ ·æœ¬åˆ†ç»„ä¿¡æ¯ã€‚è¡¨è¾¾çŸ©é˜µå­˜å‚¨åœ¨exprsä¸­ã€‚ bladderbatchæ•°æ®é›†æ˜¯ï¼ˆç±»ä¼¼ï¼‰ExpressionSetç±»åž‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨pData()åŠ è½½å…ƒæ•°æ®ï¼Œä½¿ç”¨exprs()åŠ è½½è¡¨è¾¾è°±æ•°æ®ã€‚bladderbatchæ•°æ®é›†ç”¨æ¥æ¼”ç¤ºå¦‚ä½•æ ¡æ­£æ‰¹æ¬¡æ•ˆåº”ã€‚ ä¸‹è½½å’ŒåŠ è½½æ•°æ®é›†123456789101112## 1.å®‰è£…å¹¶åŠ è½½æ•°æ®é›†&gt; BiocInstaller::biocLite("bladderbatch")&gt; library(bladderbatch) # æˆ–è€… library("bladderbatch", character.only=TRUE)## 2.æŸ¥çœ‹å½“å‰å¯ç”¨æ•°æ®é›†&gt; data()## 3.æ£€æŸ¥æ˜¯å¦æœ‰å¦‚ä¸‹ä¿¡æ¯Data sets in package â€˜bladderbatchâ€™:bladderEset (bladderdata) Bladder Gene Expression Data Illustrating Batch Effects## åŠ è½½æ•°æ®é›†&gt; data(bladderdata) # å®žé™…åŠ è½½è¿›æ¥çš„æ•°æ®é›†åå­—å«åš bladderEset !&gt; pheno &lt;- pData(bladderEset) # ä½¿ç”¨ pData åŠ è½½å…ƒæ•°æ®/æ³¨é‡Šä¿¡æ¯&gt; edata &lt;- exprs(bladderEset) # ä½¿ç”¨ exprs åŠ è½½æ•°æ® phenoå¦‚ä¸‹æ‰€ç¤ºï¼šæ ·æœ¬çš„æ‰¹æ¬¡ä¿¡æ¯å­˜å‚¨ä½œä¸ºå…ƒæ•°æ®å­˜å‚¨åœ¨pheno$batchä¸­ï¼ˆRä¸­ä½¿ç”¨$è®¿é—®å¯¹è±¡çš„å±žæ€§ï¼‰ã€‚ edataå¦‚ä¸‹æ‰€ç¤ºï¼šä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªæ ·æœ¬ï¼ˆç»†èƒžï¼‰ï¼ŒåŽé¢æ±‚è·ç¦»éœ€è¦è½¬ç½®ã€‚ 2.Rä¸­çš„svaåŒ…svaç”¨äºŽç§»é™¤é«˜é€šé‡æµ‹åºæ•°æ®ä¸­çš„æ‰¹æ¬¡æ•ˆåº”ä»¥åŠå…¶å®ƒæ— å…³å˜é‡çš„å½±å“ã€‚ svaåŒ…å«ç”¨äºŽæ ‡è¯†å’Œæž„å»ºé«˜ç»´æ•°æ®é›†ï¼ˆä¾‹å¦‚åŸºå› è¡¨è¾¾ã€RNAæµ‹åº/ç”²åŸºåŒ–/è„‘æˆåƒæ•°æ®ç­‰å¯ä»¥ç›´æŽ¥è¿›è¡ŒåŽç»­åˆ†æžçš„æ•°æ®ï¼‰ä»£ç†å˜é‡çš„å‡½æ•°ã€‚ä»£ç†å˜é‡æ˜¯ç›´æŽ¥ä»Žé«˜ç»´æ•°æ®æž„å»ºçš„åå˜é‡ï¼Œå¯ä»¥åœ¨åŽç»­åˆ†æžä¸­ç”¨äºŽè°ƒæ•´æœªçŸ¥çš„ã€æœªå»ºæ¨¡çš„æˆ–æ½œåœ¨çš„å™ªéŸ³æºã€‚ ä»£ç†å˜é‡ï¼ˆsurrogate/proxy variableï¼‰: A variable that can be measured (or is easy to measure) that is used in place of one that cannot be measured (or is difficult to measure). For example, whereas it may be difficult to assess the wealth of a household, it is relatively easy to assess the value of a house. See also proxy variable. (from Oxford Reference)ä»£ç†å˜é‡åˆ†æžï¼ˆSurrogate Variable Analysisï¼‰ï¼šClick here svaä»Žä¸‰ä¸ªæ–¹é¢æ¶ˆé™¤äººä¸ºè®¾è®¡é€ æˆçš„å½±å“ï¼š ä¸ºæœªçŸ¥å˜å¼‚æºæž„é€ ä»£ç†å˜é‡ï¼›(Leek and Storey 2007 PLoS Genetics, 2011 Pharm Stat.) ä½¿ç”¨ComBatç›´æŽ¥ç§»é™¤å·²çŸ¥çš„æ‰¹æ¬¡æ•ˆåº”ï¼›(Johnson et al. 2007 Biostatistics) ä½¿ç”¨å·²çŸ¥çš„æŽ§åˆ¶æŽ¢é’ˆ(known control probes)ç§»é™¤æ‰¹æ¬¡æ•ˆåº”ï¼›(Leek 2014 biorXiv)ç§»é™¤æ‰¹æ¬¡æ•ˆåº”å’Œä½¿ç”¨ä»£ç†å˜é‡å¯ä»¥å‡å°‘ä¾èµ–æ€§ï¼Œç¨³å®šé”™è¯¯çŽ‡ä¼°è®¡å€¼ï¼Œæé«˜é‡çŽ°æ€§ã€‚ æŸ¥çœ‹svaåœ¨çº¿æ–‡æ¡£ã€‚ &gt; å·²è®°å½•æ‰¹æ¬¡ä¿¡æ¯å½“æ‰¹æ¬¡åå˜é‡å·²çŸ¥æ—¶ï¼ˆå³æ¯ä¸ªæ ·æœ¬åˆ†å±žäºŽå“ªä¸€ä¸ªæ‰¹æ¬¡è®°å½•åœ¨æ•°æ®é›†çš„å…ƒæ•°æ®ä¸­ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨svaçš„ComBatæ ¡æ­£æ‰¹æ¬¡æ•ˆåº”ã€‚ComBatä½¿ç”¨å‚æ•°ï¼ˆparametricï¼‰æˆ–è€…éžå‚æ•°ï¼ˆnon-parametricï¼‰çš„ç»éªŒè´å¶æ–¯æ¡†æž¶ï¼ˆEmpirical Bayes Frameworksï¼‰è¿›è¡Œæ‰¹æ¬¡æ•ˆåº”çš„æ ¡æ­£ã€‚ å…ˆçœ‹ComBatçš„ç”¨æ³•ï¼šæ‘˜è‡ªå®˜æ–¹æ–‡æ¡£12345&gt; ComBat(dat, batch, mod=NULL, par.prior = TRUE, prior.plots = FALSE)# dat: åŸºå› ç»„æµ‹é‡çŸ©é˜µï¼ˆæŽ¢é’ˆç»´åº¦ X æ ·æœ¬æ•°ï¼‰ï¼ŒæŽ¢é’ˆç»´åº¦ä¾‹å¦‚markeræ•°ã€åŸºå› æ•°.....ï¼Œä¾‹å¦‚è¡¨è¾¾è°±çŸ©é˜µ# batch: æ‰¹æ¬¡åå˜é‡ï¼Œåªèƒ½ä¼ å…¥ä¸€ä¸ªæ‰¹æ¬¡åå˜é‡ï¼# mod: è¿™æ˜¯ä¸€ä¸ªæ¨¡å¼çŸ©é˜µï¼Œé‡Œé¢åŒ…å«äº†æˆ‘ä»¬æ„Ÿå…´è¶£çš„å˜é‡ï¼# par.prior: åŸºäºŽå‚æ•°/éžå‚æ•°ï¼Œé»˜è®¤ä¸ºåŸºäºŽå‚æ•° æœ‰äº†èƒŒæ™¯çŸ¥è¯†æˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œè†€èƒ±ç™Œæ•°æ®çš„æ‰¹æ¬¡æ ¡æ­£ï¼š123456&gt; pheno$hasCancer &lt;- pheno$cancer == "Cancer"# æˆ–è€… &gt; pheno$hasCancer &lt;- as.numeric(pheno$cancer == "Cancer")&gt; model &lt;- model.matrix(~hasCancer, data=pheno)&gt; combat_edata &lt;- ComBat(dat = edata, batch = pheno$batch, mod = model)# è¿™é‡Œçš„ mod å‚æ•°å°±æ¯”è¾ƒæœ‰æ„æ€äº†ï¼Œå®ƒè®°å½•çš„æ˜¯æˆ‘ä»¬æ„Ÿå…´è¶£çš„å˜é‡ã€‚å› ä¸ºåˆæ¬¡æŽ¥è§¦Råªèƒ½è‚¤æµ…ç†è§£ä¸€ä¸‹ã€‚# å®ƒåº”è¯¥æ˜¯ä¸€ä¸ªæˆ‘ä»¬æœŸæœ›æ ·æœ¬èƒ½è¢«æ­£ç¡®èšç±»æ‰€ä¾æ®çš„åå˜é‡ï¼Œå®ƒæ€»æ˜¯æ•°å€¼åž‹å˜é‡ model.matrix(...)çš„è¯¦ç»†è§£é‡Šè§è¿™é‡Œã€‚ ç”»å›¾ï¼š1234&gt; dist_mat_combat &lt;- dist(t(combat_edata))&gt; clustering_combat &lt;- hclust(dist_mat_combat, method = "complete")&gt; plot(clustering, labels = pheno$batch)&gt; plot(clustering, labels = pheno$cancer)) æˆ‘ä»¬å‘çŽ°æ‰¹æ¬¡æ•ˆåº”è¢«ç§»é™¤äº†ï¼š &gt; æ²¡æœ‰è®°å½•æ‰¹æ¬¡ä¿¡æ¯çœ‹è¿™é‡Œ 3.Rä¸­çš„beråŒ…berçš„å…¨ç§°å°±æ˜¯batch effects removalï¼Œä½¿ç”¨&gt; install.packages(&quot;ber&quot;)å®‰è£…beråŒ…ï¼ŒæŸ¥çœ‹ç”¨æˆ·æ‰‹å†Œã€‚ è¿™ä¸ªåŒ…é‡Œæœ‰6ä¸ªå‡½æ•°ï¼Œå®ƒä»¬çš„ä½œç”¨å°±æ˜¯æ ¡æ­£å¾®é˜µåˆ—æ ‡å‡†æ•°æ®ä¸­çš„æ‰¹æ¬¡æ•ˆåº”ã€‚æ ‡å‡†æ•°æ®æŒ‡çš„æ˜¯ï¼šè¾“å…¥çŸ©é˜µæ¯ä¸€è¡Œä»£è¡¨ç‹¬ç«‹çš„æ ·æœ¬ï¼Œæ¯ä¸€åˆ—ä»£è¡¨åŸºå› ï¼›æ‰¹æ¬¡ä¿¡æ¯ä½œä¸ºå·²çŸ¥çš„åˆ†ç±»å˜é‡ï¼›æœŸæœ›å˜é‡å¯ä»¥å¤§å¤§æé«˜æ‰¹æ¬¡æ•ˆåº”æ ¡æ­£çš„æ•ˆçŽ‡ã€‚ berr(Y, b, covariates = NULL) using a two-stage regression approach (M. Giordan. February 2013) ber_bg(Y, b, covariates = NULL,partial=TRUE,nSim=150) using a two-stage regression approach and bagging (M. Giordan. February 2013) combat_p(Y, b, covariates = NULL, prior.plots=T) using a parametric empirical Bayes approach (n Johnson et al. 2007) combat_np(Y, b, covariates = NULL) using a non-parametric empirical Bayes approach (n Johnson et al. 2007) mean_centering(Y, b) using the means of the batches standardization(Y, b) using the means and the standard deviations of the batches ä¸Šè¡¨ä¸­çš„ï¼š Yæ˜¯è¾“å…¥çŸ©é˜µï¼ˆæ ·æœ¬æ•° $n{\times}g$ æŽ¢é’ˆæ•°ï¼‰ bæ˜¯ $n$ ç»´åˆ†ç±»1å‘é‡ï¼Œæ¯ä¸ªåˆ†é‡å¯¹åº”ç€æ¯ä¸ªæ ·æœ¬çš„æ‰¹æ¬¡ä¿¡æ¯ covariatesæ˜¯ä¸€ä¸ª $n$ è¡Œçš„data.frameå®žä¾‹ ä¸Šé¢çš„6ä¸ªå‡½æ•°éƒ½éœ€è¦æŒ‡å®šbï¼Œæ‰€ä»¥å®ƒä»¬éƒ½æ˜¯ç”¨æ¥å¤„ç†æ‰¹æ¬¡ä¿¡æ¯è¢«è®°å½•çš„æƒ…å½¢çš„ï¼Œå¯¹äºŽå¯å‘æ€§çš„æ ¡æ­£è²Œä¼¼æ²¡æå‡ºè§£å†³æ–¹æ¡ˆã€‚ 4.Rä¸­çš„RUVSeqåŒ…RUVSeq means Remove Unwanted Variation from RNA-Seq Data, which shows us how to conduct a differential expression (DE) analysis that controls for â€œunwanted variationâ€, e.g., batch, library preparation, and other nuisance effects, using the between-sample normalization methods proposed in Risso et al. (2014). RUVç®—æ³•åŸºæœ¬åŽŸç†å‚è€ƒè¿™é‡Œï¼ŒåŽŸæ–‡åœ¨è¿™é‡Œã€‚ 5. Rä¸­çš„BatchQCåŒ…BatchQCå·¥å…· å››ã€FAQ æ ‡å‡†åŒ–ï¼ˆnormalizationï¼‰å¯ä»¥æ¶ˆé™¤æ‰¹æ¬¡æ•ˆåº”å—ï¼Ÿ åªèƒ½ç¼“è§£ï¼Œä¸èƒ½æ¶ˆé™¤ã€‚ äº”ã€å…¶å®ƒèµ„æ–™Stanfordå¤§å­¦MOOCå…¬å¼€è¯¾è®²ä¹‰ï¼šPH525x series - Biomedical Data Science TCGA Batch Effects Viewer From BioMedSearch: Removing batch effects in analysis of expression microarray data: an evaluation of six batch adjustment methods.]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[model.matrix(...)]]></title>
    <url>%2FR%2F20190319-1548.html</url>
    <content type="text"><![CDATA[Rä¸­çš„æ¨¡åž‹çŸ©é˜µå‡½æ•°ã€‚ åˆ†ç±»å˜é‡åˆ†ç±»å˜é‡ï¼ˆFactorsï¼‰ï¼šRä¸­ç”¨æ¥å­˜å‚¨åˆ†ç±»æ•°æ®çš„ç±»åˆ«ä¿¡æ¯ã€‚12345678910&gt; f = factor(c('a','b','a','c'))# æ£€æŸ¥å˜é‡æ˜¯å¦æ˜¯åˆ†ç±»å˜é‡ï¼ˆå› å­ï¼‰&gt; class(f)[1] "factor"# æŸ¥çœ‹åˆ†ç±»å˜é‡ä¸­æœ‰å“ªäº›ç±»åˆ«&gt; levels(f)[1] "a" "b" "c"# æŸ¥çœ‹åˆ†ç±»å˜é‡ä¸­æœ‰å‡ ç±»&gt; nlevels(f)[1] 3 å“‘å˜é‡è™šæ‹Ÿå˜é‡/å“‘å˜é‡ï¼ˆdummy variableï¼‰ï¼šé‡åŒ–éžæ•°å€¼ç±»åž‹çš„å˜é‡ï¼Œé€šå¸¸å–0/1ã€‚ä¾‹å¦‚ï¼Œè¡¡é‡ä¸€ä¸ªäººçš„æ€§åˆ«ï¼šç”· -&gt; 1ï¼Œå¥³ -&gt; 0ã€‚ è§£é‡Šå˜é‡è§£é‡Šå˜é‡ï¼ˆexplanatory variableï¼‰ï¼šå•çº¯ä»Žæ•°ç†è§’åº¦æ¥çœ‹ï¼Œè§£é‡Šå˜é‡ç­‰åŒäºŽæŽ§åˆ¶å˜é‡/è‡ªå˜é‡ï¼Œä¸Žä¹‹ç›¸å¯¹çš„æ˜¯è¢«è§£é‡Šå˜é‡ï¼ˆååº”å˜é‡/å› å˜é‡ï¼‰ã€‚REF è®¾è®¡çŸ©é˜µè®¾è®¡çŸ©é˜µï¼ˆdesign matrixï¼‰ï¼šåˆå«æ¨¡åž‹çŸ©é˜µï¼ˆmodel matrixï¼‰æˆ–è€…å›žå½’çŸ©é˜µï¼ˆregressor matrixï¼‰ã€‚ç”±è§£é‡Šå˜é‡å€¼ç»„æˆçš„çŸ©é˜µï¼šä¸€è¡Œä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„è§‚æµ‹å¯¹è±¡ï¼ˆæ ·æœ¬ï¼‰ï¼Œä¸€åˆ—ä»£è¡¨å¯¹åº”çš„å˜é‡ï¼ˆç‰¹å¾å€¼ã€å…ƒæ•°æ®ï¼‰ï¼Œé€šå¸¸è®°ä¸º$X$ã€‚ç®€å•ç†è§£ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„è¾“å…¥çŸ©é˜µï¼Œå¯ä»¥æ˜¯å…ƒæ•°æ®çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°æ®çš„ã€‚ model.matrix(â€¦)å®šä¹‰ï¼š1234# S3 method for default model.matrix(object, data = environment(object), contrasts.arg = NULL, xlev = NULL, â€¦)# å‡½æ•°ä¾æ® object åˆ›å»ºè®¾è®¡çŸ©é˜µï¼ŒçŸ©é˜µçš„åˆ›å»ºå¿…é¡»å€ŸåŠ©äºŽæ•°æ®é›† data# data å¿…é¡»èƒ½æä¾›ä¸Ž object ç›¸åŒåå­—çš„å˜é‡ï¼ ä»¥è†€èƒ±ç™ŒåŽ»æ‰¹æ¬¡æ•ˆåº”ä¸ºä¾‹ï¼Œå…ƒæ•°æ®å½¢å¼å¦‚ä¸‹ ä¸‹é¢æ˜¯éƒ¨åˆ†åˆ—å¤„ç†åŽçš„ç»“æžœï¼š123456789101112131415161718192021222324252627&gt; model &lt;- model.matrix(~batch, data = pheno) (Intercept)batchGSM71019.CEL 1 3GSM71020.CEL 1 2# pheno$batch æ˜¯æ•°å€¼åž‹å˜é‡ï¼Œç›¸å½“äºŽæå–åˆ—# æ­¤æ—¶æ–°çš„å˜é‡åä»ç„¶æ˜¯ batch#---------------------------------------------------------------------&gt;model &lt;- model.matrix(~cancer, data = pheno) (Intercept) cancerCancer cancerNormalGSM71019.CEL 1 0 1GSM71020.CEL 1 0 1# pheno$cancer è¢«å¤„ç†æˆåˆ†ç±»å˜é‡ï¼Œæ¯ä¸€ç±»å°†å•ç‹¬ä½œä¸ºåˆ—ï¼ˆå“‘å˜é‡ï¼‰ï¼Œå–å€¼ä¸º0/1# æ­¤æ—¶æ–°çš„å˜é‡åä¸º cancerCancer å’Œ cancerNormal#---------------------------------------------------------------------&gt; model &lt;- model.matrix(~cancer=="Cancer", data = pheno) (Intercept) cancer == "Cancer"TRUEGSM71019.CEL 1 0GSM71020.CEL 1 0# cancer=="Cancer" æ˜¯ä¸€ä¸ª logical ç±»åž‹# è¿™ç§å†™æ³•æžä¸ä¼˜é›…ï¼æˆ‘ä»¬åº”è¯¥å…ˆå®šå¥½åå­—&gt; pheno$hasCancer &lt;- pheno$cancer == "Cancer"&gt; model &lt;- model.matrix(~hasCancer, data=pheno) (Intercept) hasCancerGSM71019.CEL 1 0GSM71020.CEL 1 0]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿä¿¡åˆ†æžå·¥å…·-SCENIC]]></title>
    <url>%2Fbioinfo%2F20190315-94a8.html</url>
    <content type="text"><![CDATA[SCENIC: Single-cell regulatory network inference and clustering åŸºäºŽregulon(TF-&gt;targets)æž„å»ºGRNsï¼ŒåŸºäºŽGRNså¯ä»¥è¿›è¡Œç»†èƒžèšç±»ã€‚ ä¸Žå…¶è¯´æ˜¯ç®—æ³•ï¼Œä¸å¦‚è¯´SCENICæ˜¯ç»„åˆç®—æ³•çš„ä¸€ä¸ªæµç¨‹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 1. åŸºå› æ•°æ®è¿‡æ»¤å…±è¡¨è¾¾åˆ†æžä¹‹å‰éœ€è¦å¯¹åŸºå› æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œæœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š 1.æ ¹æ®æ¯ä¸ªåŸºå› çš„readsæ•°ç›®ç§»é™¤å¯ä¿¡åº¦ä½Žæˆ–è€…å°†äº§ç”Ÿè¾ƒå¤§å™ªå£°çš„åŸºå› ã€‚readsæ•°ç›®çš„é˜ˆå€¼ä¸Žæ•°æ®é›†çš„å¤§å°æœ‰å…³ï¼Œä»¥ä¸‹æ˜¯åŽŸæ–‡è¡¨è¿°ï¼š3 UMI counts (slightly over the median of the nonzero values) multiplied by 1% of the number of cells in the dataset (e.g. in mouse brain: 3 UMI counts x 30 (1% of cells) = minimum 90 counts per gene). 2.æ ¹æ®å¯æ£€æµ‹åˆ°æŸä¸ªåŸºå› çš„ç»†èƒžæ•°ç›®è¿‡æ»¤æŽ‰åªåœ¨ä¸€ä¸ªç»†èƒžæˆ–è€…æžå°‘é‡ç»†èƒžä¸­è¡¨è¾¾çš„åŸºå› ï¼Œç»†èƒžæ•°ç›®çš„é˜ˆå€¼è®¾å®šå‚è€ƒåŽŸæ–‡ï¼šset a percentage lower than the smallest population of cells to be detected. For example, since microglia cells represent approximately 3% of the total cells in the dataset, we used a detection threshold of at least 1% of the cells. 2. å…±è¡¨è¾¾åˆ†æžä»…ä»…å€ŸåŠ©å…±è¡¨è¾¾åˆ†æž(co-expression analysis)(GENIE3æˆ–è€…GRNBoost)å¾—åˆ°regulonsçš„è¡¨è¾¾æƒ…å†µï¼ˆGRNsï¼‰ã€‚ä¸€ä¸ªregulonç”±ä¸€ä¸ªTFå’Œå®ƒè°ƒæŽ§çš„é¶åŸºå› ç»„æˆã€‚å½“æ•°æ®é›†éžå¸¸å¤§æ—¶GENIE3çš„è¿è¡Œé€Ÿåº¦å°†ä¼šå˜å¾—éžå¸¸æ…¢ï¼Œæ­¤æ—¶ä½¿ç”¨GRNBoostæ›¿æ¢GENIE3èƒ½å¤§å¤§åŠ å¿«è®¡ç®—é€Ÿåº¦ã€‚ ä½†æ˜¯ï¼Œå…±è¡¨è¾¾åˆ†æžå­˜åœ¨è®¸å¤šå‡é˜³æ€§ç»“æžœï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™äº›å®žé™…ä¸Šä¸å­˜åœ¨çš„TF-é¶åŸºå› é…å¯¹ï¼Œå› æ­¤éœ€è¦ä¸‹ä¸€æ­¥çš„åŸºåºå¯Œé›†åˆ†æžã€‚ GENIE3GENIE3çš„æ ¸å¿ƒç®—æ³•æ˜¯éšæœºæ£®æž—å›žå½’æ¨¡åž‹ã€‚éšæœºæ£®æž—èƒ½å¤Ÿå¤„ç†éžçº¿æ€§å…±è¡¨è¾¾å…³ç³»ã€‚é’ˆå¯¹ä¸åŒçš„TFè®­ç»ƒä¸åŒçš„æ¨¡åž‹ï¼Œè¿™äº›æ¨¡åž‹ç”¨äºŽè®¡ç®—ç›¸åº”TFçš„æƒé‡ï¼Œè¿™äº›æƒé‡å¯ä»¥ç”¨æ¥è¡¡é‡å®ƒä¸Žé¶åŸºå› å…±è¡¨è¾¾çš„å¼ºåº¦ã€‚ è¾“å…¥ï¼šä¸€ä¸ªåŸºå› è¡¨è¾¾çŸ©é˜µï¼ŒçŸ©é˜µçš„æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªç»†èƒžçš„ä¸åŒåŸºå› ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªåŸºå› åœ¨ä¸åŒç»†èƒžé‡Œçš„è¡¨è¾¾é‡ã€‚çŸ©é˜µçš„å…ƒç´ å¯ä»¥æ˜¯UMIè®¡æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒæŒ‡æ ‡ï¼Œä¾‹å¦‚TPM (Transcripts Per Million)ã€FPKM/RPKMç­‰ç­‰ã€‚è¾“å…¥çŸ©é˜µåº”é¿å…è¿›è¡Œæ ‡å‡†åŒ–æˆ–å½’ä¸€åŒ–å¤„ç†ï¼Œè¿™æ ·ä¼šäººä¸ºçš„å¼•å…¥å¤šä½™çš„åæ–¹å·®ã€‚ è¾“å‡ºï¼šä¸€å¼ ä¸‰åˆ—è¡¨ï¼Œåˆ†åˆ«ä»£è¡¨TFã€é¶åŸºå› ã€æƒé‡ï¼ˆTFé¶å‘ç›®æ ‡åŸºå› çš„å¯ä¿¡åº¦ï¼‰ GRNBoost Spark RDDï¼šRisilient Distributed Datasets å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®åº“å¹¿æ’­å˜é‡(Broadcast Variable)ï¼šå°†åªè¯»å˜é‡å¹¿æ’­åˆ°å„ä¸ªèŠ‚ç‚¹ä»¥ä¾›è¯»å–ï¼Œé¿å…å˜é‡åœ¨ä»»åŠ¡é—´è¿›è¡Œä¼ é€’ã€‚å˜é‡è¢«å¹¿æ’­ä¹‹åŽåº”é¿å…è¢«ä¿®æ”¹ã€‚ GRNBoostä½œä¸ºGENIE3åœ¨å¤§æ•°æ®é›†ä¸‹çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå®ƒä»ç„¶æŽ¥å—GENIE3çš„åŸºæœ¬æ€æƒ³ï¼šä»…ä»ŽåŸºå› è¡¨è¾¾æ•°æ®ä¸­æŽ¨æ–­GRNsã€‚ ç®—æ³•æ–¹é¢ï¼ŒGRNBoostä½¿ç”¨äº†XGBooståº“ä¸­çš„GBM (Gradient Boosting Machines)ã€‚GBMæ˜¯ä¸€ç§ç»“åˆå¤šç§å¼±å­¦ä¹ å™¨ã€ä»¥æå‡å­¦ä¹ ä½œä¸ºåŸºæœ¬ç­–ç•¥çš„é›†æˆå­¦ä¹ æ–¹æ³•ã€‚ç›¸å¯¹äºŽéšæœºæ£®æž—ï¼ŒGBMä½¿ç”¨äº†baggingè‡ªåŠ©èšåˆè¿›è¡Œæ¨¡åž‹çš„å¹³å‡ä»¥æé«˜å›žå½’å‡†ç¡®åº¦ã€‚ ç„¶è€Œï¼ŒGRNBoostçš„ä¸»è¦è´¡çŒ®æ˜¯åŸºäºŽSparkå®žçŽ°äº†å¤šå›žå½’å¹¶è¡Œè®¡ç®—ã€‚è½¯ä»¶è¾“å…¥æ˜¯åŸºå› è¡¨è¾¾å‘é‡ï¼ˆä¸€ç³»åˆ—åŸºå› å’Œä¸€ä¸ªè½¬å½•å› å­è¡¨è¾¾é‡ç»„æˆçš„å‘é‡ï¼Ÿï¼‰ã€‚GRNBoosté¦–å…ˆå°†åŸºå› è¡¨è¾¾å‘é‡åˆ†å‘ç»™é›†ç¾¤çš„å„ä¸ªèŠ‚ç‚¹ï¼Œç„¶åŽæž„å»ºä¸€ä¸ªåŸºäºŽè¡¨è¾¾æ•°æ®å…¨é›†çš„é¢„æµ‹çŸ©é˜µã€‚ç„¶åŽä½¿ç”¨å¹¿æ’­å˜é‡ï¼ˆBroadcast Variableï¼‰å°†è¿™ä¸ªé¢„æµ‹çŸ©é˜µå¹¿æ’­åˆ°å„ä¸ªèŠ‚ç‚¹ï¼ŒæŽ¥ä¸‹æ¥è¿›è¡ŒMap/Reduceåˆ†å¸ƒå¼è®¡ç®—ã€‚ Mapé˜¶æ®µï¼šåŸºäºŽåŸºå› è¡¨è¾¾å‘é‡ä½¿ç”¨é¢„æµ‹å™¨è®­ç»ƒXGBoostå›žå½’æ¨¡åž‹ã€‚åŸºäºŽè®­ç»ƒçš„æ¨¡åž‹ï¼ŒTFå’Œé¶åŸºå› çš„é¶å‘å¼ºåº¦å°†ä»¥ç½‘ç»œçš„è¾¹çš„å½¢å¼å‘ˆçŽ°å‡ºæ¥ã€‚ Reduceé˜¶æ®µï¼šæ•´åˆæ‰€æœ‰çš„è¾¹å½¢æˆæœ€ç»ˆçš„GRNsã€‚ 3. åŸºåºå¯Œé›†åˆ†æžåŸºåºå¯Œé›†åˆ†æž(motif enrichment analysis)ä½¿ç”¨çš„å·¥å…·æ˜¯RcisTargetï¼Œå®ƒèƒ½æ‰¾åˆ°å…±è¡¨è¾¾åˆ†æžçš„å‡é˜³æ€§ç»“æžœã€‚åˆ é™¤è¿™äº›å‡é˜³æ€§ç»“æžœå°±èƒ½å¾—åˆ°æ­£ç¡®çš„GRNs (Gene Regulatory Networks)ã€‚ RcisTarget æ˜¯ i-cisTarget å’Œ iRegulon åŸºåºå¯Œé›†æ¡†æž¶çš„ R/Bioconductor å®žçŽ°ã€‚ ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š é€‰æ‹©åœ¨åŸºå› çš„è½¬å½•èµ·å§‹ä½ç‚¹ï¼ˆTSSï¼‰é™„è¿‘æ˜Žæ˜¾é«˜è¡¨è¾¾çš„DNAåŸºåºThis is achieved by applying a recovery-based method on a database that contains genome-wide cross-species rankings for each motif. å®žçŽ°æ–¹æ³•ï¼šåœ¨åŸºåºå…¨åŸºå› ç»„è·¨ç‰©ç§æŽ’åæ•°æ®åº“ä¸Šä½¿ç”¨recoveryæ–¹æ³•ä¿ç•™é‚£äº›å¯ä»¥æ³¨é‡Šåˆ°TFå¹¶ä¸”æ ‡å‡†å¯Œé›†åˆ†æ•°(Normalized Enrichment Score, NES)å¤§äºŽ3.0çš„åŸºåº2.å¯¹äºŽæ¯ä¸ªåŸºåºå’ŒåŸºå› é›†ï¼ŒRcisTargeté¢„æµ‹å€™é€‰é¶åŸºå› ï¼ˆå¦‚åœ¨åŸºå› é›†ä¸­æŽ’åˆ—åœ¨å‰ç¼˜ä»¥ä¸Šçš„åŸºå› ï¼‰æ–¹æ³•è¯¦æƒ…è§å¼•ç”¨[32]ï¼Œæ­¤æ–¹æ³•åœ¨i-cisTarget&amp;iRegulonä¸­å‡æœ‰å®žçŽ°ï¼Œå› æ­¤ä½¿ç”¨RcisTargetå¾—åˆ°çš„ç»“æžœä¸Ži-cisTarget&amp;iRegulonçš„ç»“æžœä¸€è‡´ ä¸ºäº†æž„å»ºæœ€ç»ˆçš„è°ƒæŽ§å­ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæœ‰åŸºåºå¯Œé›†çš„TFæ¨¡å—é¢„æµ‹çš„é¶åŸºå› è¿›è¡Œå½’å¹¶ã€‚ä¸Šé¢é’ˆå¯¹çš„æ˜¯æ­£è°ƒæŽ§ï¼Œå¯¹äºŽæŠ‘åˆ¶ï¼Œä»ç„¶å¯ä»¥å¯¹è´Ÿç›¸å…³çš„TFæ¨¡å—åšç›¸åŒçš„å¤„ç†ï¼›ä½†æ˜¯æˆ‘ä»¬çš„åˆ†æžä¸­ï¼Œè¿™ç±»æ¨¡å—è¾ƒå°‘ã€‚åŸºäºŽä¸Šè¿°äº‹å®žï¼Œæœ¬å®žéªŒä¹‹ç ”ç©¶æ­£ç›¸å…³ï¼Œä¸ç ”ç©¶è´Ÿç›¸å…³æœ¬æ–‡ä½¿ç”¨çš„æ•°æ®é›†ï¼šthe â€œ18k motif collectionâ€ from iRegulon (gene-based motif rankings) for human and mouseTSSæœç´¢ç©ºé—´ï¼š10kb around the TSS or 500bp upstream the TSS 4. AUCellæ‰“åˆ†The relative scores of each regulon across the cells allow identifying which cells have a significantly high sub-network activityç»†èƒžçš„è°ƒèŠ‚å­æ‰“åˆ†å®¹è®¸æˆ‘ä»¬è¯†åˆ«å“ªäº›ç»†èƒžå…·æœ‰æ˜Žæ˜¾çš„é«˜å­ç½‘ç»œæ´»æ€§ï¼Ÿï¼Ÿï¼Ÿç»“æžœæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ´»æ€§çŸ©é˜µï¼Œå¯ç”¨äºŽä¸‹æ¸¸åˆ†æžâ€”â€”å¯¹æ­¤çŸ©é˜µçš„èšç±»å¯ç”¨äºŽç»†èƒžç±»åž‹æˆ–è€…ç»†èƒžçŠ¶æ€çš„è¯†åˆ«ï¼ŒåŸºäºŽè°ƒæŽ§å­ç½‘ç»œçš„æ´»æ€§å…±äº«ã€‚å¯¹æŠ—dropoutså¢žå¼ºé²æ£’æ€§ï¼šå¯¹è°ƒèŠ‚å­æ•´ä½“è¿›è¡Œæ‰“åˆ†ï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç‰¹å®šçš„è½¬å½•å› å­æˆ–è€…å•ä¸ªåŸºå› ã€‚ åŸºäºŽå•ç»†èƒžæµ‹åºæ•°æ®ï¼Œä»Žæ´»åŒ–çš„GRNsä¸­é‰´å®šç»†èƒžè¾“å…¥æ˜¯ä¸€ä¸ªåŸºå› é›†ï¼Œè¾“å‡ºä¸ºæ¯ä¸ªç»†èƒžä¸­åŸºå› é›†çš„æ´»æ€§ï¼ˆAUCæŒ‡æ ‡ï¼‰åœ¨SCENICä¸­ï¼Œè¿™äº›åŸºå› é›†è¡¨çŽ°ä¸ºregulonsï¼Œæ¯ä¸ªè°ƒæŽ§å­ç”±ä¸€ä¸ªTFå’Œå®ƒå¯¹åº”çš„é¶åŸºå› ç»„æˆAUCell calculates the enrichment of the regulon as an area under the recovery curve (AUC) across the ranking of all genes in a particular cell, whereby genes are ranked by their expression value.å°†AUCåŒºåŸŸé¢ç§¯ä½œä¸ºregulonçš„å¯Œé›†é‡ï¼Œè¯¥åŒºåŸŸåŒ…å«äº†ç‰¹å®šç»†èƒžä¸­æ‰€æœ‰åŸºå› çš„æŽ’åºã€‚This method is therefore independent of the gene expression units and the normalization procedure.å› ä¸ºæ˜¯åœ¨å•ä¸ªç»†èƒžä¸Šè¿›è¡Œæ£€éªŒï¼Œå› æ­¤å¾ˆå®¹æ˜“å¯ä»¥åº”ç”¨åˆ°å¤§æ•°æ®é›† â€”â€”AUCellç”¨æ¥ä¼°è®¡æ¯ä¸ªç»†èƒžä¸­æ¯ä¸ªregulonçš„æ´»æ€§ï¼Œé€šè¿‡è®¡ç®—æ¢å¤æ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ•´åˆäº†æ¯ä¸ªreguloné‡Œæ‰€æœ‰æŽ’åˆ—çš„åŸºå› çš„ä¿¡æ¯â€”â€”AUCæ‰“åˆ†ï¼ˆä¸Šé¢è®¡ç®—å‡ºæ¥çš„ï¼‰é€šè¿‡è®¾å®šé˜ˆå€¼æž„å»ºRegulon Activity Matrixï¼Œç”¨æ¥åˆ¤å®šå“ªäº›ç»†èƒžé‡Œçš„regulonå¤„äºŽonçŠ¶æ€â€”â€”å·¦å›¾æ¨ªåæ ‡æ˜¯ä¸€ä¸ªregulonçš„é¶åŸºå› çš„æŽ’åˆ—ï¼Œçºµåæ ‡æ˜¯ä»Žè¾“å…¥æ•°æ®é›†ä¸­æ•°å‡ºæ¥çš„åŸºå› æ•°ç›®ç„¶åŽï¼ŒAUCellä½¿ç”¨â€œæ›²çº¿ä¸‹é¢ç§¯â€(AUC)è®¡ç®—è¾“å…¥åŸºå› é›†ä¸­çš„ä¸€ä¸ªå…³é”®å­é›†æ˜¯å¦åœ¨æ¯ä¸ªç»†èƒžçš„æŽ’åé¡¶éƒ¨å¯Œé›†ã€‚AUCè¡¨ç¤ºè¡¨è¾¾åŸºå› åœ¨ç‰¹å¾ä¸­çš„æ¯”ä¾‹ä»¥åŠç›¸å¯¹äºŽç»†èƒžå†…å…¶ä»–åŸºå› çš„ç›¸å¯¹è¡¨è¾¾å€¼è¿™ä¸€éƒ¨çš„è¾“å‡ºæ˜¯ä¸€ä¸ªçŸ©é˜µï¼šæ¯ä¸€ä¸ªç»†èƒžçš„æ¯ä¸€ä¸ªåŸºå› é›†çš„AUCåˆ†æ•°ä½¿ç”¨ç»†èƒžä¸­çš„ä¸€ç³»åˆ—regulonçš„AUCå€¼è¿›è¡Œç»†èƒžçš„èšç±»ï¼Œæˆ–è€…ä½¿ç”¨å¤„ç†è¿‡çš„äºŒå€¼çŸ©é˜µâ€”â€”äºŒå€¼çŸ©é˜µï¼šè‡ªåŠ¨ or æ‰‹åŠ¨â€”â€”ä¸‹å›¾æ˜¯AUCåˆ†å¸ƒçš„å‡ ä¸ªä¾‹å­ 5. åŸºäºŽGRNsçš„ç»†èƒžèšç±»AUC activity matrixï¼šæ¯ä¸ªç»†èƒžä¸­æ¯ä¸ªregulonçš„AUCå€¼ï¼Œè¿žç»­å€¼regulon activity matrixï¼šä¸Šé¢çŸ©é˜µäºŒå€¼åŒ–çš„ç»“æžœï¼Œ01çŸ©é˜µå¯è§†åŒ–ï¼šä¸»è¦ç”¨t-SNEã€å±‚æ¬¡èšç±»çš„çƒ­å›¾æŽ¢ç©¶ç»“æžœçš„å…¶ä»–å¯é€‰é¡¹â€”â€” t-SNEçš„é«˜å¯†åº¦åŒºåŸŸ =&gt; æœ€å¯èƒ½çš„ç¨³å®šçŠ¶æ€â€”â€” é‰´å®škey regulatorsâ€”â€” åŸºäºŽæ•°æ®åº“æ³¨é‡Šäº†è§£ç»†èƒžå±žæ€§â€”â€” GO terms (regulonå†…çš„åŸºå› å¯Œé›†åˆ†æž) æ“çºµå­ï¼ˆoperonï¼‰ï¼šåŒ…å«äº†æ“çºµåŸºå› çš„æ ¸è‹·é…¸åºåˆ—ï¼Œè¢«æŸä¸ªå¯åŠ¨å­æŽ§åˆ¶ï¼Œå¯¹åº”ä¸€ç»„å—æ“çºµåŸºå› è°ƒæŽ§çš„åŸºå› è°ƒèŠ‚å­ï¼ˆregulonï¼‰ï¼šå¯¹åº”å—æŸä¸ªèµ·è°ƒèŠ‚ä½œç”¨çš„è›‹ç™½è´¨è°ƒèŠ‚çš„ä¸€ç»„åŸºå› åˆºæ¿€å­ï¼ˆstimulonï¼‰ï¼šå¯¹åº”æŸç±»èµ·è°ƒèŠ‚ä½œç”¨çš„ç»†èƒžè°ƒèŠ‚çš„ä¸€ç»„åŸºå›  å¼•ç”¨Nat Methods. 2017 Nov;14(11):1083-1086. doi: 10.1038/nmeth.4463. Epub 2017 Oct 9.SCENIC: Single-cell regulatory network inference and clusteringAibar S1,2, GonzÃ¡lez-Blas CB1,2, Moerman T3,4, Huynh-Thu VA5, Imrichova H1,2, Hulselmans G1,2, Rambow F6,7, Marine JC6,7, Geurts P5, Aerts J3,4, van den Oord J8, Atak ZK1,2, Wouters J1,2,8, Aerts S1,2. &gt;&gt;&gt; SCENIC]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
      <tags>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿä¿¡åˆ†æžå·¥å…·-RaceID2+StemID]]></title>
    <url>%2Fbioinfo%2F20190315-98e6.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯æ•°æ®åˆ†æžæ—¶è¦å¤„ç†çš„å™ªå£°ä¸ä»…æ¥è‡ªå®žéªŒè¯¯å·®å’Œæµ‹é‡è¯¯å·®ï¼ŒåŸºå› è¡¨è¾¾å’Œå°‘é‡mRNAçš„æ‰©å¢žéƒ½ä¼šäº§ç”Ÿä¸€å®šçš„å™ªå£°ã€‚å…¶ä¸­æ¥è‡ªç”Ÿç‰©è¿‡ç¨‹çš„å™ªå£°å¯ä»¥é€šè¿‡å¤§é‡æµ‹åºæ¥ç¼“å’Œã€‚ å¦‚æžœæ ¹æ®æŸä¸€æ—¶åˆ»çš„è½¬å½•è¡¨è¾¾æƒ…å†µæŽ¨æ–­ç»†èƒžç³»è°±ç»“æž„ä¸€ç›´æ˜¯ä¸€ä¸ªä¸¥å³»çš„æŒ‘æˆ˜ã€‚ä½œè€…è‚¯å®šäº†Wanderlustç®—æ³•çš„è®¾è®¡æ€æƒ³ï¼Œä½†æ˜¯åŒæ—¶å¯¹å…¶è®¾è®¡çš„æ‹“æ‰‘ç»“æž„çš„åˆç†æ€§è¡¨ç¤ºæ€€ç–‘ï¼Œå¹¶æå‡ºäº†è‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚ RaceID2ç®—æ³•æ—¨åœ¨ï¼šåŸºäºŽå•ç»†èƒžè½¬å½•ç»„æ•°æ®ï¼Œé€šè¿‡èšç±»é‰´å®šå‡ºå¹²ç»†èƒž StemIDç®—æ³•æ—¨åœ¨ï¼šåˆ©ç”¨RaceID2çš„èšç±»ç»“æžœï¼Œæž„å»ºç³»è°±æ ‘ ç®—æ³•ç®—æ³•åœ¨å°è‚ çš„Lgr5+ç»†èƒžã€éª¨é«“é€ è¡€å¹²ç»†èƒžä¸Šå­¦ä¹ ï¼Œåœ¨äººç±»èƒ°è…ºå¤šèƒ½å¹²ç»†èƒžä¸Šæµ‹è¯•ã€‚Lgr5+å°é¼ è‚ é“å¹²ç»†èƒžç¾¤çš„åˆ†åŒ–è¿‡ç¨‹ç ”ç©¶å·²ç»å‘è¡¨ï¼Œä½œä¸ºç®—æ³•å­¦ä¹ çš„åŸºç¡€æ•°æ®é›†ã€‚ RaceIDæ­¤å¤„å˜€å‘ä½œè€…2015å¹´å‘è¡¨çš„è®ºæ–‡ RaceID2ä½œè€…å¯¹è‡ªå·±å·²ç»å‘è¡¨çš„RaceIDç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼šRaceIDä½¿ç”¨K-meansè¿›è¡Œèšç±»ï¼Œå› æ­¤æ±‚æ‰€æœ‰æ ·æœ¬å¹³å‡å€¼çš„åšæ³•ä½¿å¾—RaceIDå¯¹å¼‚å¸¸å€¼ååˆ†æ•æ„Ÿï¼ŒåŒæ—¶RaceIDä½¿ç”¨é—´éš”ç»Ÿè®¡é‡ï¼ˆGap Statistics, GSï¼‰ç¡®å®šåˆ†ç±»ä¸ªæ•°ï¼›ä½†æ˜¯ä½œè€…è®¤ä¸ºè¿™ç§æ–¹æ³•å¹¶ä¸ç†æƒ³ï¼Œå› æ­¤åœ¨RaceID2ä¸­æ”¹ç”¨K-medoidsæ–¹æ³•èšç±»ï¼Œå¹¶ä¸”ä¾æ®ç±»å†…æ•£å¸ƒé¥±å’Œä¸´ç•Œå€¼ä¸ºä¾æ®ç¡®å®šåˆ†ç±»ä¸ªæ•°ã€‚K-medoidsèšç±»æ–¹æ³•ä½¿ç”¨ç±»ä¼¼äºŽä¸­ä½æ•°çš„æ–¹æ³•ç¡®å®šèšç±»ä¸­å¿ƒï¼Œä¸ŽK-meansä¸åŒï¼Œå®ƒçš„èšç±»ä¸­å¿ƒå§‹ç»ˆäº§ç”Ÿåœ¨æ ·æœ¬ç‚¹ä¸Šã€‚ RaceID2æ˜¯ä¸€ç§æ”¹è¿›çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå°†å¤§é‡ç»†èƒžè¿›è¡Œèšç±»ï¼Œä»Žè€Œç¡®å®šä¸åŒç»†èƒžç¾¤/äºšç¾¤çš„åˆ†ç•Œçº¿ã€‚ StemIDStemIDæ˜¯ä¸€ç§ç³»è°±å›¾æŽ¨å¯¼æ–¹æ³•ï¼ŒStemIDçš„ç³»è°±å›¾æŽ¨å¯¼åŸºäºŽRaceID2çš„èšç±»ç»“æžœã€‚ ä¸‹é¢æ˜¯ä»ŽåŽŸæ–‡æ‘˜å½•çš„ç®—æ³•æµç¨‹å›¾ï¼š å›¾Aæ˜¯RaceID2çš„èšç±»ç»“æžœï¼Œå…¶èšç±»ä¸­å¿ƒéƒ½åœ¨æ ·æœ¬ç‚¹ä¸Šã€‚ è¿™é‡Œå…ˆä»‹ç»ä½œè€…ç»™å‡ºçš„ä¸€ä¸ªæ„Ÿæ€§å‡è®¾ï¼šæ¯ä¸ªèŠ‚ç‚¹ $k$ (ä¸€ä¸ªç»†èƒž)é™¤äº†å±žäºŽè‡ªèº«çš„ç¬¬ $i$ ç±»å¤–ï¼Œå®ƒè¿˜å°†è¿žæŽ¥åˆ°ä¸€ä¸ªå…¶å®ƒçš„æŸä¸ªç±» $j$ ï¼Œè¿™ä¸ªç±» $j$ å®žé™…æ„ä¹‰ç­‰åŒäºŽå¦ä¸€ä¸ªçš„ç»†èƒžç¾¤/äºšç¾¤ï¼Œç»†èƒž $k$ å°†å€¾å‘äºŽæœç»†èƒžç¾¤ $j$ åˆ†åŒ–ã€‚ å¦‚å›¾Aæ‰€ç¤ºï¼ŒCluster 1çš„èšç±»ä¸­å¿ƒæ˜¯ $m_i$ï¼Œè¿™é‡Œ $i=1$ï¼Œå°† $m_i$ ä¸Žå…¶å®ƒæ‰€æœ‰èšç±»ä¸­è¿›è¡Œè¿žæŽ¥ï¼ˆå¦‚å›¾Aé»‘è‰²çŸ¢é‡ï¼‰ã€‚ç¬¬ $i$ ç±»ä¸­çš„èŠ‚ç‚¹ $k$ï¼ˆè“è‰²çŸ¢é‡ç®­å¤´å¤„ï¼‰ä¸Žç±»ä¸­å¿ƒ $m_i$ ç»„æˆäº†ä¸€ä¸ªå‘é‡ï¼ˆå¦‚å›¾Aè“è‰²çŸ¢é‡ï¼‰ã€‚è“è‰²çŸ¢é‡å°†åœ¨æ‰€æœ‰é»‘è‰²çŸ¢é‡ä¸Šäº§ç”Ÿä¸€ä¸ª æŠ•å½±ã€‚æˆ‘ä»¬å–ä¸Ž æœ€å¤§æŠ•å½±é•¿åº¦ ç›¸å¯¹åº”çš„é‚£ä¸ªå¤–ç±»ä½œä¸º æ„Ÿæ€§å‡è®¾ ä¸­é™ˆè¿°çš„æ½œåœ¨åˆ†åŒ–æ–¹å‘ã€‚ å¦‚å›¾B2æ‰€ç¤ºï¼Œå°†æ‰€æœ‰èŠ‚ç‚¹è½¬æ¢æˆåˆ°ä¹‹ç›¸å¯¹åº”çš„æŠ•å½±ä½ç½®ï¼Œæ­¤æ—¶æ‰€æœ‰èŠ‚ç‚¹éƒ½å°†è½åˆ°ç”±èšç±»ä¸­å¿ƒç»„æˆçš„ç½‘ç»œä¸Šã€‚ æ­¤ç½‘ç»œå°±æ˜¯StenIDç®—æ³•æ‰€æž„å»ºçš„ç³»è°±æ ‘æ¡†æž¶ã€‚ ç»™ç½‘ç»œçš„è¾¹æ‰“åˆ†ï¼šæ˜ å°„åŽä¸åŒè¾¹ä¸Šç‚¹çš„åˆ†å¸ƒæ˜¯ä¸åŒçš„ï¼Œå¯¹äºŽæŸæ¡è¾¹ $L$ ä¸Šçš„ä»»æ„ä¸¤ç‚¹ $r_i$ å’Œ $r_j$ï¼Œå®šä¹‰æ‰“åˆ†å…¬å¼ï¼š $$score=1-\max_{i,j{\in}L}{||r_i-r_j||}$$ å½“ $score{\to}0$ æ—¶è¯´æ˜Žè¯¥è¾¹ä¸Šæ‰€æœ‰ç‚¹éžå¸¸ç´§å¯†çš„é è¿‘èšç±»ä¸­å¿ƒã€‚ på€¼è®¡ç®—ï¼šé‡å¤é‡‡æ ·ï¼Œç•¥ ç»†èƒžçš„ç†µå¾—è®¡ç®—ï¼šç•¥ ä¸è¶³ä½œè€…è‡ªå·±åˆ†æžäº†ä¸€ä¸‹ï¼Œåœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µå‡ºçŽ°æ—¶ç®—æ³•å¯èƒ½ä¸å¤ªçµå…‰ï¼š å‡ºçŽ°ä¸­é—´è¿‡æ¸¡æ€ç»†èƒžçš„æ ·æœ¬ç¼ºå¤±ï¼› å‡ºçŽ°ä¸ç›´æŽ¥å…³è”çš„ç»†èƒžã€‚ å¼•ç”¨Cell Stem Cell. 2016 Aug 4;19(2):266-277. doi: 10.1016/j.stem.2016.05.010. Epub 2016 Jun 23.De Novo Prediction of Stem Cell Identity using Single-Cell Transcriptome DataGrÃ¼n D1, Muraro MJ2, Boisset JC2, Wiebrands K2, Lyubimova A2, Dharmadhikari G3, van den Born M2, van Es J2, Jansen E2, Clevers H4, de Koning EJP3, van Oudenaarden A5. githubï¼šStemIDomicXï¼šstemid-tool]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
      <tags>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿä¿¡åˆ†æžå·¥å…·-Wanderlust]]></title>
    <url>%2Fbioinfo%2F20190315-643b.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä»¥äººç±»Bç»†èƒžä¸ºä¾‹ï¼Œç¡®å®šæ¯ä¸ªç»†èƒžåœ¨ç›¸åº”ç»†èƒžè¿‡ç¨‹ï¼ˆä¾‹å¦‚ç»†èƒžåˆ†åŒ–ï¼‰ä¸­çš„å…ˆåŽé¡ºåºã€‚ ç®—æ³•è¾“å…¥ï¼šç®—æ³•çš„è¾“å…¥æ˜¯ä¸€ä¸ª $M{\times}N$ çš„çŸ©é˜µï¼Œå…¶ä¸­ $M$ æ˜¯ç»†èƒžæ•°é‡ï¼Œ$N$ æ˜¯é€‰å–çš„markeræ•°é‡ã€‚æ¯ä¸ªmarkerçš„ä¸°åº¦ç”±è´¨è°±æµå¼ç»†èƒžæŠ€æœ¯(Mass Cytometry)æµ‹å®šã€‚ è¾“å‡ºï¼šæ¯ä¸ªç»†èƒžçš„è·¯å¾„æ‰“åˆ†ã€‚æ­¤æ‰“åˆ†å€¼ä»‹äºŽ0~1ä¹‹é—´ï¼š0è¡¨ç¤ºè·¯å¾„èµ·ç‚¹ç»†èƒžï¼Œ1ä»£è¡¨è·¯å¾„ç»ˆç‚¹ç»†èƒžã€‚ Wanderlustå®žé™…ä¸Šå°±æ˜¯æœ€è¿‘é‚»å›¾(Nearest Neighbour Graph)ä¸ŽEMç®—æ³•çš„ç»„åˆã€‚ ä¸‹å›¾æ˜¯æ‘˜è‡ªåŽŸæ–‡çš„ç®—æ³•æµç¨‹ï¼š å›¾Aæ˜¯è¾“å…¥æ•°æ®çš„å½¢è±¡è¡¨ç¤ºã€‚ 1.å‡­å…ˆéªŒçŸ¥è¯†ç¡®å®šä¸€ä¸ªèµ·å§‹èŠ‚ç‚¹ï¼ˆå›¾Bçº¢è‰²èŠ‚ç‚¹ï¼‰ï¼Œéšæœºç¡®å®š $nl$ ä¸ªè·¯æ ‡èŠ‚ç‚¹ï¼ˆå›¾Bç´«è‰²èŠ‚ç‚¹ï¼‰ ä¸ºä»€ä¹ˆè®¾ç½®è·¯æ ‡èŠ‚ç‚¹ï¼Ÿè·¯æ ‡èŠ‚ç‚¹èµ·åˆ°ç¼“å†²å™ªå£°å¹²æ‰°çš„ä½œç”¨ã€‚ç›¸å¯¹äºŽèµ·å§‹ç‚¹ï¼Œå…·æœ‰æ›´å°çš„æœ€çŸ­è·¯å¾„è·ç¦»ï¼ˆShortest Path Distanceï¼‰ã€‚è€Œéšæœºé€‰å–å¯ä»¥æŽ’é™¤äº†å…ˆéªŒçŸ¥è¯†çš„å½±å“ã€‚ 2.æž„å»ºk-NNGï¼Œè¯¥å›¾ä»¥é‚»æŽ¥çŸ©é˜µçš„æ–¹å¼è¿›è¡Œå­˜å‚¨ï¼Œè®¡ç®—ç›¸è¿žèŠ‚ç‚¹é—´çš„è·ç¦»ï¼Œå¯é€‰çš„è·ç¦»å®šä¹‰æœ‰æ¬§å¼è·ç¦»ã€ä½™å¼¦è·ç¦»ã€â€¦â€¦ 3.NNGä¸‹é‡‡æ ·ï¼šä»Žè¿™ä¸ªk-NNGæž„é€ å‡º $l$ ä¸ªl-k-NNGã€‚ç®—æ³•åªåœ¨å­å›¾ä¸Šè¿­ä»£è¿è¡Œï¼Œæœ€åŽå–å‡å€¼ä½œä¸ºæœ€ç»ˆç»“æžœã€‚ ä¸ºä»€ä¹ˆé‡‡æ ·æˆå­å›¾è¿›è¡Œè®¡ç®—ï¼Ÿå‰é¢æž„é€ çš„k-NNGå®žé™…ä¸ŠåŒ…å«äº†è®¸å¤šä¸Žå®žé™…æƒ…å†µä¸ç¬¦çš„è¿žæŽ¥ï¼Œå³â€œå‡è¾¹â€ã€‚è¿›ä¸€æ­¥çš„éšæœºä¸‹é‡‡æ ·ä½¿å¾—è¿™äº›â€œå‡è¾¹â€åœ¨å­å›¾ä¸­å‡ºçŽ°ä¸€å®šç¨‹åº¦çš„ç¼ºå¤±ï¼Œè¿™å°†å¢žå¼ºæ¨¡åž‹çš„é€‚åº”èƒ½åŠ›ï¼ˆé²æ£’æ€§ï¼‰ã€‚ å¯¹äºŽæ¯ä¸ªå­å›¾è¿›è¡Œè¿­ä»£ä¼˜åŒ–ï¼š 4.åˆå§‹åŒ–æ¯ä¸ªèŠ‚ç‚¹ï¼ˆç»†èƒžï¼‰çš„è·¯å¾„æ‰“åˆ†ï¼›èµ·å§‹èŠ‚ç‚¹ä¸º0ï¼Œç»ˆæ­¢èŠ‚ç‚¹ä¸º1ï¼Œä¸­é—´èŠ‚ç‚¹çš„åˆå§‹æ‰“åˆ†ä¸ºè¯¥èŠ‚ç‚¹åˆ°èµ·å§‹èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„è·ç¦»ã€‚æœ€çŸ­è·¯å¾„è·ç¦»é€šè¿‡Dijkstraç®—æ³•è®¡ç®—ã€‚ åˆå§‹åŒ–ä¸¤èŠ‚ç‚¹è¿žæŽ¥çš„æ–¹å‘ï¼šè·ç¦»èµ·å§‹èŠ‚ç‚¹è·¯å¾„æ‰“åˆ†å°çš„èŠ‚ç‚¹ä½œä¸ºä¸Šæ¸¸èŠ‚ç‚¹ã€‚ 5.å¯¹æ¯ä¸ªç›®æ ‡èŠ‚ç‚¹ $t$ å’Œæ¯ä¸ªè·¯æ ‡èŠ‚ç‚¹ $l$ é—´çš„è·ç¦»è¿›è¡Œæ‰“åˆ†ï¼š $$w_{l,t}=\frac{d(l,t)^2}{\sum_m{d(l,m)^2}}$$ è¿™ä¸ªæ‰“åˆ†æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿå°šæœªçŸ¥æ™“ 6.è®¡ç®—æ¯ä¸ªç›®æ ‡èŠ‚ç‚¹ $t$ çš„è·¯å¾„æ‰“åˆ†ï¼Œå³è¯¥ç›®æ ‡èŠ‚ç‚¹åˆ°æ‰€æœ‰è·¯æ ‡èŠ‚ç‚¹è·ç¦»çš„åŠ æƒå¹³å‡ï¼š $$traj_t=\frac1{nl}\sum_l{w_{l,t}d(l,t)}$$ 7.æ ¹æ®è®¡ç®—å‡ºæ¥çš„è·¯å¾„æ‰“åˆ†è®¡ç®—æ–°çš„æ–¹å‘ã€‚ 8.é‡å¤æ­¥éª¤567ç›´åˆ°è·¯å¾„æ‰“åˆ†æ”¶æ•›ã€‚ å¼•ç”¨Cell. 2014 Apr 24;157(3):714-25. doi: 10.1016/j.cell.2014.04.005.Single-cell trajectory detection uncovers progression and regulatory coordination in human B cell development.Bendall SC1, Davis KL2, Amir el-AD3, Tadmor MD3, Simonds EF4, Chen TJ5, Shenfeld DK3, Nolan GP6, Peâ€™er D7.]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
      <tags>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[win10ç³»ç»Ÿæ¿€æ´»]]></title>
    <url>%2Fos%2F20190301-83a5.html</url>
    <content type="text"><![CDATA[æ™šä¸Šæ‰“å¼€å…¬å¸å‘çš„ä¸ªäººç”µè„‘ï¼Œæ¡Œé¢å³ä¸‹è§’çš„â€œæ¿€æ´»windowsâ€æç¤ºååˆ†éš¾å—ï¼Œé‚ä¸Šç½‘äº†ä¸€ä¸‹æ¿€æ´»æ–¹æ³•ã€‚ Win + X é€‰æ‹©å‘½ä»¤æç¤ºç¬¦(ç®¡ç†æº)æ‰“å¼€cmd ä¸‰è¡Œå‘½ä»¤æ¿€æ´»ï¼š1234567891011121314//Win10ä¸“ä¸šç‰ˆ(2019å¹´3æœˆ26æ—¥æµ‹è¯•å¯ç”¨)slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GXslmgr /skms kms.03k.orgslmgr /ato//Win10ä¼ä¸šç‰ˆslmgr /ipk NPPR9-FWDCX-D2C8J-H872K-2YT43slmgr /skms kms.03k.orgslmgr /ato //Win10å®¶åº­ç‰ˆslmgr /ipk TX9XD-98N7V-6WMQ6-BX7FG-H8Q99slmgr /skms kms.03k.orgslmgr /ato Win10æ¿€æ´»å¯†é’¥keyæ¿€æ´»æ¬¡æ•°æœ‰é™åˆ¶ï¼Œä¸èƒ½ä¿è¯100%æ¿€æ´»æˆåŠŸã€‚ 2019å¹´3æœˆæœ€æ–°å¯ç”¨KMSæ¿€æ´»æœåŠ¡å™¨åœ°å€ KMSä¸€é”®æ¿€æ´»æœåŠ¡ KMSä¸€å¥å‘½ä»¤æ¿€æ´»windows/office]]></content>
      <categories>
        <category>os</category>
      </categories>
      <tags>
        <tag>win10</tag>
        <tag>æ¿€æ´»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç›‘ç£å­¦ä¹ -å¹¿ä¹‰çº¿æ€§æ¨¡åž‹01-æ™®é€šæœ€å°äºŒä¹˜æ³•]]></title>
    <url>%2Fml%2F20190225-724a.html</url>
    <content type="text"><![CDATA[çº¿æ€§æ¨¡åž‹ï¼šè¾“å‡ºæ˜¯è¾“å…¥çš„çº¿æ€§ç»„åˆï¼Œå³ï¼š $$y(w,x)=w_0+w_1x_1+\cdots+w_px_p$$ åœ¨sklearnä¸­ï¼Œå˜é‡ coef_ å­˜å‚¨å‘é‡ $w=(w_1,\cdots,w_p)$ï¼Œå˜é‡ intercept_ å­˜å‚¨ $w_0$ã€‚ 1from sklearn import linear_model çº¿æ€§å›žå½’æ™®é€šæœ€å°äºŒä¹˜æ³•(Ordinary Least Squares)å°±æ˜¯ç®€å•çš„è®¡ç®—æ®‹å·®å’Œï¼š $$min_w{||Xw-y||_2}^2$$ è¿™ä¸ªç®—æ³•å«åš çº¿æ€§å›žå½’(Linear Regression): 123from sklearn import linear_modelestimator = linear_model.LineaRegression(...) ç®€å•çš„çº¿æ€§å›žå½’åªåœ¨è¾“å…¥Xæ•°æ®é›†çš„å„ç‰¹å¾ä¹‹é—´çº¿æ€§ä¸ç›¸å…³æ—¶è¡¨çŽ°è‰¯å¥½ã€‚ å½“Xçš„ç‰¹å¾çº¿æ€§ç›¸å…³æ—¶ï¼Œä¼°è®¡ç»“æžœå—éšæœºè¯¯å·®å½±å“å¤§ï¼Œæ­¤æ—¶å°±éœ€è¦è¿›è¡Œæ¨¡åž‹çš„çŸ«æ­£ã€‚ è„Šå›žå½’/å²­å›žå½’å½“ç‰¹å¾é—´ å…±çº¿æ€§ï¼ˆCollinearityï¼‰å…³ç³»è¾ƒå¼ºæ—¶ï¼Œè„Šå›žå½’ï¼ˆRidge Regressionï¼‰å¯ä»¥ä½¿æ¨¡åž‹å…·æœ‰æ”¶ç¼©èƒ½åŠ›ã€‚ è¿™é€šè¿‡ç»™çº¿æ€§å›žå½’æ·»åŠ L2æ­£åˆ™é¡¹å®žçŽ°ï¼š $$min_w{||Xw-y||_2}^2+\alpha{||w||_2}^2ï¼Œå…¶ä¸­\alpha\le0$$ 1234from sklearn import linear_model# æŒ‡å®šå…³é”®è¶…å‚æ•°Î±çš„å€¼estimator = linear_model.Ridge(alpha=0.5) å¯¹äºŽÎ±ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰éªŒè¯è¿›è¡Œæœ€ä¼˜è§£æœç´¢ï¼š 12345from sklearn import linear_model# ç»™å®šÎ±çš„å–å€¼èŒƒå›´ï¼Œé»˜è®¤å€¼å¦‚ä¸‹# cvæŒ‡å®šäº¤å‰éªŒè¯çš„æŠ˜æ•°ï¼Œé»˜è®¤å¦‚ä¸‹ï¼Œé»˜è®¤ä½¿ç”¨ç•™ä¸€äº¤å‰éªŒè¯ï¼ˆLeave-One-Out CVï¼‰estimator = linear_model.RidgeCV(alpha=[0.1, 1.0, 10.0], cv=None) LassoLassoæ˜¯ç”¨æ¥ä¼°è®¡ç¨€ç–ç³»æ•°çš„çº¿æ€§æ¨¡åž‹ï¼Œå’Œå…¶å˜å¼‚ä½“å¹¿æ³›ç”¨äºŽè¯­ä¹‰åŽ‹ç¼©é¢†åŸŸï¼Ÿ $$min_w\frac1{2n_{samples}}{||Xw-y||_2}^2+\alpha||w||_1ï¼Œå…¶ä¸­\alpha\le0$$ 1234from sklearn import linear_model# Î±é»˜è®¤å€¼å¦‚ä¸‹estimator = linear_model.Lasso(alpha=1.0)]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[èŽ·å¾—ä¸€ç»„æ•°çš„å…¨æŽ’åˆ—]]></title>
    <url>%2Fpython%2F20190221-9924.html</url>
    <content type="text"><![CDATA[è‡ªå·±å®žçŽ°çš„pythonå‡½æ•°ã€‚123456789101112131415161718192021222324def permutation(xs): if isinstance(xs,str): def str2charArray(str): charArray = [] for i in str: charArray.append(i) return charArray xs = str2charArray(xs) if len(xs) == 0 or len(xs) == 1: return [xs] result = [] for i in range(0,len(xs)): temp_list = xs[:] temp_list.pop(i) temp = permutation(temp_list) for j in temp: j.insert(0,xs[i]) result.append(j) return result]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[globå†…å»ºæ¨¡å—]]></title>
    <url>%2Fpython%2F20190221-3133.html</url>
    <content type="text"><![CDATA[globæ¨¡å—æ˜¯pythonçš„ä¸€ä¸ªå¾ˆåŸºç¡€ã€å¾ˆç®€å•çš„æ¨¡å—ï¼Œç”¨äºŽåŒ¹é…æ–‡ä»¶è·¯å¾„ã€‚ globè¿™ä¸ªå•è¯æœ¬èº«æœ‰â€œé€šé…ç¬¦â€çš„æ„æ€ï¼Œé€šé…çš„ä¸€ä¸ªå¾ˆå…³é”®çš„åº”ç”¨å°±æ˜¯ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ã€‚ ä¸Žpythonçš„å¦ä¸€ä¸ªä¸“é—¨ç”¨äºŽæ­£åˆ™åŒ¹é…çš„ reæ¨¡å— ä¸åŒï¼Œglobåªéœ€è¦ä¸‰ä¸ªé€šé…ç¬¦ï¼š*ã€ï¼Ÿã€[]ã€‚ ä»¥ä¸‹æ˜¯å¸¸è§çš„åŒ¹é…æƒ…å½¢ï¼š glob.glob(&#39;/a/b/*.txt&#39;): åŒ¹é…ç›®å½• /a/b/ ä¸‹çš„æ‰€æœ‰.txtæ–‡ä»¶ glob.glob(&#39;/a/b/^[xyz]*.txt&#39;): åŒ¹é…ç›®å½• /a/b/ ä¸‹æ‰€æœ‰æ–‡ä»¶åä»¥å­—æ¯xyzä¸­ä»»æ„ä¸€ä¸ªå¼€å§‹çš„æ–‡ä»¶ glob.glob(&#39;/a/*/*.txt&#39;): åŒ¹é…ç›®å½• /a/ ä¸‹æ‰€æœ‰çš„.txtæ–‡ä»¶ æ­¤å¤–ï¼Œglob.glob() æ˜¯ä¸€æ¬¡æŸ¥è¯¢å®Œæ‰€æœ‰ç»“æžœã€‚åœ¨æŸ¥è¯¢ç»“æžœè¾ƒå¤šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ glob.iglob() è¿­ä»£æŸ¥è¯¢ï¼Œglob.iglob() è¿”å›žä¸€ä¸ªç”Ÿæˆå™¨ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pythonæ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[oså†…å»ºæ¨¡å—]]></title>
    <url>%2Fpython%2F20190104-af30.html</url>
    <content type="text"><![CDATA[osæ¨¡å—ç”¨äºŽå¤„ç†æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œç›®å½•ã€‚ å·¥ä½œç›®å½• os.getcwd() å½“å‰è„šæœ¬æ–‡ä»¶çš„å·¥ä½œç›®å½• os.chdir(DIR) åˆ‡æ¢å·¥ä½œç›®å½•è‡³DIRï¼Œé»˜è®¤å·¥ä½œç›®å½•ä¸ºè„šæœ¬æ‰€åœ¨ç›®å½• ç›®å½•çš„å¢žåˆ æŸ¥æ”¹ æ–°å»ºç›®å½• os.mkdir(â€œA/B/â€œ) åˆ›å»ºä¸€ä¸ªç›®å½•A/B/ï¼Œä¸èƒ½é€’å½’åˆ›å»ºï¼Œå³è¦æ±‚ç›®å½•Aå­˜åœ¨ os.makedirs(DIR) åˆ›å»ºä¸€ä¸ªç›®å½•DIRï¼Œä¸Žä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œå¯ä»¥é€’å½’åˆ›å»ºç›®å½• åˆ é™¤ç›®å½• os.rmdir(DIR) å½“ç›®å½•DIRä¸ºç©ºæ—¶åˆ é™¤ç›®å½•ï¼Œä¸ä¸ºç©ºæ—¶æŠ¥é”™ os.removedirs(DIR) å¾…æŸ¥ åˆ—ä¸¾ç›®å½• os.listdir(DIR) åˆ—å‡ºç›´æŽ¥å±žäºŽç›®å½•DIRçš„æ–‡ä»¶å’Œå­ç›®å½• os.walk(DIR) éåŽ†ç›®å½•DIRä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œç›®å½•ï¼Œè¿”å›žç”Ÿæˆå™¨ï¼Œè¿”å›žç»“æžœè¾ƒå¤æ‚ï¼Œå¾…æŸ¥ æ–‡ä»¶å’Œç›®å½•çš„é‡å‘½å os.rename(OLD_NAME, NEW_NAME) os.system(â€œCOMMAMD_STRINGâ€) è°ƒç”¨shellå‘½ä»¤è¿›è¡Œé‡å‘½å è·¯å¾„æ“ä½œ è·¯å¾„ç±»åž‹åˆ¤æ–­ os.path.isfile(PATH) åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶ï¼Œæ˜¯æ–‡ä»¶è¿”å›žTrue os.path.isdir(PATH) åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•ï¼Œæ˜¯ç›®å½•è¿”å›ž True os.path.exists(PATH) åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›ž True os.path.getsize(PATH) æ˜¯æ–‡ä»¶è¿”å›žæ–‡ä»¶å¤§å°ï¼Œæ˜¯ç›®å½•è¿”å›ž0 è·¯å¾„çš„åˆ‡å‰²ã€åˆå¹¶ os.path.split(â€˜1/2/3â€™) åˆ†å‰²æˆç›®å½•å’Œæ–‡ä»¶ï¼Œå¾—åˆ° (&#39;1/2&#39;,&#39;3&#39;) os.path.split(â€˜1/2/3/â€˜) åˆ†å‰²æˆç›®å½•å’Œæ–‡ä»¶ï¼Œå¾—åˆ° (&#39;1/23&#39;,&#39;&#39;) os.splitext(â€˜path/name.txtâ€™) åˆ†å‰²å‡ºæ–‡ä»¶åŽç¼€ï¼Œå¾—åˆ° (&#39;path/name&#39;, &#39;.txt&#39;) è·¯å¾„çš„è¿žæŽ¥ os.path.join(A, B) ä½¿ç”¨é»˜è®¤è·¯å¾„åˆ†å‰²ç¬¦è¿žæŽ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¾—åˆ° &quot;A/B&quot; å¸¸é‡ os.sep æˆ– os.path.sep å½“å‰ç³»ç»Ÿä¸‹æ˜¯ä½¿ç”¨çš„ è·¯å¾„åˆ†å‰²ç¬¦ os.linesep å½“å‰ç³»ç»Ÿä¸‹ä½¿ç”¨çš„ è¡Œç»ˆæ­¢ç¬¦ os.environ å­—å…¸ï¼šçŽ¯å¢ƒå˜é‡]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pythonæ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èŽ·å–å½“å‰æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•]]></title>
    <url>%2Fpython%2F20190103-5c31.html</url>
    <content type="text"><![CDATA[è®°å½•ä¸‹å¸¸ç”¨çš„æ–¹æ³•ã€‚ åˆ©ç”¨osæ¨¡å—12# å½“å‰è„šæœ¬æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼ˆå·¥ä½œç›®å½•ï¼‰os.getcwd() # Get current work directory è¿™ä¸ªæ–¹æ³•ä¸ä¸€å®šå¾—åˆ°æ­£ç¡®ç»“æžœï¼ åˆ©ç”¨å†…å»ºæ•°ç»„sys.argvsys.argv æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼ï¼ˆsys.argv[0]ï¼‰å­˜å‚¨çš„æ°¸è¿œæ˜¯å½“å‰è„šæœ¬æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚ ä»Žè¿™ä¸ªè·¯å¾„ä¸­åŽ»æŽ‰æ–‡ä»¶åå°±æ˜¯å½“å‰è„šæœ¬æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚ 12345import sysimport os# current file directorycur_fdir = os.path.split(sys.argv[0])[0]]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>é’é“œæ´¾æ£®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åšå®¢æ”¹é€ è®¡åˆ’]]></title>
    <url>%2Fcargo%2F20190102-19a0.html</url>
    <content type="text"><![CDATA[æ¯”è¾ƒæœ‰æ„æ€çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚ åšæ–‡ç½®é¡¶ä¿®æ”¹hexo-generator-indexæ’ä»¶ï¼šå¤‡ä»½æ–‡ä»¶node_modules/hexo-generator-index/lib/generator.jså¹¶å°†å…¶ä¸­ä»£ç æ›¿æ¢ä¸ºï¼š123456789101112131415161718192021222324252627282930313233'use strict';var pagination = require('hexo-pagination');module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; // ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰ if(a.top &amp;&amp; b.top) &#123; // è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ if(a.top == b.top) return b.date - a.date; // å¦åˆ™æŒ‰ç…§topå€¼é™åºæŽ’ else return b.top - a.top; &#125; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æŽ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰ else if(a.top &amp;&amp; !b.top) &#123; return -1; &#125; else if(!a.top &amp;&amp; b.top) &#123; return 1; &#125; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ else return b.date - a.date; &#125;); var paginationDir = config.pagination_dir || 'page'; return pagination('', posts, &#123; perPage: config.index_generator.per_page, layout: ['index', 'archive'], format: paginationDir + '/%d/', data: &#123; __index: true &#125; &#125;);&#125;; è®¾ç½®hexo newç”Ÿæˆåšæ–‡æ—¶è‡ªåŠ¨æ·»åŠ topå…ƒæ•°æ®ï¼šå°†top:æ·»åŠ åˆ°æ–‡ä»¶scaffolds\post.md:1234567---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;categories: top: tags:--- è®¾ç½®topå€¼å³å¯ï¼Œtopå€¼è¶Šå¤§ï¼Œæ–‡ç« è¶Šé å‰ fork me on githubæ•ˆæžœå¦‚ä¸‹ï¼š åœ¨themes\next\layout\_layout.swigä¸­æœç´¢&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;æ‰¾åˆ°å¦‚ä¸‹ä½ç½®ï¼š123&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;&lt;!-- è¿™ä¸ªåœ°æ–¹ --&gt;&lt;header id=&quot;header&quot; class=&quot;header&quot; itemscope itemtype=&quot;http://schema.org/WPHeader&quot;&gt; æ·»åŠ ä»£ç ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!-- fork me on github begin --&gt;&lt;!-- é»˜è®¤å¯ç”¨å³ä¸Šè§’å›¾æ ‡ï¼Œéœ€è¦æ¢æˆå·¦ä¸Šè§’è¯·æ›´æ¢æ³¨é‡Šéƒ¨åˆ† --&gt; &lt;!-- å³ä¸Šè§’ --&gt; &lt;a href=&quot;https://github.com/barwe&quot; class=&quot;github-corner&quot; aria-label=&quot;View source on GitHub&quot;&gt; &lt;svg width=&quot;80&quot; height=&quot;80&quot; viewBox=&quot;0 0 250 250&quot; class=&quot;fork-me-on-github&quot; style=&quot;position: absolute; border: 0;&quot; aria-hidden=&quot;true&quot;&gt; &lt;path d=&quot;M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z&quot;&gt;&lt;/path&gt; &lt;path d=&quot;M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2&quot; fill=&quot;currentColor&quot; style=&quot;transform-origin: 130px 106px;&quot; class=&quot;octo-arm&quot;&gt;&lt;/path&gt; &lt;path d=&quot;M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z&quot; fill=&quot;currentColor&quot; class=&quot;octo-body&quot;&gt;&lt;/path&gt; &lt;/svg&gt; &lt;/a&gt; &lt;style&gt; .github-corner:hover .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125; @keyframes octocat-wave&#123;0%,100%&#123;transform:rotate(0)&#125;20%,60%&#123;transform:rotate(-25deg)&#125;40%,80%&#123;transform:rotate(10deg)&#125;&#125; @media (max-width:500px)&#123; .github-corner:hover .octo-arm&#123;animation:none&#125; .github-corner .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125; &#125; &lt;/style&gt; &lt;!-- å·¦ä¸Šè§’ &lt;a href=&quot;https://github.com/barwe&quot; class=&quot;github-corner&quot; aria-label=&quot;View source on GitHub&quot;&gt; &lt;svg width=&quot;80&quot; height=&quot;80&quot; viewBox=&quot;0 0 250 250&quot; class=&quot;fork-me-on-github&quot; style=&quot;position: absolute; border: 0; transform: scale(-1, 1);&quot; aria-hidden=&quot;true&quot;&gt; &lt;path d=&quot;M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z&quot;&gt;&lt;/path&gt; &lt;path d=&quot;M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2&quot; fill=&quot;currentColor&quot; style=&quot;transform-origin: 130px 106px;&quot; class=&quot;octo-arm&quot;&gt;&lt;/path&gt; &lt;path d=&quot;M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z&quot; fill=&quot;currentColor&quot; class=&quot;octo-body&quot;&gt;&lt;/path&gt; &lt;/svg&gt; &lt;style&gt; .github-corner:hover .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125; @keyframes octocat-wave&#123;0%,100%&#123;transform:rotate(0)&#125;20%,60%&#123;transform:rotate(-25deg)&#125;40%,80%&#123;transform:rotate(10deg)&#125;&#125; @media (max-width:500px)&#123; .github-corner:hover .octo-arm&#123;animation:none&#125; .github-corner .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125; &#125; &lt;/style&gt; &lt;/a&gt; --&gt; &lt;!-- fork me on github end --&gt; åœ¨themes\next\source\css\_custom\custom.stylæ–‡ä»¶ä¸­æ·»åŠ ï¼š12345678//åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’æ·»åŠ fork me on githubå›¾å—.fork-me-on-github &#123; fill: red // èƒŒæ™¯è‰² color: white // çŒ«çš„é¢œè‰² top: 0 right: 0 // åœ¨å³ä¸Šè§’ //left: 0 // åœ¨å·¦ä¸Šè§’&#125; è¿™ä¸ªåŠŸèƒ½åˆ·æ–°å¯èƒ½éœ€è¦é‡å¯æœåŠ¡å™¨ã€‚]]></content>
      <categories>
        <category>cargo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Linuxç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢]]></title>
    <url>%2Fos%2F20190101-1ff5.html</url>
    <content type="text"><![CDATA[emmmmmm,å…ˆè®°ä¸‹æ¥â€¦â€¦ ç³»ç»Ÿuname -aï¼šå†…æ ¸ã€æ“ä½œç³»ç»Ÿã€CPUä¿¡æ¯ head -n 1 /etc/issueï¼šæ“ä½œç³»ç»Ÿç‰ˆæœ¬ cat /proc/cpuinfoï¼šCPUä¿¡æ¯ hostnameï¼šè®¡ç®—æœºå lspci -tvï¼šåˆ—å‡ºæ‰€æœ‰PCIè®¾å¤‡ lsusb -tvï¼šåˆ—å‡ºæ‰€æœ‰USBè®¾å¤‡ lsmodï¼šåˆ—å‡ºåŠ è½½çš„å†…æ ¸æ¨¡å— envï¼šæŸ¥çœ‹çŽ¯å¢ƒå˜é‡ å†…å­˜ä¸Žèµ„æºfree -mï¼šæŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡å’Œäº¤æ¢åŒºä½¿ç”¨é‡ df -hï¼šæŸ¥çœ‹å„åˆ†åŒºä½¿ç”¨æƒ…å†µ du -sh DIRï¼šæŸ¥çœ‹ç›®å½•DIRçš„å¤§å°ï¼Œéžæœ¬äººçš„ç›®å½•å¯èƒ½è¦ä½¿ç”¨ sudo ææƒ grep MemTotal /proc/meminfoï¼šæŸ¥çœ‹å†…å­˜æ€»é‡ grep MemFree /proc/meninfoï¼šæŸ¥çœ‹ç©ºé—²å†…å­˜é‡ uptimeï¼šæŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´ã€ç”¨æˆ·æ•°ã€è´Ÿè½½ cat /proc/loadavgï¼šæŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ ç£ç›˜å’Œåˆ†åŒºä¿¡æ¯mount | column -tï¼šæŸ¥çœ‹æŒ‚æŽ¥çš„åˆ†åŒºçŠ¶æ€ fdisk -lï¼šæŸ¥çœ‹æ‰€æœ‰åˆ†åŒº swapon -sï¼šæŸ¥çœ‹æ‰€æœ‰äº¤æ¢åˆ†åŒº hdparm -i /dev/hdaï¼šæŸ¥çœ‹ç£ç›˜å‚æ•° dmesg | grep IDEï¼šæŸ¥çœ‹å¯åŠ¨æ—¶IDEè®¾å¤‡æ£€æµ‹çŠ¶å†µ ç½‘ç»œifconfigï¼šæŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæŽ¥å£çš„å±žæ€§ iptables -Lï¼šæŸ¥çœ‹é˜²ç«å¢™è®¾ç½® route -nï¼šæŸ¥çœ‹è·¯ç”±è¡¨ netstat -lntpï¼šæŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£ netstat -antpï¼šæŸ¥çœ‹æ‰€æœ‰å·²ç»å»ºç«‹çš„è¿žæŽ¥ netstat -sï¼šæŸ¥çœ‹ç½‘ç»œç»Ÿè®¡ä¿¡æ¯ è¿›ç¨‹ps -efï¼šæŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ topï¼šæ˜¯å®žçŽ°æ˜¾ç¤ºè¿›ç¨‹çŠ¶æ€ ç”¨æˆ·wï¼šæŸ¥çœ‹æ´»åŠ¨ç”¨æˆ· id USERNAMEï¼šæŸ¥çœ‹ç”¨æˆ·USERNAMEçš„ä¿¡æ¯ lastï¼šæŸ¥çœ‹ç”¨æˆ·ç™»å½•æ—¥å¿— cut -d: -f1 /etc/passwdï¼šæŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ· cut -d: -f1 /etc/groupï¼šæŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„ crontab -lï¼šæŸ¥çœ‹å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡ æœåŠ¡chkconfig --listï¼šåˆ—å‡ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡ chkconfig --list | grep onï¼šåˆ—å‡ºæ‰€æœ‰å¯åŠ¨çš„ç³»ç»Ÿä»»åŠ¡]]></content>
      <categories>
        <category>os</category>
      </categories>
      <tags>
        <tag>Linuxå®žç”¨å‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu16.04LTSä¿®æ”¹è½¯ä»¶æº]]></title>
    <url>%2Fos%2F20181122-a661.html</url>
    <content type="text"><![CDATA[ä¿®æ”¹è½¯ä»¶æºèƒ½å¤§å¤§åŠ å¿«è½¯ä»¶æ›´æ–°å’Œä¸‹è½½é€Ÿåº¦ã€‚ 1ã€å¤‡ä»½åŽŸå§‹æºï¼š 1sudo mv /etc/apt/sources.list /etc/apt/sources.list.bak 2ã€æ–°å»ºæºï¼š 1sudo vim /etc/apt/sources.list å†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆå¯¹äºŽUbuntu16.04LTSï¼‰ï¼š # é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse # é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨ # deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse å…¶ä»–ç‰ˆæœ¬çš„æºåˆ—è¡¨å¯ä»¥åœ¨ è¿™é‡Œ æŸ¥çœ‹ã€‚ 3ã€åˆ·æ–°ï¼šsudo apt-get update]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ubuntu16.04LTSæ›´æ–°Råˆ°3.5.x]]></title>
    <url>%2Fos%2F20181122-ad7f.html</url>
    <content type="text"><![CDATA[é‡è£…Ræ—¶è¸©å¾—å‘ã€‚ 1ã€ç³»ç»Ÿæ¢æº 2ã€æ£€æŸ¥æ—§ç‰ˆæœ¬R æ£€æŸ¥æ˜¯å¦æœ‰æ—§ç‰ˆæœ¬çš„Rï¼šR --verion å¸è½½æ—§ç‰ˆæœ¬çš„Rï¼šsudo apt-get remove r-base-core 3ã€å®‰è£…R3.5éœ€è¦å…ˆæ·»åŠ æºï¼š 1sudo apt-add-repository 'deb https://cloud.r-project.org/bin/linux/ubuntu xenial-cran35/' æ·»åŠ ä¸Šé¢è¿™ä¸ªæºæ„å‘³ç€åœ¨Ubuntu16.04LTSä¸Šå¯ä»¥å®‰è£…R3.5ã€‚ xenial æ„ä¸ºâ€œéžæ´²åœ°æ¾é¼ â€ï¼ŒUbuntuçš„æ¯ä¸€ä¸ªå‘è¡Œç‰ˆéƒ½ä¼šæœ‰ä¸€ä¸ªå¥‡æ€ªçš„åå­—ã€‚ ç„¶åŽæ›´æ–°æºï¼š 1sudo apt-get update 4ã€å®‰è£…R3.5ï¼š 1sudo apt-get install r-base r-base-dev]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonä¸­è¿è¡Œshellå‘½ä»¤]]></title>
    <url>%2Fpython%2F20181121-b9c.html</url>
    <content type="text"><![CDATA[è®°å½•å¸¸ç”¨æ–¹æ³•ã€‚ Method 1 123import subprocessstring = subprocess.check_output("COMMAND_STRING", [shell=True]).decode() Method 2 123import osresult = os.system("COMMAND_STRING")]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>é’é“œæ´¾æ£®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HttpRequestå¯¹è±¡]]></title>
    <url>%2Fit%2F20181121-f755.html</url>
    <content type="text"><![CDATA[æ¯ä¸ªviewå‡½æ•°å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯HttpRequestå¯¹è±¡ï¼ŒåŒ…å«å½“å‰è¯·æ±‚URLçš„ä¸€äº›ä¿¡æ¯ã€‚HttpRequestå¯¹è±¡å®žä¾‹ï¼š 1234567891011121314151617181920212223## å±žæ€§request.path # strç±»åž‹ï¼Œè¯·æ±‚é¡µé¢çš„å…¨è·¯å¾„ï¼Œä¸åŒ…æ‹¬åŸŸårequest.method # strç±»åž‹ï¼Œå€¼ä¸º'GET'æˆ–è€…'POST'request.GET # QueryDictå®žä¾‹request.POST # QueryDictå®žä¾‹ï¼Œæ³¨æ„åŒºåˆ†POSTä¸ºç©ºå’ŒPOSTçš„è¯·æ±‚å†…å®¹ä¸ºç©ºï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºPOSTæ–¹æ³•ä½¿ç”¨methodå±žæ€§request.COOKIES # æ ‡å‡†pythonå­—å…¸å¯¹è±¡(ç”¨&#123;&#125;è¡¨ç¤º)ï¼Œ&#123;str:str&#125;request.FILES # ç±»å­—å…¸å¯¹è±¡ï¼ˆï¼Ÿï¼‰ï¼ŒåŒ…å«æ‰€æœ‰ä¸Šä¼ æ–‡ä»¶# å½¢å¼ä¸ºï¼šXxxDict&#123;name: &#123;'filename':..., 'content-type':..., 'content':...&#125;&#125;# ä¸Šé¢çš„nameå˜é‡çš„å€¼æ˜¯&lt;input type="file" name="..."&gt;ä¸­nameå±žæ€§çš„å€¼# åªæœ‰POSTè¯·æ±‚å¹¶ä¸”å•¥å•¥å•¥çš„FILESå±žæ€§æ‰ä¼šæœ‰å€¼ï¼Œå¦åˆ™ä¸ºç©ºrequest.META # å¯ç”¨çš„httpå¤´éƒ¨ä¿¡æ¯å­—å…¸request.user # django.contrib.auth.models.Userå¯¹è±¡å®žä¾‹ï¼Œä»£è¡¨å½“å‰ç™»å½•çš„ç”¨æˆ·# ç”¨æˆ·æœªç™»å½•åˆ™ä¸ºdjango.contrib.auth.models.AnonymousUserå¯¹è±¡å®žä¾‹# é€šè¿‡ request.user.is_authenticated() åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•# éœ€è¦æ¿€æ´»djangoçš„AuthenticationMidllewareå±žæ€§request.session # å½“å‰ä¼šè¯çš„å­—å…¸å¯¹è±¡ï¼Œéœ€è¦æ¿€æ´»å•¥å•¥å•¥request.raw_post_data # æœªè§£æžçš„åŽŸå§‹postæ•°æ®## æ–¹æ³•request.__getitem__(key) # å–å‡ºGET/POSTä¸­çš„å€¼ï¼Œä¼˜å…ˆPOSTrequest.has_key(key) # æ£€æŸ¥GET/POSTæ˜¯å¦åŒ…å«keyrequest.get_full_path() # è¿”å›žåŒ…å«æŸ¥è¯¢å­—ç¬¦ä¸²çš„è¯·æ±‚è·¯å¾„å­—ç¬¦ä¸²request.is_secure() # å¦‚æžœå‘å‡ºçš„æ˜¯HTTPSå®‰å…¨è¯·æ±‚è¿”å›žTrue]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Djangoå®˜æ–¹æ–‡æ¡£ç¬”è®°-request(GET+POST)å±žæ€§ä¸ŽQueryDictç±».md]]></title>
    <url>%2Fit%2F20181121-8d33.html</url>
    <content type="text"><![CDATA[åœ¨HttpRequestå¯¹è±¡ä¸­ï¼ŒGETå’ŒPOSTå±žæ€§çš„å€¼éƒ½æ˜¯QueryDictçš„å®žä¾‹ã€‚ QueryDictç”¨æ¥å¤„ç†å•é”®å¯¹åº”å¤šå€¼çš„æƒ…å†µ 123456789101112131415161718qd = django.http.QueryDict(...)#ä¸Žæ™®é€šå­—å…¸ä¸€è‡´çš„æ–¹æ³•qd.__getitem__(key) # è¿”å›žkeyå¯¹åº”å€¼åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå€¼qd.__setitem__(key, value_list) # GETå’ŒPOSTå±žæ€§å€¼å­—å…¸ä¸å…è®¸è¢«ç›´æŽ¥ä¿®æ”¹ï¼Œå› æ­¤æ­¤æ–¹æ³•åªèƒ½ç”¨äºŽè¯¥å­—å…¸çš„æ‹·è´ä¸Šqd.get(key, IF_NONE) # å¦‚æžœkeyå­˜åœ¨è¿”å›žkeyå¯¹åº”å€¼åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå€¼qd.update(d) # Dä¸ºQD(æŸ¥è¯¢å­—å…¸)æˆ–è€…D(pythonå­—å…¸)éƒ½å¯ä»¥,å¦‚æžœkeyå­˜åœ¨ï¼Œæ‰§è¡Œæ·»åŠ è€Œä¸æ˜¯æ›¿æ¢qd.items() # è¿”å›žé”®å€¼å¯¹ï¼Œå€¼æ˜¯keyå¯¹åº”çš„å€¼åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå€¼ï¼ˆå•å€¼ï¼‰qd.values() # è·Ÿitemsä¸€æ ·ä½¿ç”¨å•å€¼é€»è¾‘#ç‰¹æœ‰æ–¹æ³•qd.copy() # è¿”å›žå¯æ›´æ”¹çš„æ‹·è´ï¼ˆæ¯”å¦‚å¯ä»¥ä½¿ç”¨__setitem__)qd.getlist(key) # è¿”å›žkeyå¯¹åº”çš„pythonåˆ—è¡¨qd.setlist(key, value_list) # æ— é¡»æ‹·è´ç›´æŽ¥ä¿®æ”¹ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿqd.appendlist(key, value) # ç»™å·²ç»å­˜åœ¨çš„keyçš„åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå€¼qd.setlistdefault(ket, value_list)qd.lists() # ä½œç”¨ä¸Žitemsç±»ä¼¼ï¼Œä¸æ‰§è¡Œå•å€¼é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯è¯´é”®å€¼å¯¹çš„å€¼æ˜¯æ‰€æœ‰å€¼çš„åˆ—è¡¨qd.urlencode(key) # è¿”å›žæŸ¥è¯¢å­—ç¬¦ä¸²æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦‚'a=3&amp;a=4&amp;a=5']]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Djangoå®˜æ–¹æ–‡æ¡£ç¬”è®°-æ¨¡æ¿ç³»ç»Ÿ-è‡ªåŠ¨è½¬ä¹‰]]></title>
    <url>%2Fit%2F20181121-b01.html</url>
    <content type="text"><![CDATA[è‡ªåŠ¨è½¬ä¹‰çš„äº§ç”ŸèƒŒæ™¯å½“å¯¹æ¨¡æ¿å˜é‡è¿›è¡Œæ›¿æ¢æ—¶ï¼Œæ›¿æ¢å­—ç¬¦ä¸²ä¸­å¯èƒ½å«æœ‰èƒ½äº§ç”Ÿéžé¢„æœŸå½±å“çš„å…ƒç´ ã€‚ä¾‹å¦‚&quot;&lt;script&gt;alert(&#39;hellp&#39;)&lt;/script&gt;&quot;å°†å¼¹å‡ºè­¦å‘Šæ¡†ç”¨æˆ·åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹åšä¸€äº›ä¸å¯æè¿°çš„äº‹æƒ… â€”â€” è·¨åŸŸè„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»ã€‚ è‡ªåŠ¨è½¬ä¹‰çš„è¯¦ç»†æ“ä½œä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‡ºçŽ°ï¼Œdjangoå¼•å…¥è‡ªåŠ¨è½¬ä¹‰æœºåˆ¶ï¼Œé»˜è®¤å¼€å¯ã€‚ä»¥ä¸‹5 ä¸ªå­—ç¬¦å°¤å…¶é‡è¦ï¼š &lt;è‡ªåŠ¨è½¬ä¸º&amp;lt &gt;è‡ªåŠ¨è½¬ä¸º&amp;gt &#39;è‡ªåŠ¨è½¬ä¸º&amp;#39 &quot;è‡ªåŠ¨è½¬ä¸º&amp;quot &amp;è‡ªåŠ¨è½¬ä¸º&amp;amp æ‰‹åŠ¨å…³é—­è‡ªåŠ¨è½¬ä¹‰æœ‰æ—¶å€™æˆ‘ä»¬ç¡®å®žæ˜¯å¸Œæœ›æ¨¡æ¿å˜é‡è¢«æ›¿æ¢æˆä¸€æ®µHTMLä»£ç  æ¥è‡ªç”¨æˆ·çš„æ•°æ®å°†è¿›è¡Œè‡ªåŠ¨è½¬ä¹‰ ä½¿ç”¨safeè¿‡æ»¤å™¨å…³é—­å•ä¸ªæ¨¡æ¿å˜é‡çš„è‡ªåŠ¨è½¬ä¹‰åŠŸèƒ½ 1&#123;&#123; data | safe&#125;&#125; æŽ§åˆ¶æ¨¡æ¿å—çš„è‡ªåŠ¨è½¬ä¹‰ 123&#123;% autoescape off %&#125; ...&#123;% endautoescape %&#125; æ˜¯å¦è‡ªåŠ¨è½¬ä¹‰å¯æ ¹æ®æ¨¡æ¿é—´çš„ç»§æ‰¿è¿›è¡Œè½¬ç§» defaultè¿‡æ»¤å™¨çš„å‚æ•°ï¼ˆå­—ç¬¦ä¸²ï¼‰çš„è‡ªåŠ¨è½¬ä¹‰å› ä¸ºè¿™ä¸ªå¸¸äº®å­—ç¬¦ä¸²æ˜¯ç”±æ¨¡æ¿ä½œè€…å®šä¹‰çš„ï¼Œé»˜è®¤å·²ç»é€šè¿‡äº†safeè¿‡æ»¤å™¨ã€‚æ‰€ä»¥æ¨¡æ¿ä½œè€…éœ€è¦äººå·¥è½¬ä¹‰ï¼šå®šä¹‰1&#123;&#123; data|default:"3 &amp;lt; 2" &#125;&#125; è€Œä¸æ˜¯ 1&#123;&#123; data|default:"3 &lt; 2" &#125;&#125;]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Djangoå®˜æ–¹æ–‡æ¡£ç¬”è®°-æ¨¡æ¿ç³»ç»Ÿ-æ‰©å±•æ¨¡æ¿ç³»ç»Ÿ]]></title>
    <url>%2Fit%2F20181121-c04f.html</url>
    <content type="text"><![CDATA[ç»å¤§éƒ¨åˆ†çš„æ¨¡æ¿å®šåˆ¶æ˜¯ä»¥è‡ªå®šä¹‰æ ‡ç­¾/è¿‡æ»¤å™¨çš„æ–¹å¼æ¥å®Œæˆçš„ã€‚ æ€Žä¹ˆç¼–å†™è‡ªå·±çš„æ¨¡æ¿åº“æ–‡ä»¶ï¼Ÿè¿™é‡Œçš„è‡ªå®šä¹‰æ¨¡æ¿åº“æŒ‡çš„å°±æ˜¯è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾/è¿‡æ»¤å™¨ã€‚ æ¨¡æ¿åº“æ–‡ä»¶æ˜¾ç„¶æœ‰ä»–å›ºå®šçš„ä¹¦å†™æ ¼å¼ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¨¡å—å¼€å¤´å†™ä¸Šï¼š 12from django import templateregister = template.Library() æ¨¡å—çº§å˜é‡registeræ˜¯è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾/è¿‡æ»¤å™¨çš„åŸºç¡€æ•°æ®ç»“æž„ã€‚ å®žé™…ä¸Šæˆ‘ä»¬åœ¨å®šä¹‰è‡ªå·±çš„æ¨¡æ¿åº“æ–‡ä»¶æ—¶å¯ä»¥å‚è€ƒå®˜æ–¹çš„å†™æ³•: django/template/defaultfilters.pyæ–‡ä»¶ django/template/defaulttags.pyæ–‡ä»¶ ç„¶åŽæˆ‘ä»¬åŸºäºŽregisteræ¥è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾/è¿‡æ»¤å™¨: è‡ªå®šä¹‰æ¨¡æ¿è¿‡æ»¤å™¨ï¼šå®šä¹‰ + æ³¨å†Œè¿‡æ»¤å™¨æœ¬è´¨ä¸Šå°±æ˜¯å¸¦å‚æ•°çš„pythonå‡½æ•°ï¼ˆå“ˆå“ˆï¼Œæ²¡æƒ³åˆ°å§ï¼‰ã€‚ç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥ä¼ é€’ç®¡é“ç¬¦(|)å…¥å£çš„å€¼ï¼Œå…¶ä»–å‚æ•°é€šè¿‡:è¿›è¡Œä¼ é€’ã€‚ä¾‹å¦‚ä¸‹é¢çš„è¿™ä¸ªè¿‡æ»¤å™¨ï¼š 12def cut(value, arg): return value.replace(arg, '') åœ¨æ¨¡æ¿ä¸­å¯ä»¥ç”¨æ¥åŽ»æŽ‰æ¨¡æ¿å˜é‡å€¼ä¸­çš„å­—ç¬¦â€™Aâ€™: 1&#123;&#123;somevalue|cut:"A"&#125;&#125; è¿‡æ»¤å™¨æ€»æ˜¯æœ‰å¯æ­£å¸¸ä½¿ç”¨çš„è¿”å›žå€¼ï¼Œä¸èƒ½è§¦å‘å¼‚å¸¸ï¼ˆå…³äºŽè§¦å‘å¼‚å¸¸æˆ‘çš„ç†è§£æ˜¯ï¼šä½¿ç”¨raiseæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè€Œä¸æ˜¯ä½¿ç”¨try...except...è¿›è¡Œå¼‚å¸¸æ•èŽ·ï¼‰ã€‚ ä¸çŸ¥é“ä½ å‘çŽ°æ²¡æœ‰ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬å®šä¹‰æ¨¡æ¿è¿‡æ»¤å™¨çš„è¿‡ç¨‹ä¸­è¿˜æ²¡æœ‰ç”¨åˆ°registerï¼Œå®žé™…ä¸Šå½“æˆ‘ä»¬å®šä¹‰å¥½æ¨¡æ¿è¿‡æ»¤å™¨åŽéœ€è¦å¯¹ä»–ä»¬è¿›è¡Œæ³¨å†Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä½¿ç”¨ä¸€ä¸‹è¯­å¥æ³¨å†Œï¼š 1register.filter('cut', cut) //(è¿‡æ»¤å™¨åç§°ï¼Œå‡½æ•°æœ¬èº«) å®žé™…ä¸Šæˆ‘ä»¬å¯ä»¥è¿˜å¯ä»¥ä½¿ç”¨@ä¿®é¥°å™¨åœ¨å®šä¹‰çš„æ—¶å€™è¿›è¡Œæ³¨å†Œï¼š 1234//æ— å‚æ—¶ç›´æŽ¥@register.filter@register.filter(name='cut') def cut(value, arg): return value.replace(arg, '') è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾å…ˆç•¥è¿‡,æœ‰éœ€è¦å†ç ”ç©¶ã€‚ã€‚POTAL æ¨¡æ¿åº“æ–‡ä»¶æ”¾åœ¨å“ªé‡Œå¥½ï¼Ÿæ¨¡æ¿åº“æ˜¯Djangoèƒ½å¤Ÿå¯¼å…¥çš„åŸºæœ¬ç»“æž„ã€‚ å»ºè®®çš„ç›®å½•ç»“æž„å¦‚ä¸‹ï¼š ä¸ºè‡ªå®šä¹‰çš„æ¨¡æ¿åº“å•ç‹¬å»ºä¸€ä¸ªappå¹¶åœ¨INSTALLED_APPSä¸­æ³¨å†Œï¼ˆåªæœ‰æ³¨å†Œçš„æ¨¡æ¿åº“æ‰èƒ½è¢«å¯¼å…¥ï¼‰ã€‚ åœ¨åˆé€‚çš„appæ ¹ç›®å½•ä¸‹ä¸ºæ¨¡æ¿ä»¬å»ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å¤¹ã€‚ åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹å»ºç«‹__init__.pyæ–‡ä»¶å’Œè‡ªå®šä¹‰æ¨¡æ¿åº“æ–‡ä»¶ã€‚ è‡ªå®šä¹‰çš„æ¨¡æ¿åº“æ€Žä¹ˆå¯¼å…¥åˆ°æ¨¡æ¿ä¸­ï¼Ÿ è¿™é‡Œæ³¨æ„å¯¹æ¨¡æ¿åº“å’Œæ¨¡æ¿çš„æ¦‚å¿µè¿›è¡ŒåŒºåˆ† æˆ‘ä»¬åœ¨ç¼–å†™æ¨¡æ¿æ—¶å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥æ¥å¯¼å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¨¡æ¿åº“ï¼š 1&#123;% load æ¨¡æ¿åº“å %&#125; loadæ¨¡æ¿æ ‡ç­¾ä¼šæ£€æŸ¥INSTALLED_APPSï¼Œåªæœ‰å·²å®‰è£…çš„appå†…çš„æ¨¡æ¿åº“æ‰èƒ½è¢«åŠ è½½ã€‚è¿™é‡Œæ¨¡æ¿åº“è™½ç„¶æ˜¯å­˜æ”¾åœ¨æŸä¸ªç‰¹å®šçš„APPå†…çš„ï¼Œä½†æ˜¯loadåŠ è½½æ¨¡æ¿åº“æ—¶å¹¶æ²¡æœ‰æ¶‰åŠåˆ°è¿™ä¸ªAPPã€‚]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ¿ç³»ç»Ÿ-RequestContextå’ŒContextå¤„ç†å™¨]]></title>
    <url>%2Fit%2F20181121-276f.html</url>
    <content type="text"><![CDATA[è§†å›¾å‡½æ•°éœ€è¦ä¼ é€’ä¸€ä¸ªcontextç»™æ¨¡æ¿å®Œæˆæ¸²æŸ“ï¼Œç„¶åŽè¿”å›žç»™ç”¨æˆ·å®Œæ•´é¡µé¢ã€‚å½“å‘å¤šä¸ªä¸åŒçš„æ¨¡æ¿ä¸­ä¼ å…¥å¤§é‡ç›¸åŒçš„é”®å€¼å¯¹æ—¶ä¼šå¤šå†™å¾ˆå¤šé‡å¤çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ RequestContextã€‚ é¦–å…ˆå®šä¹‰è¿™äº›å¯å¤ç”¨çš„é”®å€¼å¯¹ 12def common_items(request): return &#123;...&#125; è¿™ä¸ªå‡½æ•°æŽ¥å—requestçº¯ç²¹æ˜¯å› ä¸ºé‡Œé¢æž„é€ è¿”å›žå€¼å­—å…¸æ—¶å¯èƒ½ä¼šç”¨åˆ°æ¢è¨€ä¹‹ï¼Œå®ƒä¸æ˜¯å¿…é¡»çš„ï¼šå½“ä½ ç¡®å®šè¿”å›žå€¼å­—å…¸ç”¨ä¸ç€requestå®Œå…¨å¯ä»¥ä¸ä¼ å‚ æž„é€ è§†å›¾å‡½æ•° 12345from django.template import RequestContext def view_1(request, *args, **kwargs): rcontext = RequestContext(request, d&#123;...&#125;, processors=[...]) ... è§†å›¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯requestï¼ˆHttpRequestå¯¹è±¡å®žä¾‹ï¼‰è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ RequestContext å¯¹è±¡ä»£æ›¿ Context å¯¹è±¡æž„é€ RequestContextéœ€è¦æ³¨æ„ï¼š ç¬¬ä¸€ä¸ªå‚æ•°æ—¶request ç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—å…¸ï¼Œä»£è¡¨éžå…¬ç”¨çš„é”®å€¼å¯¹ processorsæ˜¯åŒ…å«Contextå¤„ç†å™¨çš„åˆ—è¡¨/å…ƒç»„ å°†RequestContextå¯¹è±¡ä¼ é€’ç»™render_to_responseæ–¹æ³•è¿›è¡Œæ¸²æŸ“ä¸ŽContextå¯¹è±¡ä¸åŒï¼Œä½¿ç”¨RequestContexté™¤äº†ä¼ é€’å¤„ç†å™¨å¤–è¿˜éœ€è¦ä¼ é€’ä¸€ä¸ªé¢å¤–çš„å­—å…¸ï¼ˆè§ä¸Šç¬¬äºŒä¸ªå‚æ•°ï¼‰ä½¿ç”¨å…³é”®å­—context_instance: 1234return render_to_response(æ¨¡æ¿æ–‡ä»¶, éžå…¬ç”¨å­—å…¸, context_instance=RequestContext(request, processors=[...]))#è¿™é‡Œåœ¨æž„å»ºRequestContextå¯¹è±¡çš„æ—¶å€™å¹¶æ²¡æœ‰ä¼ é€’éžå…¬ç”¨å­—å…¸,#è€Œæ˜¯å°†è¯¥å­—å…¸ä¼ é€’ç»™äº†render_to_responseæ–¹æ³•ï¼ï¼ï¼ ä½†æ˜¯é¢‘ç¹çš„é”®å…¥processorsè¿˜æ˜¯ä¼šäº§ç”Ÿå¤§é‡çš„ä»£ç ï¼ˆè¿™ä¸ªæ˜¯çœŸçš„æ‡’ã€‚ã€‚ï¼‰æ‰€ä»¥Djangoè®¾è®¡äº†å…¨å±€contextå¤„ç†å™¨ï¼šä¸€èˆ¬åœ¨settings.pyçš„ç±»ä¼¼äºŽâ€™context_processorsâ€™çš„åˆ—è¡¨ä¸­å£°æ˜Žï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½å…³é”®å­—ä¸ä¸€æ ·æ¿€æ´»ç›¸åº”çš„å¤„ç†å™¨RequestContextå°†è‡ªåŠ¨åŒ…å«ç›¸å¯¹åº”çš„ä¸€éƒ¨åˆ†å˜é‡åˆ°contextä¸­ï¼Œå…·ä½“å¦‚ä¸‹ï¼š django.core.context_processors.auth: userï¼šä¸€ä¸ªdjango.contrib.auth.models.User/AnonymousUserå®žä¾‹ messageï¼šå½“å‰ç™»å½•ç”¨æˆ·çš„æ¶ˆæ¯åˆ—è¡¨ permsï¼šå½“å‰ç™»å½•ç”¨æˆ·çš„æƒé™ django.core.context_processors.debug: debugï¼šsettings.DEBUGå€¼ï¼Œæ£€æµ‹æ˜¯å¦å¤„äºŽdebugæ¨¡å¼ï¼Œè²Œä¼¼ä¸€ç›´ä¸ºTrueï¼Ÿ sql_queriesï¼šé¡ºåºè®°å½•æ¯ä¸ªSQLæŸ¥è¯¢ä»¥åŠè€—è´¹æ—¶é—´ è¿™ä¸ªå¤„ç†å™¨è¿˜éœ€è¦æ»¡è¶³ä¸€äº›å…¶ä»–çš„æ¡ä»¶â€¦ django.core.context_processors.i18n: LANGUAGES LANGUAGE_CODE django.core.context_processors.request django.core.context_processors.messages]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å†™è®ºæ–‡å€¼å¾—æ”¶è—çš„8ä¸ªç½‘ç«™]]></title>
    <url>%2Fcargo%2F20181106-e8e2.html</url>
    <content type="text"><![CDATA[â‘  OALib å…è´¹è®ºæ–‡æœç´¢å¼•æ“Ž ( http://www.oalib.com/ ) â‘¡ HighWire æ–¯å¦ç¦å­¦æœ¯æ–‡çŒ®ç”µå­æœŸåˆŠ ( https://www.highwirepress.com/ ) â‘¢ Intute å­¦æœ¯èµ„æºæœç´¢å·¥å…· ( https://www.jisc.ac.uk/ ) â‘£ FindaRticles æ–‡çŒ®è®ºæ–‡ç«™ç‚¹ ( http://findarticles.com/ ) â‘¤ Intechopen å…è´¹ç§‘æŠ€æ–‡çŒ® ( https://www.intechopen.com/ ) â‘¥ LolMyThesis å“ˆä½›æ¯•ä¸šè®ºæ–‡åˆ†äº«ç½‘ç«™ ( http://lolmythesis.com/ ) â‘¦ ä¸‡æ–¹æ•°æ®åº“ ( http://www.wanfangdata.com.cn/index.html ) â‘§ å…¨å›½å›¾ä¹¦é¦†è®ºæ–‡æœç´¢ç½‘ ( http://www.ucdrs.superlib.net/ ) ä»¥ä¸Šèµ„æ–™æ¥è‡ªçŸ¥ä¹ŽåŒå­¦ï¼Œç‚¹å‡»æŸ¥çœ‹å›¾ç‰‡å’Œè¯¦æƒ…ã€‚]]></content>
      <categories>
        <category>cargo</category>
      </categories>
      <tags>
        <tag>èµ„æºåˆ—è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ–¹å·®åˆ†æž1-åŸºæœ¬åŽŸç†ã€Fæ£€éªŒã€å¤šé‡æ¯”è¾ƒ]]></title>
    <url>%2Fstat%2F20181022-111b.html</url>
    <content type="text"><![CDATA[ä¸€ã€é—®é¢˜å¼•å…¥1.ä»€ä¹ˆæ˜¯æ–¹å·®åˆ†æžï¼Ÿæ–¹å·®åˆ†æžç”¨äºŽä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šæ ·æœ¬çš„å‡æ•°å·®å¼‚çš„æ˜¾è‘—æ€§æ£€éªŒã€‚ ä¸­æ–‡å æ–¹å·®åˆ†æž ä¸­æ–‡åˆ«å å˜å¼‚æ•°åˆ†æžã€å˜é‡åˆ†æžã€Fæ£€éªŒ å¤–æ–‡å Analysis of Variance, F test ç®€ç§° ANOVA æå‡ºè€… R.A.Fisher 2.tæ£€éªŒä¸ºä»€ä¹ˆä¸èƒ½ä»£æ›¿æ–¹å·®åˆ†æžï¼Ÿtæ£€éªŒåªé€‚ç”¨äºŽä¸¤ä¸ªæ ·æœ¬å‡æ•°é—´çš„å·®å¼‚åˆ†æžï¼Œå½“è®¾è®¡ä¸¤ä¸ªä»¥ä¸Šçš„æ ·æœ¬æ—¶åªèƒ½è¿›è¡ŒäºŒå…ƒæ‹†åˆ†ï¼Œè¿™ç§æ“ä½œå¹¶ä¸ä¼˜é›…ã€‚ 1.æ£€éªŒè¿‡ç¨‹ç¹çã€‚mä¸ªæ ·æœ¬éœ€è¦è¿›è¡Œ$\mathrm{C}_m^2$ç»„tæ£€éªŒï¼Œè‡ªå¯»çƒ¦æ¼ã€‚ 2.æ— ç»Ÿä¸€çš„è¯•éªŒè¯¯å·®ï¼Œè¯¯å·®ä¼°è®¡çš„ç²¾ç¡®æ€§å’Œæ£€éªŒçš„çµæ•æ€§ä½Žã€‚ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰ 3.äºŒå…ƒåˆ‡åˆ†åŽè¿›è¡Œå¤šæ¬¡tæ£€éªŒä¼šä½¿çŠ¯ç¬¬â… ç±»é”™è¯¯ï¼ˆå‡é˜³æ€§é”™è¯¯ï¼‰çš„æ¦‚çŽ‡å¤§å¤§å¢žåŠ ã€‚tæ£€éªŒåªèƒ½å°†æ¯æ¬¡çš„æ£€éªŒçŠ¯é”™è¯¯æ¦‚çŽ‡æŽ§åˆ¶åœ¨$\alphaâ€‹$ä»¥å†…ï¼Œåœ¨å¤šæ¬¡æ£€éªŒæ—¶è¿™ä¸ªæ¦‚çŽ‡ä¼šé€æ¸å˜å¤§ã€‚ä¾‹å¦‚ä¸€ä¸ªä¸‰æ ·æœ¬çš„å‡å€¼å·®å¼‚æ£€éªŒå…±éœ€è¦è¿›è¡Œ$C_3^2=3â€‹$æ¬¡tæ£€éªŒï¼Œæ¯ä¸€æ¬¡çŠ¯é”™è¯¯çš„æ¦‚çŽ‡ä¸º$\alphaâ€‹$ï¼Œè¿™æ„å‘³ç€æ¯ä¸€æ¬¡æ£€éªŒä¸çŠ¯é”™è¯¯çš„æ¦‚çŽ‡ä¸º$1-\alphaâ€‹$ï¼Œè¿žç»­ä¸‰æ¬¡ä¸çŠ¯é”™è¯¯çš„æ¦‚çŽ‡ä¸º$(1-\alpha)^3â€‹$ï¼Œæ‰€ä»¥è¿™ä¸‰æ¬¡tæ£€éªŒçŠ¯ç¬¬ä¸€ç±»é”™è¯¯çš„æ¦‚çŽ‡ä¸º$1-(1-\alpha)^3=0.142615â€‹$ï¼ˆå½“$\alpha=0.05â€‹$æ—¶ï¼‰ï¼Œè¿™ä¸ªæ¦‚çŽ‡ç›¸æ¯”äºŽ0.05å·²ç»å¤§äº†å¾ˆå¤šäº†ã€‚ç”±æ­¤å¯çŸ¥ï¼Œå½“$n{\to}\inftyâ€‹$æ—¶ï¼ŒçŠ¯ç¬¬ä¸€ç±»é”™è¯¯çš„æ¦‚çŽ‡å°†ä¼šè¶‹è¿‘äºŽ1ã€‚ äºŒã€æ–¹å·®åˆ†æžçš„åŸºæœ¬åŽŸç†1.æ€æƒ³å¤šä¸ªæ ·æœ¬ä¸€èˆ¬å¯ä»¥æ¥è‡ªå¤šä¸ªä¸åŒçš„å¤„ç†(treatment)ï¼Œæ¯”å¦‚æ³¨å°„ä¸åŒçš„è¯ç‰©ç­‰ï¼Œè¿™äº›å¤„ç†æ˜¯æˆ‘ä»¬å¯ä»¥æŽ§åˆ¶çš„ã€‚ ä¸åŒçš„å¤„ç†æœ‰å¯èƒ½å½±å“å¹¶è‡´ä½¿å®žéªŒç»“æžœäº§ç”Ÿå·®å¼‚ï¼Œè¿™ç§å½±å“ä¸€èˆ¬æ˜¯å¯ä»¥äººä¸ºæŽ§åˆ¶çš„ï¼Œè¿™ç§æ•ˆåº”å«åšå¤„ç†æ•ˆåº”(treatment effect)ã€‚ å¯¹æ¯ä¸ªä¸ªä½“çš„è§‚æµ‹å€¼ä¸åŒï¼Œé™¤äº†å¤„ç†æ•ˆåº”æ–½åŠ å½±å“ï¼Œè¿˜åŒ…æ‹¬å®žéªŒè¿‡ç¨‹ä¸­å¶ç„¶æ€§å› ç´ å’Œæµ‹é‡è¯¯å·®çš„å¹²æ‰°ã€‚ 2.ç›®çš„æ–¹å·®åˆ†æžå¯ä»¥ç¡®å®šä¸Šé¢æåˆ°çš„å¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®å¯¹æ€»å·®å¼‚çš„è´¡çŒ®ç¨‹åº¦ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå®žéªŒè¯¯å·®æ˜¯åˆç†ä¸å¯æŽ§çš„ï¼ŒåŒæ—¶å®ƒå¯¹æ€»å·®å¼‚çš„å½±å“ä¹Ÿæ˜¯å¾ˆå°çš„ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒå¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®ã€‚ è€Œå®žéªŒè¯¯å·®æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬å…³å¿ƒçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å…³å¿ƒçš„åº”è¯¥æ˜¯å¤„ç†é—´ï¼ˆç»„é—´ï¼‰å‡å€¼æ˜¯å¦æœ‰å·®å¼‚ï¼Œå³æˆ‘ä»¬å…³å¿ƒåº”è¯¥æ˜¯å¤„ç†æ•ˆåº”ï¼šâ— å¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®ç›¸å·®ä¸å¤§ï¼Œæ„å‘³ç€å¤„ç†æ•ˆåº”å¯¹æŒ‡æ ‡å½±å“ä¸å¤§ã€‚â— å¤„ç†æ•ˆåº”æ¯”å®žéªŒè¯¯å·®å¤§å¾ˆå¤šï¼Œå¤„ç†æ•ˆåº”å¯¹å®žéªŒç»“æžœå·®å¼‚æœ‰å¾ˆå¤§å½±å“ã€‚ 3.ç”¨é€” å¤šæ ·æœ¬å‡æ•°çš„æ¯”è¾ƒ å¤šå› ç´ é—´ç›¸äº’ä½œç”¨çš„åˆ†æž å›žå½’æ–¹ç¨‹çš„å‡è®¾å‡è®¾ æ–¹å·®çš„åŒè´¨æ€§æ£€éªŒ ä¸‰ã€æ•°å­¦æ¨¡åž‹æ ¹æ®ä¸Šé¢å¯¹æ€»å·®å¼‚çš„å®šæ€§åˆ†æžï¼ˆç”±å¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®æž„æˆï¼‰å»ºç«‹å®šé‡çš„æ•°å­¦æ¨¡åž‹ã€‚ è§‚æµ‹æ•°æ®è®°å½•å½¢å¼ä¸€èˆ¬å¦‚ä¸‹ï¼š å…¶ä¸­æ¯åˆ—ï¼ˆ1,â€¦,kï¼‰ä»£è¡¨kä¸ªä¸åŒçš„å¤„ç†ï¼Œå³kä¸ªæ ·æœ¬ï¼›è¡Œæ•°ä»£è¡¨æ¯ç§å¤„ç†çš„é‡å¤æ¬¡æ•°ï¼Œå³ä¸€ä¸ªæ ·æœ¬çš„æ ·æœ¬å®¹é‡ã€‚ 1.çº¿æ€§ç­‰æƒåŠ å’Œæ¨¡åž‹è¿™é‡Œé‡‡ç”¨æœ€ç®€æ´çš„çº¿æ€§æ¨¡åž‹å®šé‡æè¿°ä¸Šè¿°å…³ç³»ï¼š $$\begin{split}x_{ij}&amp;=\mu+\tau_i+\epsilon_{ij}\\i&amp;=1,â€¦,k\\j&amp;=1,â€¦,n\end{split}$$ $\mu$æ˜¯æ€»ä½“å‡æ•°ï¼› $\tau_i$æ˜¯ç¬¬$i$æ¬¡å¤„ç†çš„å¤„ç†æ•ˆåº”ï¼› $\epsilon_{ij}$æ˜¯ç¬¬$i$æ¬¡å¤„ç†ä¸­ç¬¬$j$ä¸ªæ ·æœ¬çš„å®žéªŒè¯¯å·®ï¼› $x_{ij}$æ˜¯ç¬¬$i$æ¬¡å¤„ç†ä¸­ç¬¬$j$ä¸ªæ ·æœ¬çš„è§‚æµ‹å€¼ï¼› ä¸Šé¢çš„çº¿æ€§æ¨¡åž‹åªæ˜¯ç®€å•çš„å¯¹æ€»ä½“å‡å€¼ã€å¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®è¿›è¡Œç­‰æƒåŠ å’Œè¿›è€Œæž„é€ å‡ºè§‚æµ‹å€¼ã€‚è¿™ç§æž„é€ å½¢å¼å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„å½¢å¼ï¼Œä½†å´æ˜¯æœ€ç®€å•æœ€æ˜“ç†è§£çš„å½¢å¼ã€‚è¿™è¿›ä¸€æ­¥å°è¯äº†è§£å†³é—®é¢˜æ€»æ˜¯ä¸€ä¸ªåŒ–ç¹ä¸ºç®€ã€ç”±ç®€å…¥ç¹çš„è¿‡ç¨‹ã€‚ï¼ˆå½“å‰æ›´ä¼˜çš„æ¨¡åž‹æž„å»ºæ–¹å¼ï¼Ÿï¼Ÿï¼Ÿï¼‰ 2.å¤„ç†æ•ˆåº”ä¸æ€»æ˜¯äººä¸ºå¯æŽ§çš„è™½ç„¶è¯´å¤§å¤šæ•°æƒ…å†µä¸‹é€šè¿‡å®žéªŒè®¾è®¡æˆ‘ä»¬å¯ä»¥æŽ§åˆ¶å¤„ç†çš„ç§ç±»ï¼Œå³æŽ§åˆ¶å¤„ç†æ•ˆåº”ï¼Œä½†æ˜¯è¿™åœ¨æŸäº›å®žéªŒä¸­$\tau_i$å´æ˜¯ä¸å¯æŽ§çš„ã€‚æ ¹æ®$\tau_i$æ˜¯å¦å¯æŽ§å°†ä¸Šé¢çš„æ•°å­¦æ¨¡åž‹åˆ†ä¸ºä¸‰ç±»ï¼š $\tau_i$å–å€¼ æ³›åŒ–èƒ½åŠ› å›ºå®šæ¨¡åž‹ $\tau_i=\mu_i-\mu$ä¸ºå¸¸æ•°ä¸”$\sum_{i=1}^{k}{\tau_i}=0$ ç»“æžœä¸èƒ½æ‰©å±•åˆ°å…¶ä»–å¤„ç† éšæœºæ¨¡åž‹ $\tau_i$ä»Ž$N(0,\sigma^2)$ä¸­é‡‡æ · ç»“æžœå¯ä»¥æ‰©å±•åˆ°å…¶ä»–å¤„ç† æ··åˆæ¨¡åž‹ ç•¥ç•¥ç•¥ ç•¥ç•¥ç•¥ 3.æ ·æœ¬æ–¹å·®è¡¨è¾¾å¼æ±‚è§£é¦–å…ˆæˆ‘ä»¬è¦æ˜Žç¡®æ–¹å·®æ±‚è§£å¼çš„ç»“æž„ï¼š$\frac{å¹³æ–¹å’Œ}{è‡ªç”±åº¦}$ ä¸‹é¢åˆ†åˆ«æ±‚è§£åˆ†å­å’Œåˆ†æ¯ã€‚ (1) æ±‚åˆ†å­ï¼ˆå¹³æ–¹å’Œï¼‰ä¸Šé¢çš„æ¨¡åž‹è™½ç„¶è¯´ç®€æ´ï¼Œä½†æ¯•ç«Ÿè¿˜æ˜¯ä¸ªèŠ±æž¶å­ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒçš„å„ä¸ªå•é¡¹åŒçœŸæ­£çš„æ ·æœ¬è”ç³»èµ·æ¥ã€‚ é‚£ä¹ˆæ€Žä¹ˆå°†å¤„ç†æ•ˆåº”å’Œéšæœºè¯¯å·®åŒå·²çŸ¥æ ·æœ¬è”ç³»èµ·æ¥å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸¤å¥è¯è‡ªè¡Œä½“ä¼šï¼š ç»„é—´çš„å¹³å‡æ•°å·®å¼‚æ˜¯ç”±å¤„ç†æ•ˆåº”å¼•èµ·çš„ï¼š$\overline{x_i}-\overline{x}$ ç»„å†…çš„å·®å¼‚æ˜¯ç”±éšæœºè¯¯å·®å¼•èµ·çš„ï¼š$x_{ij}-\overline{x_i}$ ç„¶åŽç®€å•å˜æ¢ï¼š $$\begin{split}(x_{ij}-\bar{x})&amp;=(x_{ij}-\overline{x_i})+(\overline{x_i}-\bar{x})\\(x_{ij}-\bar{x})^2&amp;=[(x_{ij}-\overline{x_i})+(\overline{x_i}-\bar{x})]^2\\&amp;=(x_{ij}-\overline{x_i})^2+(\overline{x_i}-\bar{x})^2+2(x_{ij}-\overline{x_i})(\overline{x_i}-\bar{x})\end{split}$$ é’ˆå¯¹æŸä¸ªç‰¹å®šçš„å¤„ç†å¯¹æ ·æœ¬å†…æ‰€æœ‰è§‚æµ‹æ•°æ®æ±‚å’Œï¼š $\sum_{j=1}^{n}(x_{ij}-\bar{x})^2=\sum_{j=1}^{n}(x_{ij}-\overline{x_i})^2+\sum_{j=1}^{n}(\overline{x_i}-\bar{x})^2+2\sum_{j=1}^{n}(x_{ij}-\overline{x_i})(\overline{x_i}-\bar{x})$ è¿™é‡Œæœ‰ä¸ªçŽ„å­¦é¡¹ $2\sum_{j=1}^{n}(x_{ij}-\overline{x_i})(\overline{x_i}-\bar{x})$ï¼Œæˆ‘ä»¬å°†ä¸Ž $j$ æ— å…³çš„é¡¹æå‰ï¼š $2\sum_{j=1}^{n}(x_{ij}-\overline{x_i})(\overline{x_i}-\bar{x})=2(\overline{x_i}-\bar{x})\sum_{j=1}^{n}(x_{ij}-\overline{x_i})$ å‡å€¼å…·æœ‰è¿™æ ·ä¸€ä¸ªç‰¹æ€§ï¼šä¸€ä¸ªæ ·æœ¬å†…æ‰€æœ‰è§‚æµ‹æ•°æ®åˆ°å‡å€¼çš„è·ç¦»ï¼ˆåŒ…å«æ­£è´Ÿå·ï¼‰å’Œä¸º0ã€‚ æ‰€ä»¥æœ‰è¿™æ ·ä¸€ä¸ªç»“è®ºï¼š$2\sum_{j=1}^{n}(x_{ij}-\overline{x_i})(\overline{x_i}-\bar{x})=0$ å³$\sum_{j=1}^{n}(x_{ij}-\bar{x})^2=\sum_{j=1}^{n}(x_{ij}-\overline{x_i})^2+\sum_{j=1}^{n}(\overline{x_i}-\bar{x})^2$ ç„¶åŽæˆ‘ä»¬å°†ä¸åŒå¤„ç†çš„è§‚æµ‹æ•°æ®çš„ç¦»å‡å·®å¹³æ–¹è¿›è¡Œç´¯åŠ ï¼š $\sum_{i=1}^{k}\sum_{j=1}^{n}(x_{ij}-\bar{x})^2=\sum_{i=1}^{k}\sum_{j=1}^{n}(x_{ij}-\overline{x_i})^2+\sum_{i=1}^{k}\sum_{j=1}^{n}(\overline{x_i}-\bar{x})^2$ åŒ–ç®€å¾—ï¼š $\underbrace{\sum_{i=1}^{k}\sum_{j=1}^{n}(x_{ij}-\bar{x})^2}_{SS_T}=\underbrace{\sum_{i=1}^{k}\sum_{j=1}^{n}(x_{ij}-\overline{x_i})^2}_{SS_e}+\underbrace{n\sum_{i=1}^{k}(\overline{x_i}-\bar{x})^2}_{SS_t}$ å³ï¼š$SS_T(æ€»å¹³æ–¹å’Œ)=SS_e(ç»„å†…å¹³æ–¹å’Œ)+SS_t(ç»„é—´å¹³æ–¹å’Œ)$ é¢„ç®— $$\begin{split}T&amp;=\sum_{i=1}^{k}\sum_{j=1}^{n}x_{ij}\\T_i&amp;=\sum_{j=1}^{n}x_{ij}\\C&amp;=\frac{T^2}{kn}\end{split}$$ å¾— $$\begin{split}SS_T&amp;=\sum_{i=1}^{k}\sum_{j=1}^{n}x_{ij}^2-C\\SS_t&amp;=\frac{1}{n}\sum_{i=1}^{k}T_i^2-C\\SS_e&amp;=SS_T-SS_t\end{split}$$ (2) æ±‚åˆ†æ¯ï¼ˆè‡ªç”±åº¦ï¼‰åˆ†æ¯å°±æ˜¯ä¸Ž$SS_T$ã€$SS_t$å’Œ$SS_e$ç›¸å…³çš„è‡ªç”±åº¦$df$: $$\begin{split}df_T&amp;=nk-1\\df_t&amp;=k-1\\df_e&amp;=df_T-df_t\\&amp;=k(n-1)\end{split}$$ (3) æ±‚æ–¹å·®ç»„é—´æ–¹å·® $$\begin{split}s_t^2&amp;=\frac{SS_t}{df_t}\\s_e^2&amp;=\frac{SS_e}{df_e}\end{split}$$ å››ã€$F$ æ£€éªŒ1.$F$ å€¼çš„å®šä¹‰$F$ å€¼çš„å®šä¹‰ï¼š$$F=\frac{s_1^2}{s_2^2}$$è¿™é‡Œ $s_1^2$ å’Œ $s_2^2$ éƒ½æ˜¯éšæœºé‡‡æ ·äºŽæ­£æ€æ€»ä½“($\mu$, $\sigma$)ï¼Œå®ƒä»¬å¯èƒ½å…·æœ‰ä¸åŒçš„æ ·æœ¬å®¹é‡ï¼ˆè‡ªç”±åº¦ï¼‰ã€‚ä¹ æƒ¯ä¸Šï¼Œæˆ‘ä»¬è®© $F$ å€¼å¤§äºŽ1ï¼Œå³å¤§æ–¹å·®åšåˆ†å­ï¼Œå°æ–¹å·®åšåˆ†æ¯ã€‚ 2.å…¬å¼è¿ç§»åœ¨æ–¹å·®åˆ†æžä¸­ï¼Œæˆ‘ä»¬è®¡ç®—å‡ºäº†ä¸¤ä¸ªæ–¹å·®ï¼šç»„é—´æ–¹å·® $S_t^2$ å’Œç»„å†…æ–¹å·® $S_e^2$ï¼Œå®ƒä»¬åˆ†åˆ«ä»£è¡¨äº†å¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®ï¼Œå³$$F=\frac{S_t^2}{S_e^2}=\frac{å¤„ç†æ•ˆåº”}{å®žéªŒè¯¯å·®}$$ å¯¹äºŽä¸Šé¢çš„å®šä¹‰éœ€è¦è§£é‡Šä¸¤ç‚¹ï¼š (1) æŒ‰ç…§ $F$ å€¼çš„å®šä¹‰ï¼Œåˆ†å­å’Œåˆ†æ¯åº”è¯¥æ¥è‡ªåŒä¸€ä¸ªæ­£æ€æ€»ä½“ å¦‚æžœæˆ‘ä»¬å‡è®¾å¤„ç†æ•ˆåº”å’Œå®žéªŒè¯¯å·®ç›¸å·®ä¸å¤šï¼ˆè¿™å°†ä½œä¸ºæˆ‘ä»¬å‡è®¾æ£€éªŒçš„åŽŸå‡è®¾/æ— æ•ˆå‡è®¾/é›¶å‡è®¾ï¼‰ï¼Œå³ $S_t^2{\approx}S_e^2$ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è®¤ä¸º $S_t^2$ å’Œ $S_e^2$ æ¥è‡ªäºŽåŒä¸€ä¸ªæ­£æ€æ€»ä½“ã€‚ (2) æŒ‰ç…§ $F$ å€¼çš„å®šä¹‰ï¼Œåˆ†å­æ˜¯å¤§æ–¹å·®ï¼Œåˆ†æ¯æ˜¯å°æ–¹å·® æ–¹å·®åˆ†æžçš„ç›®çš„æ˜¯ç¡®å®š $S_t^2$ï¼ˆå¤„ç†æ•ˆåº”ï¼‰å’Œ $S_e^2$ï¼ˆå®žéªŒè¯¯å·®ï¼‰çš„ç›¸å¯¹å¤§å°ï¼Œç”±äºŽå®žéªŒè¯¯å·®è¿™ç§ä¸œè¥¿ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯ä¸å¯æŽ§çš„ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºä¸€èˆ¬åªå­˜åœ¨ä¸€ä¸‹ä¸¤ç§æƒ…å†µï¼š å¤„ç†æ•ˆåº”æ¯”å®žéªŒè¯¯å·®å¤§å¾—å¤š å¤„ç†æ•ˆåº”ä¸Žå®žéªŒè¯¯å·®ç›¸å·®ä¸å¤š 3.$F$ ä¸´ç•Œå€¼è¡¨ äº”ã€å¤šé‡æ¯”è¾ƒæ¯”è¾ƒå…¶ä¸­ä¸¤ç»„å¤„ç†å¹³å‡æ•°é—´å·®å¼‚çš„æ˜¾è‘—æ€§ï¼Œæœ¬è´¨ä¸Šä¸Žtæ£€éªŒæ²¡æœ‰ä»»ä½•åŒºåˆ« 1.æœ€å°æ˜¾è‘—å·®æ•°æ³•ï¼ˆLSDï¼‰Least Significant Difference (1) æ£€éªŒæ–¹æ³•æœ¬è´¨ä¸Šæ˜¯ä¸¤å‡æ•°çš„tæ£€éªŒã€‚ è®¡ç®—è¾¾åˆ°å·®å¼‚æ˜¾è‘—çš„æœ€å°å·®æ•°ï¼Œè®°ä¸º $LSD_\alpha$ $$LSD_\alpha=t_\alpha{\cdot}S_{\overline{X_1}-\overline{X_2}}$$ å…¶ä¸­ $S_{\overline{X_1}-\overline{X_2}}$ ä¸ºå¹³å‡æ•°å·®æ•°çš„æ ‡å‡†è¯¯ï¼š $$\begin{split}S_{\overline{X_1}-\overline{X_2}}&amp;&amp;=\sqrt{\frac{S_1^2}{n_1}+\frac{S_2^2}{n_2}}\\&amp;&amp;=\sqrt{S_e^2{\cdot}(\frac{1}{n_1}+\frac{1}{n_2})}\\&amp;&amp;=\sqrt{\frac{2S_e^2}{n}}{\quad}if{\quad}n_1=n_2=n\end{split}$$ ä¸ºä»€ä¹ˆä»¤ $S_1^2=S_2^2=S_e^2$ ï¼Ÿä¸Šè¿°å…¬å¼çš„æŽ¨å¯¼æœ¬èº«åŸºäºŽæˆ‘ä»¬åšå‡ºçš„æ— æ•ˆå‡è®¾ï¼ˆå¤„ç†æ•ˆåº”ä¸Žå®žéªŒè¯¯å·®ç›¸å·®ä¸å¤šï¼‰ï¼ â˜º æŸ¥è¡¨çš„è‡ªç”±åº¦ä¾æ®ï¼Ÿå› ä¸ºæœ¬è´¨ä¸Šæ˜¯ä¸¤ä¸ªå‡æ•°å·®å¼‚çš„tæ£€éªŒï¼Œå› æ­¤éœ€è¦æŸ¥tä¸´ç•Œå€¼è¡¨ã€‚å› ä¸ºå‡æ•°å·®æ•°æ ‡å‡†è¯¯æœ€ç»ˆåŒ–å½’åˆ°äº† $S_e^2$ï¼Œå› æ­¤æŸ¥è¡¨çš„è‡ªç”±åº¦ä¾æ®çš„æ˜¯ $df_e$ è€Œä¸æ˜¯ $df_tâ€‹$ã€‚ å°†ä¸¤ä¸ªå¤„ç†å¹³å‡æ•°çš„å·®å€¼ç»å¯¹å€¼ $\overline{x_1}-\overline{x_2}$ ä¸Ž $LSD_\alpha$ è¿›è¡Œæ¯”è¾ƒ (2) ç»“æžœè¡¨ç¤ºç»“æžœè¡¨ç¤ºæ–¹æ³•ä»…ä»…æ˜¯ç”¨äºŽä¼˜åŒ–ä¸¤ä¸¤æ¯”è¾ƒæ¬¡æ•°ï¼Œåœ¨ä½¿ç”¨ç»“æžœè¡¨ç¤ºæ–¹æ³•ä¹‹å‰éƒ½éœ€è¦è®¡ç®— $LSD_\alpha$ã€‚ a. æ ‡è®°å­—æ¯æ³• b. æ¢¯å½¢æ¯”è¾ƒæ³•/ä¸‰è§’å½¢æ³• 2.æœ€å°æ˜¾è‘—æžå·®æ³•ï¼ˆLSRï¼‰Least Significant Ranges (1) æ–°å¤æžå·®æ£€éªŒï¼ˆSSRï¼‰æ–°å¤æžå·®æ³•ç”¨äºŽæ–¹å·®åˆ†æžåŽçš„ä¸¤ä¸¤æ¯”è¾ƒï¼Œæœ‰åŠ©äºŽå‡å°‘ç¬¬äºŒç±»é”™è¯¯ï¼Œä½†æ˜¯ä¼šå¢žåŠ ç¬¬ä¸€ç±»é”™è¯¯ã€‚ åŽŸå‡è®¾ä»ç„¶æ˜¯å‡è®¾ä¸¤ä¸ªå‡å€¼æ— å·®å¼‚ï¼š$\mu_A-\mu_B=0$ æ­¥éª¤å¦‚ä¸‹ï¼š 1.å¹³å‡æ•°é™åºæŽ’åº 2.è®¡ç®—å¹³å‡æ•°æ ‡å‡†è¯¯ï¼š$$S_{\bar{X}}=\sqrt{\frac{S_e^2}{n}}$$ è¿™é‡Œä¸¤ç»„å¤„ç†çš„æ ·æœ¬å®¹é‡æ˜¯ä¸€è‡´çš„ï¼š$n_1=n_2=n$ï¼Œå®žéªŒè®¾è®¡æ—¶ä¸€èˆ¬ä¹Ÿä¸ä¼šè®¾è®¡ä¸ä¸€è‡´è¿™ç§éªšæ“ä½œã€‚ 3.æ ¹æ®è‡ªç”±åº¦ $df_e$ å’ŒæŽ’åºå¹³å‡æ•°ä¸­ç›¸åº”ä¸¤ä¸ªæ•°ä¹‹é—´åŒ…å«çš„å¹³å‡æ•°ä¸ªæ•°MæŸ¥SSRå€¼è¡¨ï¼Œè®¡ç®—æœ€å°æ˜¾è‘—æžå·®å€¼ï¼ˆLSRå€¼ï¼‰ï¼š $$LSR_\alpha=SSR_\alpha{\cdot}S_{\bar{X}}$$ Må€¼æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼ŸæŽ’åºå¹³å‡æ•°ä¸­ç›¸åº”ä¸¤ä¸ªæ•°ä¹‹é—´åŒ…å«çš„å¹³å‡æ•°ä¸ªæ•°ï¼Œå³ç´¢å¼•å€¼å·®+1ï¼Œç›¸é‚»ä¸¤ä¸ªå‡æ•°çš„Må€¼ä¸º2ã€‚ (2) qæ£€éªŒqæ£€éªŒä¹Ÿå«NKæ£€éªŒï¼Œä¸ŽSSRæ£€éªŒååˆ†ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯åœ¨ç¬¬äºŒæ­¥è®¡ç®— $LSR_\alpha$ æ—¶ä½¿ç”¨çš„æ˜¯ $q_\alpha$ å€¼ï¼Œè€Œä¸æ˜¯ $SSR_\alpha$ å€¼ï¼Œå› æ­¤éœ€è¦æŸ¥ $q_\alpha$ å€¼è¡¨ã€‚ $$LSR_\alpha=q_\alpha{\cdot}S_{\bar{X}}$$ 3.å„ä¸ªæ–¹æ³•åº”ç”¨åœºæ™¯ä¸Šé¢æåˆ°çš„LSDæ£€éªŒã€SSRæ£€éªŒï¼ˆæ–°å¤æžå·®æ£€éªŒï¼‰ã€qæ£€éªŒåˆ†åˆ«æœ‰è‡ªå·±çš„é€‚ç”¨åœºæ™¯ å› æ­¤åº”ç”¨æ—¶ å¯¹äºŽç²¾åº¦è¦æ±‚é«˜çš„æ£€éªŒï¼Œè¯·ä½¿ç”¨qæ£€éªŒï¼› SSRæ£€éªŒé€‚ç”¨äºŽä¸€èˆ¬çš„æ£€éªŒï¼› LSDæ£€éªŒé€‚ç”¨äºŽå°†å„ä¸ªå®žéªŒç»„ä¸Žå¯¹ç…§ç»„è¿›è¡Œæ¯”è¾ƒã€‚ å…­ã€æ–¹å·®åˆ†æžçš„åŸºæœ¬æ­¥éª¤ä»Žä¸Šé¢çš„è¿‡ç¨‹æˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºæ–¹å·®åˆ†æžçš„ä¸‰ä¸ªå¤§æ­¥éª¤ï¼š å¯¹æ ·æœ¬æ•°æ®çš„æ€»å¹³æ–¹å’Œå’Œæ€»è‡ªç”±åº¦åˆ†è§£ä¸ºå„ä¸ªå˜å¼‚å› ç´ çš„å¹³æ–¹å’Œå’Œè‡ªç”±åº¦ï¼› è¿›è¡Œ $F$ æ£€éªŒï¼Œæ£€éªŒå„ä¸ªå˜å¼‚å› ç´ åœ¨æ€»å˜å¼‚ä¸­çš„é‡è¦ç¨‹åº¦ï¼› ç»„é—´å‡æ•°è¿›è¡Œä¸¤ä¸¤æ¯”è¾ƒã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>UCASç”Ÿç‰©ç»Ÿè®¡ä¸Žå®žéªŒè®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡è®¾æ£€éªŒ-æ˜¾è‘—æ€§å‡è®¾æ£€éªŒ]]></title>
    <url>%2Fstat%2F20181018-327a.html</url>
    <content type="text"><![CDATA[ä¸ç®¡æ˜¯ä¸‹é¢çš„å•æ ·æœ¬è¿˜æ˜¯åŒæ ·æœ¬éƒ½æœ‰ä¸¤ä¸ªå¤§å‰æï¼šæ€»ä½“æœä»Žæ­£æ€åˆ†å¸ƒã€æ–¹å·®é½æ€§ï¼ 1. å•æ ·æœ¬å¹³å‡æ•°$\bar{x}$çš„å·®å¼‚æ˜¾è‘—æ€§æ£€éªŒè¿™é‡ŒæŒ‡çš„å®žé™…ä¸Šæ˜¯ä¸€ä¸ªæ ·æœ¬ï¼ˆçš„å¹³å‡æ•°ï¼‰å’Œæ€»ä½“ï¼ˆçš„å¹³å‡æ•°ï¼‰é—´çš„å·®å¼‚æ˜¾è‘—æ€§ï¼Œå› ä¸ºæˆ‘ä»¬åªæœ‰ä¸€ä¸ªæ ·æœ¬ï¼Œè¿™å°±è¦æ±‚æ€»ä½“å‚æ•°ï¼ˆè¿™é‡Œæ˜¯å‡å€¼ï¼‰å·²çŸ¥ï¼Œè¿™é€šå¸¸æ˜¯ä¸€ä¸ªç†è®ºå€¼ã€ç»éªŒå€¼æˆ–è€…æœŸæœ›å€¼ã€‚ (1). å¤§æ ·æœ¬ï¼ˆnâ‰¥30ï¼‰çš„å‡æ•°æ£€éªŒå¤§æ ·æœ¬é€šå¸¸æŒ‡çš„æ˜¯nâ‰¥30ï¼Œæ­¤æ—¶æ ·æœ¬çš„å‡å€¼å°†æœä»ŽäºŽæ­£æ€åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ ‡å‡†åŒ–ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œè¿›è€Œä½¿ç”¨uæ£€éªŒè¿›è¡Œå‡è®¾æ£€éªŒã€‚ a. æ€»ä½“æ–¹å·®$\sigma^2$å·²çŸ¥æ—¶æ€»ä½“æ–¹å·®$\sigma^2$å·²çŸ¥æ—¶ç›´æŽ¥è®¡ç®—ç›¸åº”çš„uå€¼ï¼š $$\sigma_{\bar{x}}=\sqrt{\frac{\sigma^2}{n}}=\frac{\sigma}{\sqrt{n}}$$ $$u=\frac{\bar{x}-\mu_0}{\sigma_{\bar{x}}}=\frac{\bar{x}-\mu_0}{\sigma/\sqrt{n}}{\sim}N(0,1)$$ å¼ä¸­$\bar{x}$æ˜¯æ ·æœ¬å‡å€¼ï¼Œ$\mu_0$æ˜¯æ€»ä½“å‡å€¼ï¼Œ$\sigma$æ˜¯æ€»ä½“æ–¹å·®ï¼Œ$n$æ˜¯æ ·æœ¬å®¹é‡ã€‚ b. æ€»ä½“æ–¹å·®$\sigma^2$æœªçŸ¥æ—¶åœ¨å¤§æ ·æœ¬çš„æ¡ä»¶ä¸‹ç›´æŽ¥ç”¨æ ·æœ¬æ–¹å·®$s^2$ä»£æ›¿æ€»ä½“æ–¹å·®$\sigma^2$ï¼Œè®¡ç®—uå€¼çš„æ–¹æ³•åŒä¸Šï¼š $$s_{\bar{x}}=\sqrt{\frac{s^2}{n}}=\frac{s}{\sqrt{n}}$$ $$u=\frac{\bar{x}-\mu_0}{s_{\bar{x}}}=\frac{\bar{x}-\mu_0}{s/\sqrt{n}}{\sim}N(0,1)$$ æ ·æœ¬æ–¹å·®$s^2$çš„è®¡ç®—ï¼š $$s^2=\frac{1}{n-1}\sum_{i=1}^{n}{(x_i-\bar{x})^2}$$ (2). å°æ ·æœ¬ï¼ˆn&lt;30ï¼‰çš„å‡æ•°æ£€éªŒå°æ ·æœ¬åªèƒ½ä½¿ç”¨tæ£€éªŒï¼Œæ­¤æ—¶æˆ‘ä»¬è¦æ±‚çš„æ˜¯tå€¼è€Œä¸æ˜¯uå€¼ã€‚ å°æ ·æœ¬çš„æ–¹å·®$s^2$ä¸Žæ€»ä½“çš„æ–¹å·®$\sigma^2$å¾€å¾€å·®è·è¾ƒå¤§ã€‚ tæ£€éªŒæ—¶æŸ¥ä¸´ç•Œå€¼è¡¨ä¾æ®çš„æ˜¯è‡ªç”±åº¦dfï¼Œè¿™ä¸ªå€¼é€šå¸¸æ˜¯n-1ã€‚ $$s^2=\frac{1}{n-1}\sum_{i=1}^{n}{(x_i-\bar{x})^2}$$ $$s_{\bar{x}}=\sqrt{\frac{s^2}{n}}=\frac{s}{\sqrt{n}}$$ $$t=\frac{\bar{x}-\mu_0}{s_{\bar{x}}}=\frac{\bar{x}-\mu_0}{s/\sqrt{n}}{\sim}t(n-1)$$ 2. ä¸¤ä¸ªæ ·æœ¬å¹³å‡æ•°$\bar{x_1}$å’Œ$\bar{x_2}$é—´çš„å·®å¼‚æ˜¾è‘—æ€§æ£€éªŒ(1). ä¸¤ä¸ªå¤§æ ·æœ¬ï¼ˆ$n_1\ge30$ä¸”$n_2\ge30$ï¼‰çš„å‡æ•°æ£€éªŒå½“ä¸¤ä¸ªæ ·æœ¬éƒ½æ˜¯å¤§æ ·æœ¬æ—¶ï¼Œä¸Žå•æ ·æœ¬æ£€éªŒç±»ä¼¼ï¼Œä»å¯ä»¥ä½¿ç”¨uæ£€éªŒã€‚ a. å¦‚æžœä¸¤ä¸ªæ ·æœ¬çš„æ–¹å·®$\sigma^1$å’Œ$\sigma^2$å·²çŸ¥$$\sigma_{\bar{x_1}-\bar{x_2}}=\sqrt{\frac{\sigma_1^2}{n_1}+\frac{\sigma_2^2}{n_2}}$$ $$u=\frac{\bar{x_1}-\bar{x_2}}{\sigma_{\bar{x_1}-\bar{x_2}}}{\sim}N(0,1)$$ b. å¦‚æžœä¸¤ä¸ªæ ·æœ¬çš„æ–¹å·®$\sigma^1$å’Œ$\sigma^2$æœªçŸ¥ä½¿ç”¨$s_{\bar{x_1}-\bar{x_2}}$æ¥ä»£æ›¿$\sigma_{\bar{x_1}-\bar{x_2}}$: $$s_{\bar{x_1}-\bar{x_2}}=\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}$$ $$u=\frac{\bar{x_1}-\bar{x_2}}{s_{\bar{x_1}-\bar{x_2}}}{\sim}N(0,1)$$ (2). ä¸¤ä¸ªå°æ ·æœ¬ï¼ˆ$n_1\le30$ä¸”$n_2\le30$ï¼‰çš„å‡æ•°æ£€éªŒå°æ ·æœ¬ä½¿ç”¨tæ£€éªŒã€‚ æŒ‰ç…§å®žéªŒè®¾è®¡çš„ä¸åŒï¼Œä¸¤ä¸ªæ ·æœ¬å¯ä»¥æ˜¯ç‹¬ç«‹æ ·æœ¬ï¼Œä¹Ÿå¯ä»¥æ˜¯é…å¯¹æ ·æœ¬ã€‚ A. é…å¯¹æ ·æœ¬å‡æ•°çš„tæ£€éªŒæ­¤æ—¶ä¸¤ç»„æ•°æ®å°†å½¢æˆå¯¹å­ï¼Œå› æ­¤ä¸¤ä¸ªæ ·æœ¬çš„æ ·æœ¬å®¹é‡æ˜¯ä¸€æ ·çš„ï¼Œå³$n_1=n_2$ã€‚ é…å¯¹å¯ä»¥å‡å°‘ä¸ªä½“å·®å¼‚å¯¹å®žéªŒçš„å½±å“ï¼Œä½†æ˜¯ä¹Ÿä¼šå¢žåŠ æ•°æ®å¤„ç†çš„å¤æ‚åº¦ã€‚ é…å¯¹æƒ…å†µé€šå¸¸æœ‰ä»¥ä¸‹ä¸‰ç±»ï¼š ä¸¤ä¸ªç›¸ä¼¼ä¸ªä½“ç»„æˆä¸€å¯¹è¿›è¡Œä¸åŒçš„å®žéªŒå¤„ç†ï¼šæ­¤æ—¶å¹¶æ²¡æœ‰å®Œå…¨æ¶ˆé™¤ä¸ªä½“å·®å¼‚çš„å½±å“ã€‚ åŒä¸€ä¸ªä¸ªä½“åŒæ—¶è¿›è¡Œä¸¤ç§ä¸åŒçš„å¤„ç†ï¼šå¤„ç†çš„ç©ºé—´ä½ç½®ä¸åŒã€‚ åŒä¸€ä¸ªä¸ªä½“å…ˆåŽè¿›è¡Œä¸¤ç§ä¸åŒçš„å¤„ç†ï¼šä¸åŒæ—¶é—´ä¸ªä½“çš„çŠ¶æ€å¯èƒ½ä¸åŒã€‚ ç®€å•ç†è§£å°±æ˜¯ï¼šç¬¬ä¸€ç±»ä½¿ç”¨ç›¸ä¼¼çš„ä¸¤ä¸ªä¸ªä½“ï¼Œç¬¬äºŒç±»åŒæ—¶ä½¿ç”¨åŒä¸€ä¸ªä¸ªä½“ä¸åŒçš„éƒ¨ä½ï¼Œç¬¬ä¸‰ç±»å…ˆåŽä½¿ç”¨åŒä¸€ä¸ªä½“ç›¸åŒçš„éƒ¨ä½ã€‚ è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š $$d_i=x_i-y_i$$ $$\bar{d}=\frac1n\sum_{i=1}^{n}d_i$$ $$s_d^2=\frac{1}{n-1}\sum_{i=1}^{n}(d_i-\bar{d})^2$$ $$t=\frac{\bar{d}}{s_d/\sqrt{n}}$$ $$df=n-1$$ æŸ¥tæ£€éªŒä¸´ç•Œå€¼è¡¨æ—¶æ³¨æ„ä½¿ç”¨dfå€¼è€Œä¸æ˜¯nå€¼ã€‚ B. ç‹¬ç«‹æ ·æœ¬å‡æ•°çš„tæ£€éªŒå¯¹äºŽç‹¬ç«‹æ ·æœ¬ä¸å­˜åœ¨é…å¯¹æƒ…å†µï¼Œå› æ­¤$n_1$å’Œ$n_2$å¾€å¾€ä¸åŒã€‚ ä¸¤ç‹¬ç«‹æ ·æœ¬å¯¹åº”çš„æ€»ä½“æ–¹å·®å¯èƒ½ä¸åŒï¼Œå› æ­¤ï¼š (a). å½“ä¸¤æ ·æœ¬æ–¹å·®ç›¸åŒæˆ–è€…å‡è®¾ç›¸åŒæ—¶æ­¤æ—¶è®¡ç®—è‡ªç”±åº¦$v=n_1+n_2-2$ è®¡ç®—ä¸¤ä¸ªæ ·æœ¬çš„å‡å€¼$\bar{x_1}$å’Œ$\bar{x_2}$ã€æ–¹å·®$S_1^2$å’Œ$S_2^2$ã€‚ $$S_c^2=\frac{(n_1-1)S_1^2+(n_2-1)S_2^2}{v}$$ $$S_{\overline{X_1}-\overline{X_2}}=\sqrt{(\frac{1}{n_1}+\frac{1}{n_2})S_c^2}$$ $$t=\frac{\overline{x_1}-\overline{x_2}}{S_{\overline{X_1}-\overline{X_2}}}$$ (b). ç»è¿‡Fæ£€éªŒä¸¤æ ·æœ¬æ–¹å·®ä¸åŒæ—¶å¦‚æžœ$n_1=n_2=n$: è®¡ç®—æ–¹æ³•ä¸Žå‡è®¾æ–¹å·®ç›¸åŒæ—¶ä¸€è‡´ï¼Œåªæ˜¯è‡ªç”±åº¦ä¸º$n-1$è€Œä¸æ˜¯$2n-2$ã€‚ æ²¡çœ‹æ‡‚ï¼Œå…ˆæŠ„ä¸‹æ¥â€¦â€¦ 3. uåˆ†å¸ƒä¸Žtåˆ†å¸ƒçš„åŒºåˆ«å’Œè”ç³»uæ£€éªŒç†è®ºä¸Šè¦æ±‚å¤§æ ·æœ¬ï¼ˆå³$n\to+\infty$ï¼‰ï¼Œä½†æ˜¯è¿™åœ¨å®žé™…æƒ…å†µä¸­æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥æ•™ç§‘ä¹¦è®¾ç½®æ ‡å‡†ä¸ºn=30ã€‚ æŒ‰ç…§ä¸­å¿ƒæžé™å®šç†ï¼šåœ¨é€‚å½“çš„æ¡ä»¶ä¸‹ï¼Œå¤§é‡ç›¸äº’ç‹¬ç«‹éšæœºå˜é‡çš„å‡å€¼ç»é€‚å½“æ ‡å‡†åŒ–åŽä¾åˆ†å¸ƒæ”¶æ•›äºŽæ­£æ€åˆ†å¸ƒã€‚è¿™å°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨å¤§ï¼ˆæ— ç©·ï¼‰æ ·æœ¬æ—¶ï¼Œæ ·æœ¬çš„å‡å€¼æ‰ä¼šæœä»Žæ­£æ€åˆ†å¸ƒã€‚æŒ‰ç…§æ­£æ€åˆ†å¸ƒçš„æ¦‚çŽ‡å¯†åº¦å‡½æ•°ï¼š $$f(x)=\frac{1}{\sigma\sqrt{2\pi}}e^{-\frac{(x-\mu)^2}{2{\sigma}^2}}$$ å®ƒåªä¸Žæ€»ä½“çš„å‚æ•°$\mu$å’Œ$\sigma$æœ‰å…³ï¼Œè€Œä¸Žæ ·æœ¬å®¹é‡næ— å…³ã€‚ æœ‰é™æ ·æœ¬ç‰¹åˆ«æ˜¯å°æ ·æœ¬ä¸‹æ ·æœ¬å‡å€¼æ˜¯ä¸ä¸¥æ ¼æœä»Žæ­£æ€åˆ†å¸ƒçš„ï¼Œæ­¤æ—¶æœ‰ä¸ªæ›´å¥½çš„åˆ†å¸ƒå¯ä»¥åˆ»ç”»æ ·æœ¬å‡å€¼ï¼Œè¿™å°±æ˜¯tåˆ†å¸ƒã€‚ $$f(t)=\frac{\Gamma(\frac{\nu+1}{2})}{\sqrt{\nu\pi}\Gamma(\frac{\nu}{2})}(1+\frac{t^2}{\nu})^{\frac{-(\nu+1)}{2}}$$ $$\nu=n-1$$ å®ƒåªä¸Žæ ·æœ¬å®¹é‡næœ‰å…³ï¼ ä½†æ˜¯è¯·æ³¨æ„ï¼Œå½“$n\to+\infty$æ—¶ï¼Œtåˆ†å¸ƒå°†ä¼šååˆ†æŽ¥è¿‘æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œæœ‰å›¾ä¸ºè¯ï¼š æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¯´ï¼Œæ ‡å‡†æ­£æ€åˆ†å¸ƒåªæ˜¯tåˆ†å¸ƒåœ¨$n\to+\infty$æ—¶çš„ä¸€ä¸ªç‰¹ä¾‹ï¼ å› æ­¤åœ¨æœ‰é™æ ·æœ¬å®¹é‡æƒ…å†µä¸‹ï¼Œtæ£€éªŒåº”è¯¥æ›´åˆç†å’Œç²¾ç¡®ï¼Œæ‰€ä»¥åœ¨tæ£€éªŒå¯è¡Œçš„æƒ…å†µä¸‹åº”è¯¥ä¼˜å…ˆé‡‡ç”¨tæ£€éªŒã€‚ä»€ä¹ˆæ—¶å€™ä¸å¯è¡Œå‘¢ï¼Ÿtæ£€éªŒæ˜¯è¦æ ¹æ®è‡ªç”±åº¦æŸ¥è¡¨çš„ï¼Œå¦‚æžœè‡ªç”±åº¦å€¼ä¸åˆé€‚å¯¼è‡´æ— æ³•æŸ¥è¡¨ï¼Œæ­¤æ—¶å°±æ¯”è¾ƒå°´å°¬äº†ã€‚ä¹Ÿä¸çŸ¥é“çŽ°åœ¨è¿™ä¸ªé—®é¢˜æ˜¯æ€Žä¹ˆè§£å†³çš„~ã€‚ ä¸‹é¢æ˜¯ä¸€å¼ å¸¸è§çš„tåˆ†å¸ƒä¸´ç•Œå€¼è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°å½“è‡ªç”±åº¦è¶…è¿‡30ä»¥åŽå°±ä¸è¿žç»­äº†~ï¼ˆä¸æ˜¯ç»å¯¹çš„ï¼Œä½†é“ç†å¤§æŠµå¦‚æ­¤å§ï¼‰ åŒæ—¶ç”±ä¸Šå›¾æˆ‘ä»¬çŸ¥é“ï¼Œå½“n=30çš„æ—¶å€™ï¼Œtåˆ†å¸ƒå’Œuåˆ†å¸ƒå·²ç»ååˆ†è¿‘ä¼¼äº†ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ä¸ªæ ·æœ¬å®¹é‡å¤§äºŽ30æ—¶ç”¨uæ£€éªŒçš„è§„åˆ™ã€‚ æ‰€ä»¥ â–¶ uæ£€éªŒé€‚ç”¨äºŽå¤§æ ·æœ¬çš„æƒ…æ™¯ï¼Œtæ£€éªŒé€‚ç”¨äºŽå°æ ·æœ¬çš„æƒ…æ™¯ã€‚ â–¶ tåˆ†å¸ƒæ›´åŠ ç¬¦åˆæœ‰é™æ ·æœ¬çš„åœºæ™¯ï¼Œç†è®ºä¸Štæ£€éªŒæ›´åŠ ç²¾ç¡®ã€‚ 4. ä¸¤ç‹¬ç«‹æ ·æœ¬çš„æ–¹å·®çš„é½æ€§æ£€éªŒåŽŸå‡è®¾$H_0$: $\sigma_1=\sigma_2$ (æ–¹å·®é½æ€§) å¤‡æ‹©å‡è®¾$H_1$: $\sigma_1\ne\sigma_2$ (æ–¹å·®ä¸é½æ€§) $$F=\frac{max(S_1^2,S_2^2)}{min(S_1^2,S_2^2)}$$ $$v_1=n_1-1$$ $$v_2=n_2-1$$ æŸ¥Fæ£€éªŒä¸´ç•Œå€¼è¡¨ã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>UCASç”Ÿç‰©ç»Ÿè®¡ä¸Žå®žéªŒè®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡è®¾æ£€éªŒ-å‡è®¾æ£€éªŒçš„åŸºæœ¬åŽŸç†]]></title>
    <url>%2Fstat%2F20181017-aa04.html</url>
    <content type="text"><![CDATA[æ˜¾è‘—æ€§æ£€éªŒçš„æ„ä¹‰ä»¥å‡æ•°å·®å¼‚æ˜¾è‘—æ€§æ£€éªŒæ¥è¯´ï¼Œä¸¤æ ·æœ¬å¹³å‡æ•°ä¸º$\bar{x_1}$å’Œ$\bar{x_2}$ï¼Œæ ·æœ¬èƒŒåŽå¯¹åº”çš„æ€»ä½“å‡å€¼ç›¸åº”çš„ä¸º$\mu_1$å’Œ$\mu_1$ã€‚ä¸‹å¼ååˆ†å®¹æ˜“ç†è§£ï¼š $$\bar{x_1}=\mu_1+\bar{\epsilon_1}$$ $$\bar{x_2}=\mu_2+\bar{\epsilon_2}$$ å…¶ä¸­$\bar{\epsilon_1}$å’Œ$\bar{\epsilon_2}$å‡è¡¨ç¤ºå®žéªŒè¯¯å·®ã€‚ å½“æˆ‘ä»¬æ£€éªŒè¿™ä¸¤ä¸ªæ ·æœ¬çš„å‡æ•°æ˜¯å¦å­˜åœ¨å·®å¼‚æ—¶ä¾æ®çš„å®žé™…ä¸Šæ˜¯ä¸‹é¢è¿™ä¸ªå¼å­ï¼š $$\bar{x_1}-\bar{x_2}=(\mu_1-\mu_2)+(\bar{\epsilon_1}-\bar{\epsilon_2})$$ å³æ ·æœ¬å‡æ•°é—´çš„å·®å¼‚ï¼ˆè¡¨é¢å·®å¼‚ï¼‰æ˜¯ç”±æ€»ä½“é—´çš„çœŸå®žå·®å¼‚å’ŒæŠ½æ ·è¯¯å·®å…±åŒå†³å®šçš„ã€‚ æ‰€ä»¥æ˜¾è‘—æ€§æ£€éªŒçš„ç›®çš„å°±æ˜¯ï¼šåˆ¤æ˜Žè¡¨é¢å·®å¼‚$\bar{x_1}-\bar{x_2}$æ˜¯æ¥æºäºŽæ€»ä½“çœŸå®žå·®å¼‚$\mu_1-\mu_2$è¿˜æ˜¯æŠ½æ ·è¯¯å·®$\bar{\epsilon_1}-\bar{\epsilon_2}$ã€‚ åŽŸå‡è®¾ä¸Žå¤‡æ‹©å‡è®¾çš„é€‰å–ç»Ÿè®¡å­¦ä¸ºå®žé™…ç›®çš„æœåŠ¡ï¼Œæˆ‘ä»¬å¯¹æŸä¸ªæ€»ä½“è¿›è¡ŒæŠ½æ ·éƒ½æ˜¯æœ‰ç¡®åˆ‡ç›®çš„çš„ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¾€å¾€å¸Œæœ›é€šè¿‡è‡ªå·±çš„åŠªåŠ›æœé›†ä¸€å®šçš„è¯æ®åŽ»è¯æ˜Žä¸€äº›ä¸œè¥¿ï¼Œè¿™å®žé™…ä¸Šæ˜¯ä¸€ä¸ªç«‹åœºé—®é¢˜ã€‚è­¬å¦‚è´¨é‡æ£€æµ‹äººå‘˜å¸Œæœ›æ£€æµ‹å‡ºåŠ£è´¨äº§å“è€Œä¸æ˜¯åˆæ ¼äº§å“ï¼Œå› ä¸ºå…¶å·¥ä½œå†…å®¹å°±æ˜¯åŠªåŠ›æ‰¾å‡ºä¸åˆæ ¼çš„äº§å“ï¼›ç»™ä½œç‰©æ–½åŠ æ”¹è‰¯è¯ç‰©å¸Œæœ›çš„æ˜¯ä½œç‰©äº§é‡æé«˜è€Œä¸æ˜¯ä¸€æˆä¸å˜â€¦ ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½å¸Œæœ›æ€»ä½“çš„å‚æ•°å­˜åœ¨å·®å¼‚ï¼ˆå½“ç„¶è¿™ä¹Ÿä¸æ˜¯ç»å¯¹çš„~ï¼‰ï¼Œè¿™æ˜¯æˆ‘ä»¬å‡è®¾æ£€éªŒçš„æ–¹å‘ï¼Œæ­¤æ—¶æˆ‘ä»¬è¿›è¡Œè¯•éªŒçš„åˆè¡·ä¹Ÿæ˜¯å¸Œæœ›æ”¹å˜æ€»ä½“çš„å‚æ•°å·²å®Œæˆæˆ‘ä»¬çš„å·¥ä½œç›®æ ‡ã€‚æˆ‘ä»¬å°†ä¸Žå‡è®¾æ£€éªŒæ–¹å‘ç›¸åŒçš„å‡è®¾ç§°ä¸ºå¤‡æ‹©å‡è®¾ï¼Œä¸Žå¤‡æ‹©å‡è®¾å†é€»è¾‘ä¸Šå®Œå¤‡äº’æ–¥çš„å‡è®¾ç§°ä¸ºåŽŸå‡è®¾ï¼ˆæ— æ•ˆå‡è®¾ã€é›¶å‡è®¾ï¼‰ã€‚ æ‰€ä»¥åŽŸå‡è®¾å¾€å¾€å¸Œæœ›æ€»ä½“å‚æ•°ä¸å‘ç”Ÿå˜åŒ–ï¼Œå³è¡¨é¢å·®å¼‚ç”±æŠ½æ ·è¯¯å·®å†³å®šã€‚æˆ‘ä»¬å‡è£…æŽ¥å—åŽŸå‡è®¾ï¼Œç„¶åŽå¯¹åŽŸå‡è®¾è¿›è¡Œæ£€éªŒï¼Œå®žé™…ä¸Šå°±æ˜¯å¯¹è¡¨é¢å·®å¼‚ç”±æŠ½æ ·è¯¯å·®å†³å®šè¿™ä¸€åŸºäºŽåŽŸå‡è®¾çš„ç»“è®ºè¿›è¡Œæ£€éªŒã€‚åŽç»­é€šè¿‡æ±‚è§£P(è¡¨é¢å·®å¼‚ç”±æŠ½æ ·è¯¯å·®å†³å®š)é€šè¿‡å°æ¦‚çŽ‡äº‹ä»¶ä¸å¯èƒ½å‘ç”ŸåŽŸç†å¯¹åŽŸå‡è®¾äºˆä»¥æŽ¥å—æˆ–è€…æ‹’ç»ã€‚ â—† ç”±äºŽåŽŸå‡è®¾å‡å®šæ€»ä½“å‚æ•°æœªå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥ç­‰å·å¾€å¾€å‡ºçŽ°åœ¨åŽŸå‡è®¾ä¸­ â—† åŽŸå‡è®¾ä¸Žå¤‡æ‹©å‡è®¾é€»è¾‘ä¸Šå®Œå¤‡äº’æ–¥ï¼Œä¸”åŽŸå‡è®¾ç”±å¤‡æ‹©å‡è®¾ç¡®å®š â—† å¤‡æ‹©å‡è®¾çš„é€‰æ‹©å¾€å¾€å’Œå®žéªŒäººå‘˜çš„ç«‹åœºæ¯æ¯ç›¸å…³ ä¸‹é¢å¯¹æ¡ˆä¾‹è¿›è¡Œè¯¦ç»†åˆ†æžï¼š æ¡ˆä¾‹1 é›¶ä»¶è´¨é‡é—®é¢˜èƒŒæ™¯ï¼šä¸€æ±½è½¦é…ä»¶ç”Ÿäº§ä¼ä¸šç”Ÿäº§çš„æŸç§æ±½è½¦é›¶ä»¶é•¿åº¦æ ‡å‡†ä¸º70æ¯«ç±³ï¼Œä¸ºå¯¹é›¶ä»¶è´¨é‡è¿›è¡ŒæŽ§åˆ¶ï¼Œè´¨é‡ç›‘æµ‹äººå‘˜éœ€è¦å¯¹ç”Ÿäº§çº¿ä¸Šçš„ä¸€å°åŠ å·¥æœºåºŠè¿›è¡Œæ£€æŸ¥ï¼Œä»¥ç¡®å®šè¿™å°æœºåºŠç”Ÿäº§çš„é›¶ä»¶æ˜¯å¦ç¬¦åˆæ ‡å‡†è¦æ±‚ã€‚å¦‚æžœé›¶ä»¶çš„å¹³å‡é•¿åº¦å¤§äºŽæˆ–å°äºŽ70æ¯«ç±³ï¼Œåˆ™è¡¨æ˜Žè¯¥é›¶ä»¶è´¨é‡ä¸æ­£å¸¸ï¼Œå¿…é¡»å¯¹æœºåºŠè¿›è¡Œæ£€æŸ¥ã€‚åˆ†æžï¼šâ€œ70æ¯«ç±³â€æ˜¯ï¼ˆåˆæ ¼äº§å“ï¼‰æ€»ä½“çš„å‚æ•°ï¼Œè´¨é‡æ£€æµ‹äººå‘˜å°†è¿›è¡ŒæŠ½æ ·ï¼Œéœ€è¦æ¯”è¾ƒè¿™ä¸ªæ ·æœ¬å¯¹åº”çš„æ€»ä½“å’Œåˆæ ¼äº§å“æ€»ä½“ã€‚è´¨é‡æ£€æµ‹äººå‘˜å¸Œæœ›é€šè¿‡æœé›†è¯æ®è¯æ˜Žçš„æ˜¯æ ·æœ¬ä¸åˆæ ¼ï¼ˆå…¶å·¥ä½œä»»åŠ¡æ€»æ˜¯å¸Œæœ›æ‰¾å‡ºä¸åˆæ ¼çš„äº§å“ï¼‰ï¼Œå› æ­¤å¤‡æ‹©å‡è®¾ä¸ºâ€œé›¶ä»¶çš„å¹³å‡é•¿åº¦å¤§äºŽæˆ–å°äºŽï¼ˆä¸ç­‰äºŽï¼‰70æ¯«ç±³â€ï¼ˆè¿™æ˜¯æ£€æµ‹äººå‘˜å¸Œæœ›é€šè¿‡åŠªåŠ›è¯æ˜Žçš„ç»“æžœï¼‰ã€‚ç”±å¤‡æ‹©å‡è®¾ç¡®å®šåŽŸå‡è®¾ä¸ºâ€œé›¶ä»¶çš„å¹³å‡é•¿åº¦ç­‰äºŽ70æ¯«ç±³â€ã€‚ æ¡ˆä¾‹2 åˆæ ¼çŽ‡é—®é¢˜èƒŒæ™¯ï¼šä¸€é‡‡è´­å•†éœ€è¦é‡‡è´­ä¸€æ‰¹æž„ä»¶ï¼ŒæŸä¾›åº”å•†ç§°å…¶æä¾›çš„æž„ä»¶åˆæ ¼çŽ‡è¶…è¿‡95%ï¼Œä¸ºäº†æ£€éªŒå…¶å¯ä¿¡åº¦ï¼Œé‡‡è´­å•†éšæœºæŠ½å–äº†ä¸€æ‰¹æ ·æœ¬è¿›è¡Œæ£€éªŒã€‚ åˆ†æžï¼šâ€œ95%â€æ˜¯æ€»ä½“çš„å‚æ•°ã€‚é‡‡è´­å•†çš„ç«‹åœºæ€»æ˜¯å°è¯•è¯æ˜Žæž„ä»¶åˆæ ¼çŽ‡ä¸è¶…è¿‡95%ï¼Œè¿™ä¹Ÿæ˜¯æ€»ä½“å‚æ•°å‘ç”Ÿæ”¹å˜çš„å‡è®¾ï¼Œå› æ­¤æˆ‘ä»¬å°†ä¹‹ä½œä¸ºå¤‡æ‹©å‡è®¾ã€‚ç”±å¤‡æ‹©å‡è®¾ç¡®å®šçš„åŽŸå‡è®¾ä¸ºâ€œæž„ä»¶åˆæ ¼çŽ‡â‰¥95%â€ã€‚ æ¡ˆä¾‹3 æˆåˆ†å«é‡é—®é¢˜èƒŒæ™¯ï¼šä¸€ä¹³åˆ¶å“ç”Ÿäº§å•†ç”Ÿäº§çš„å¥¶ç²‰è¢«åª’ä½“æ›å…‰æŸç§è¥å…»æˆåˆ†å¤§å¤§ä½ŽäºŽå›½å®¶è§„å®šçš„2%çš„å«é‡æ ‡å‡†ã€‚ â–¶ çŽ°è´¨é‡ç›‘ç£éƒ¨é—¨ä»Žä¿æŠ¤æ¶ˆè´¹è€…æƒç›Šè§’åº¦å‡ºå‘ï¼Œå¯¹æ›å…‰çš„å¥¶ç²‰è¿›è¡ŒæŠ½æŸ¥ï¼Œè¯·å¯¹æ£€éªŒåšå‡ºå‡è®¾ã€‚ åˆ†æžï¼šè´¨é‡ç›‘ç£éƒ¨é—¨çš„ç«‹åœºæ˜¯é€šè¿‡æœé›†è¯æ®è¯æ˜Žè¯¥æˆåˆ†å«é‡ä½ŽäºŽ2%ï¼Œå› æ­¤å¤‡æ‹©å‡è®¾ä¸ºâ€œæˆåˆ†å«é‡&lt;2%â€ï¼ŒåŽŸå‡è®¾ä¸ºâ€œæˆåˆ†å«é‡â‰¥2%â€ã€‚ â–¶ å¦‚æžœç”Ÿäº§å•†ç›¸ä¿¡å…¶äº§å“ä¸å­˜åœ¨ä¸Šè¿°é—®é¢˜ï¼Œåˆ¤æ–­è¿™æ˜¯ç”±ç«žäº‰å¯¹æ‰‹æ“çºµçš„ä¸æ­£å½“ç«žäº‰æ‰‹æ®µï¼Œå¹¶å§”æ‰˜å¸‚åœºä¸Šçš„ç¬¬ä¸‰æ–¹æ£€æµ‹æœºæž„è¿›è¡Œæ£€æµ‹ï¼Œè¯·å¯¹è¿™ä¸€æ£€éªŒä½œå‡ºå‡è®¾ã€‚ åˆ†æžï¼šç¬¬ä¸‰æ–¹æ£€æµ‹æœºæž„çš„ç«‹åœºæ˜¯é€šè¿‡è‡ªå·±çš„åŠªåŠ›è¯æ˜Žæˆåˆ†å«é‡æ˜¯åˆæ ¼çš„ï¼ˆå› ä¸ºè¿™ä¹Ÿæ˜¯ç”Ÿäº§å•†å¸Œæœ›çœ‹åˆ°çš„ï¼Œå¦‚æžœè¿™ä¸ªæ£€æµ‹æœºæž„è·Ÿé‡‘ä¸»çˆ¸çˆ¸åšå¯¹å°±æ˜¯æœ‰ç—…äº†~ï¼‰ï¼Œå› æ­¤å¤‡æ‹©å‡è®¾ä¸ºâ€œæˆåˆ†å«é‡â‰¤2%â€ï¼ŒåŽŸå‡è®¾ä¸ºâ€œæˆåˆ†å«é‡&gt;2%â€ã€‚ â—† æœ‰è¶£çš„æ˜¯ï¼Œä¸Šé¢åŒä¸€ä¸ªæƒ…æ™¯å´å› ä¸ºç«‹åœºå’Œåˆè¡·çš„ä¸åŒå¯¼è‡´å¤‡æ‹©å‡è®¾å’ŒåŽŸå‡è®¾å®Œå…¨ç›¸åï¼Œè¿™è¡¨æ˜Žç»Ÿè®¡å­¦çœŸçš„æºäºŽç”Ÿæ´»å•Šhahaha ï¼ˆæ³¨ï¼šå°Šé‡åŽŸåˆ›ï¼Œä»¥ä¸Šæ¡ˆä¾‹å‡æ¥è‡ªäºŽåšå®¢ã€‚ï¼‰ æ˜¾è‘—æ€§æ£€éªŒçš„ä¸€èˆ¬æ­¥éª¤1.æå‡ºå‡è®¾å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ï¼š $$H_0: \mu=\mu_0$$ $$H_1: \mu\ne\mu_0$$ 2.ç¡®å®šæ˜¾è‘—æ°´å¹³æ˜¾è‘—æ°´å¹³$\alpha$ï¼ˆsignificance levelï¼‰å³å¦å®š$H_0$çš„æ¦‚çŽ‡æ ‡å‡†ï¼Œäººä¸ºè§„å®šçš„å°æ¦‚çŽ‡äº‹ä»¶åˆ†ç•Œçº¿ã€‚ç”Ÿç‰©ç»Ÿè®¡å­¦ä¸­é€šå¸¸å–0.05å’Œ0.01ã€‚ 3.è®¡ç®—æ˜¾è‘—æ¦‚çŽ‡åœ¨å‡å®šåŽŸå‡è®¾çš„æ¡ä»¶ä¸‹æ±‚è¡¨é¢å·®å¼‚æ˜¯ç”±æŠ½æ ·è¯¯å·®é€ æˆçš„çš„æ¦‚çŽ‡ã€‚ å¯¹äºŽæ€»ä½“å‚æ•°Î¼å·²çŸ¥ã€å•æ ·æœ¬å‡å€¼$\bar{x}$å¯æ±‚æ¡ä»¶ä¸‹ï¼Œè¡¨é¢å·®å¼‚ä¸º$\bar{x}-\mu$ï¼Œè¿™ä¸ªä¸éš¾ç†è§£å“ˆã€‚ â—† åˆ¤å®šæ˜¯ä¸¤å°¾æ£€éªŒè¿˜æ˜¯å•å°¾æ£€éªŒã€‚ 4.ç»Ÿè®¡æŽ¨æ–­æ ¹æ®å°æ¦‚çŽ‡äº‹ä»¶å®žé™…ä¸å¯èƒ½æ€§å¯¹åŽŸå‡è®¾äºˆä»¥æŽ¥å—æˆ–è€…å¦å®šã€‚ æ£€éªŒç»“æžœè¢«è¡¨è¿°ä¸ºâ€œåœ¨Î±æ°´å¹³ä¸Š$\bar{x}$ä¸ŽÎ¼å·®å¼‚ä¸æ˜¾è‘—/æ˜¾è‘—/æžå…¶æ˜¾è‘—â€ã€‚ ä¸æ˜¾è‘—ï¼š|u|&lt;1.96ï¼Œå³p&gt;0.05 æ˜¾è‘—ï¼š1.96â‰¤|u|&lt;2.58ï¼Œå³0.01&lt;pâ‰¤0.05 æžå…¶æ˜¾è‘—ï¼š|u|â‰¥2.58ï¼Œå³pâ‰¤0.01 æ˜¾è‘—æ°´å¹³ä¸Žä¸¤ç§ç±»åž‹çš„é”™è¯¯å®žé™…ä¸ŠåŽŸå‡è®¾æ­£ç¡®ï¼Œä½†æˆ‘ä»¬å´å¦å®šäº†åŽŸå‡è®¾è€ŒæŽ¥å—å¤‡æ‹©å‡è®¾æ—¶ä¼šçŠ¯ç¬¬â… ç±»é”™è¯¯ï¼šåŽŸå‡è®¾æ­£ç¡®æ„å‘³ç€æ€»ä½“å‚æ•°æœ¬æ¥æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯æˆ‘ä»¬æŽ¨æ–­è®¤ä¸ºä»–ä»¬ä¸åŒï¼Œå³å°†æŠ½æ ·è¯¯å·®é”™åˆ¤ä¸ºäº†çœŸå®žå·®å¼‚ã€‚ çŠ¯ç¬¬â… ç±»é”™è¯¯çš„æ¦‚çŽ‡æ˜¯Î±ï¼Œå› æ­¤å‡å°‘çŠ¯ç¬¬â… ç±»é”™è¯¯çš„æ¦‚çŽ‡åªéœ€è¦å‡å°‘Î±çš„å€¼å³å¯ã€‚ æœ¬æ¥æˆ‘ä»¬åº”è¯¥å¦å®šåŽŸå‡è®¾ï¼Œä½†æ˜¯æŽ¨æ–­åŽå´æ²¡æœ‰å¦è®¤åŽŸå‡è®¾æ—¶ä¼šçŠ¯ç¬¬â…¡ç±»é”™è¯¯ï¼šæœ¬åº”è¯¥å¦è®¤åŽŸå‡è®¾æ„å‘³ç€æ€»ä½“å‚æ•°é—´æ˜¯å­˜åœ¨å·®å¼‚çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰å¦è®¤åŽŸå‡è®¾è¯´æ˜Žæˆ‘ä»¬å°†è¿™ä¸ªçœŸå®žå·®å¼‚é”™åˆ¤ä¸ºäº†æŠ½æ ·è¯¯å·®ã€‚ å½“è¡¨é¢å·®å¼‚å¾ˆå°æˆ–è€…æŠ½æ ·è¯¯å·®å¾ˆå¤§æ—¶å°±ååˆ†å®¹æ˜“çŠ¯ç¬¬â…¡ç±»é”™è¯¯ã€‚ è¡¨é¢å·®å¼‚æˆ–è®¸ä¸å¯æŽ§åˆ¶ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å¢žå¤§æ ·æœ¬é‡æ¥å‡å°æŠ½æ ·è¯¯å·® â—† ç¬¬â… ç±»é”™è¯¯æ‹’ç»äº†æ­£ç¡®çš„åŽŸå‡è®¾ï¼Œç¬¬â…¡ç±»é”™è¯¯æŽ¥å—äº†é”™è¯¯çš„åŽŸå‡è®¾ã€‚ â—† ç¬¬â… ç±»é”™è¯¯åˆå«åšå‡é˜³æ€§é”™è¯¯ï¼šå› ä¸ºæˆ‘ä»¬æŽ¥å—äº†é”™è¯¯çš„å¤‡æ‹©å‡è®¾ã€‚ ä¸¤å°¾æ£€éªŒå’Œä¸€å°¾æ£€éªŒâ—† ä¸¤ç§æ£€éªŒçš„é€‚ç”¨æƒ…å†µï¼Ÿå¦‚æžœä»…ä»…æ£€éªŒæ˜¯å¦å­˜åœ¨å·®å¼‚ï¼Œå³ä¸åœ¨ä¹Žè°å¤§è°å°ï¼Œé‡‡ç”¨ä¸¤å°¾æ£€éªŒï¼› å‡­ç»éªŒå’Œä¸“ä¸šçŸ¥è¯†æ–­å®šå–å¤§ï¼ˆæˆ–è€…å–å°ï¼‰ï¼Œé‡‡ç”¨ä¸€å°¾æ£€éªŒã€‚ â—† ä¸€å°¾æ£€éªŒçš„ä¸´ç•Œå€¼æ€Žä¹ˆç¡®å®šï¼Ÿ å¯¹äºŽä¸¤ä½æ£€éªŒå¯ä»¥ç›´æŽ¥æŸ¥è¡¨èŽ·å–ä¸´ç•Œå€¼ï¼Œä¸€å°¾æ£€éªŒéœ€è¦å…ˆè½¬åŒ–ä¸ºä¸¤å°¾æ£€éªŒå†æ±‚ä¸´ç•Œå€¼ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼š$u_{2\alpha}$çš„å€¼å¯ä»¥ç›´æŽ¥é€šè¿‡ä¸¤å°¾æ£€éªŒçš„è¡¨èŽ·å–ã€‚æ‰€ä»¥æœ‰ä¸‹é¢çš„è¿™ä¸ªå…¬å¼ï¼š $$ä¸€å°¾æ£€éªŒçš„u_{\alpha}=ä¸¤å°¾æ£€éªŒçš„u_{2\alpha}$$ $$ä¸€å°¾æ£€éªŒçš„u_{0.05}=ä¸¤å°¾æ£€éªŒçš„u_{0.10}=1.64$$ $$ä¸€å°¾æ£€éªŒçš„u_{0.01}=ä¸¤å°¾æ£€éªŒçš„u_{0.02}=2.33$$]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>UCASç”Ÿç‰©ç»Ÿè®¡ä¸Žå®žéªŒè®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[latexæ•°å­¦ç¬¦å·è¡¨]]></title>
    <url>%2Fcargo%2F20181017-aedb.html</url>
    <content type="text"><![CDATA[LaTeXè®©ä½ å†™å…¬å¼çˆ½åˆ°çˆ†ï¼ é‡éŸ³ç¬¦å· $\overline{m+n}$ï¼Œä»£ç ï¼š\overline{m+n} â†’ \overline{} $\underline{m+n}$ï¼Œä»£ç ï¼š\underline{m+n} â†’ \underline{} $\overbrace{a+b+\cdots+z}^{26}$ï¼Œä»£ç ï¼š\overbrace{a+b+\cdots+z}^{26} â†’ \overbrace{}^{} $\underbrace{a+b+\cdots+z}_{26}$ï¼Œä»£ç ï¼š\underbrace{a+b+\cdots+z}{26} â†’ \underbrace{}&#95;{} ä¸ºé¿å…markdownå°† _..._ è§£é‡Šä¸ºæ–œä½“ï¼Œå¯ç”¨ &amp;#95; æ›¿æ¢å…¶ä¸­ä¸€ä¸ª _ã€‚ ç¬¦å·é¡¶éƒ¨ç®­å¤´ï¼Œå¸¸ç”¨æ¥è¡¨ç¤ºå‘é‡ï¼š æ˜¾ç¤º ä»£ç  $\vec{a}$ \vec{a} $\overrightarrow{AB}$ \overrightarrow{AB} $\overleftarrow{AB}$ \overleftarrow{AB} ç‹¬ç«‹ç¬¦å·å¸Œè…Šå­—ç¬¦ å…¶ä»–æ•°å­¦ç¬¦å· å…¶ä»–AMSæ•°å­¦ç¬¦å· éžæ•°å­¦ç¬¦å· å­—ä½“ å…³ç³»ç¬¦å·å…³ç³»ç¬¦ AMSå…³ç³»ç¬¦ AMSå¦å®šå…³ç³»ç¬¦ è¿ç®—ç¬¦å·è¿ç®—ç¬¦ å¤§è¿ç®—ç¬¦ AMSè¿ç®—ç¬¦ ç®­å¤´ç®­å¤´ AMSç®­å¤´ æ‹¬å·åŠå®šç•Œç¬¦å®šç•Œç¬¦ AMSå®šç•Œç¬¦ å¤§å®šç•Œç¬¦ ç©ºæ ¼ å‡½æ•° å‡½æ•° ä¸¾ä¾‹ ä»£ç  åˆ†æ•° $\frac{x-y}{x+y}$ \frac{x-y}{x+y} ç´¯åŠ  $\sum_{i=1}^{100}{x_i^2}$ \sum_{i=1}^{100}{x_i^2} ç´¯ä¹˜ $\prod_{i=1}^{100}{x_i}$ \prod_{i=1}^{100}{x_i} åå¾®åˆ† $\partial{y}$ \partial{y} ä¸€é‡ç§¯åˆ† $\int_{-1}^{1}{x_3}dx$ \int_{-1}^{1}{x_3}dx æŽ’åˆ—ç»„åˆ $\binom{n}{k}$ \binom{n}{k} æŽ’åˆ—ç»„åˆ $\mathrm{C}_n^k$ \mathrm{C}_n^k å…¶ä»–å°æŠ€å·§åŸºæœ¬è¿ç®—çš„æ ¼å¼æŽ§åˆ¶ æ˜¾ç¤º ä»£ç  $\frac{a}{b}$ \frac{a}{b} $a_{1}^{(2)}$ a_{1}^{(2)} $\sqrt{5}$ \sqrt{5} $\sqrt[3]{5}$ \sqrt[3]{5} å…¬å¼æœ«å°¾åºå· è‡ªåŠ¨æ ‡ç­¾ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ï¼š\begin{equation}...\end{equation} æ‰‹åŠ¨æ ‡ç­¾ï¼š...\tag{...} å•ä¸ªå…¬å¼çš„è¿žç­‰æ¢è¡Œ12345$$\begin&#123;split&#125;y&amp;=x^2-4x+5\\\\&amp;=(x^2-4x+4)+1\\\\&amp;=(x-2)^2+1\end&#123;split&#125;\tag&#123;xx&#125;$$ $$\begin{split}y&amp;=x^2-4x+5\\&amp;=(x^2-4x+4)+1\\&amp;=(x-2)^2+1\end{split}\tag{xx}$$ è¦ç‚¹å¦‚ä¸‹ï¼š å…¬å¼ä»£ç ç”¨begin{split}...\end{split}æ ‡è¯†ä»¥è¯´æ˜Žéœ€è¦å¤šè¡Œæ˜¾ç¤ºä¸€ä¸ªå•è¡Œå…¬å¼ï¼› \tag{...}éœ€è¦æ”¾åˆ°splitåŒºåŸŸå¤–é¢ï¼Œå› ä¸ºå®ƒä¸å±žäºŽå…¬å¼ä»£ç ï¼› æ¢è¡Œçš„åœ°æ–¹ç”¨\\æ ‡è¯†ï¼Œå¦‚æžœåœ¨windowsç³»ç»Ÿä¸‹å¯èƒ½æ˜¯\\\\ï¼› åœ¨æ‰€æœ‰è¡Œä¸­ä½¿ç”¨ä¸”ä»…ä½¿ç”¨ä¸€ä¸ª&amp;æ ‡æ˜Žå¯¹é½ä½ç½®ã€‚ åˆ†æ®µå‡½æ•°Sign(x)= \begin{cases} 1, & \text{if $x$ > 0;}\\\\ 0, & \text{if $x$ = 0;}\\\\ -1, & \text{else} \end{cases} $$Sign(x)=\begin{cases} 1, &amp; \text{if $x$ &gt; 0;}\\ 0, &amp; \text{if $x$ = 0;}\\ -1, &amp; \text{else}\end{cases}$$ çŸ©é˜µ12345$$\left[\begin&#123;matrix&#125; 1 &amp; 2 &amp; 3 \\\\4 &amp; 5 &amp; 6 \\\\7 &amp; 8 &amp; 9 \end&#123;matrix&#125;\right]\tag&#123;2&#125;$$ $$\left[\begin{matrix}1 &amp; 2 &amp; 3 \\4 &amp; 5 &amp; 6 \\7 &amp; 8 &amp; 9\end{matrix}\right]\tag{2}â€‹$$]]></content>
      <categories>
        <category>cargo</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†æ‰‹å†Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¼°è®¡é‡é€‰æ‹©çš„åŽŸåˆ™]]></title>
    <url>%2Fstat%2F20180928-e722.html</url>
    <content type="text"><![CDATA[ä»¥ç‚¹ä¼°è®¡ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡çŸ©ä¼°è®¡æ³•å’Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡æ³•å¯¹æ€»ä½“çš„æŸä¸ªå‚æ•°è¿›è¡Œä¼°è®¡ã€‚æˆ‘ä»¬é€šè¿‡ä¸åŒçš„æ–¹æ³•å¯¹åŒä¸€ä¸ªå‚æ•°çš„ä¼°è®¡ç»“æžœå¯èƒ½ä¸åŒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªæœ€å¥½çš„ä¼°è®¡é‡ã€‚ ä¸‹é¢æ˜¯é€‰æ‹©ä¼°è®¡é‡æ—¶å¸¸ç”¨çš„ä¸‰ä¸ªæ ‡å‡†ï¼š æ— åæ€§ä»€ä¹ˆæ˜¯æ— åæ€§ï¼Ÿè‹¥${X_1,X_2,\cdots,X_n}$æ˜¯æ€»ä½“çš„ä¸€ä¸ªæ ·æœ¬ï¼Œæ ·æœ¬å®¹é‡ä¸º$n$ï¼Œ$\theta$æ˜¯ä¸Žæ€»ä½“åˆ†å¸ƒç›¸å…³çš„ä¸€ä¸ªå¾…ä¼°å‚æ•°ã€‚ æˆ‘ä»¬åŸºäºŽæ ·æœ¬${X_1,X_2,\cdots,X_n}â€‹$æž„é€ äº†ä¸€ä¸ªä¼°è®¡é‡$\hat{\theta}=\theta(X_1,X_2,\cdots,X_n)â€‹$ï¼Œå½“è¿™æ­Œä¼°è®¡é‡çš„æœŸæœ›$E(\hat{\theta})â€‹$å­˜åœ¨ä¸”$E(\hat{\theta})=\thetaâ€‹$æ—¶ç§°$\hat{\theta}â€‹$æ˜¯$\thetaâ€‹$çš„æ— åä¼°è®¡é‡ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œä¼°è®¡é‡çš„æœŸæœ›ç­‰äºŽå¾…ä¼°å‚æ•°å°±æ˜¯æ— åä¼°è®¡ã€‚ æ— ç³»ç»Ÿè¯¯å·®æ— åä¼°è®¡æ„å‘³ç€æ²¡æœ‰ç³»ç»Ÿè¯¯å·®ï¼Œé‚£ä¹ˆæœ‰åä¼°è®¡å°±æ„å‘³ç€æœ‰ç³»ç»Ÿè¯¯å·®ï¼Œè€Œç³»ç»Ÿè¯¯å·®æ˜¯å¯ä»¥é€šè¿‡æ ¡æ­£åŽ»é™¤çš„ï¼Œæ‰€è°“æˆ‘ä»¬å¯ä»¥å¯¹æœ‰åä¼°è®¡è¿›è¡Œæ— ååŒ–å¤„ç†å¾—åˆ°å®Œæˆæ— åä¼°è®¡ï¼Œå…¸åž‹çš„ä¾‹å­å°±æ˜¯æ–¹å·®ä¼°è®¡ã€‚ æœŸæœ›æ˜¯æ— åçš„ä¸è®ºæ€»ä½“çš„åˆ†å¸ƒå½¢å¼å¦‚ä½•ï¼Œké˜¶æ ·æœ¬çŸ©ï¼ˆæ ·æœ¬çš„ké˜¶åŽŸç‚¹çŸ©ï¼‰$A_k=\frac1n\sum_{i=1}^{n}X_i^k$éƒ½æ˜¯ké˜¶æ€»ä½“çŸ©ï¼ˆæ€»ä½“çš„ké˜¶åŽŸç‚¹çŸ©ï¼‰$\mu_k$çš„æ— åä¼°è®¡ã€‚åªéœ€è¯æ˜Ž$E(A_k)=\mu_k$å³å¯ã€‚ æ ·æœ¬å¸¸è§çš„æ•°å­—ç‰¹å¾æœ‰ï¼šæ ·æœ¬å‡å€¼ã€æœªä¿®æ­£æ ·æœ¬æ–¹å·®ã€ä¿®æ­£æ ·æœ¬æ–¹å·®ã€æ ·æœ¬ké˜¶åŽŸç‚¹çŸ©å’Œæ ·æœ¬ké˜¶ä¸­å¿ƒçŸ©ã€‚ è¿™æ„å‘³ç€ï¼šæ ·æœ¬å‡å€¼æ€»æ˜¯æ€»ä½“æœŸæœ›çš„æ— åä¼°è®¡ã€‚ æ–¹å·®æ˜¯æœ‰åçš„å¯¹äºŽæ–¹å·®å­˜åœ¨çš„æ€»ä½“ï¼Œç”¨æœªä¿®æ­£çš„æ ·æœ¬æ–¹å·®$\hat{\sigma}^2=\frac1n\sum_{i=1}^{n}(X_i-\bar{X})^2$æ¥ä¼°è®¡æ€»ä½“æ–¹å·®$\sigma^2$æ˜¯æœ‰åçš„ã€‚ è¯æ˜Žï¼šé’ˆå¯¹æ ·æœ¬ï¼Œç”±$E(X^2)=[E(X)]^2+D(X)$çŸ¥$$\begin{split}\hat{\sigma}^2=D(X)&amp;=E(X^2)-[E(X)]^2\\&amp;=A_2-\bar{X}^2\end{split}$$å› ä¸ºæœŸæœ›æ˜¯æ— åçš„ï¼Œæ‰€ä»¥$$\underbrace{E(A_2)=}_{æœŸæœ›æ— å}\mu_2\underbrace{=\sigma^2+\mu^2}_{æ€»ä½“æœŸæœ›å’Œæ–¹å·®çš„å…³ç³»}$$ä¸Šå¼ä¸­ $\mu_2$ æ˜¯æ€»ä½“çš„äºŒé˜¶åŽŸç‚¹çŸ©ï¼Œ$\mu$ æ˜¯æ€»ä½“çš„ä¸€é˜¶åŽŸç‚¹çŸ©ï¼ˆæœŸæœ›ï¼‰ã€‚å¯¹äºŽå¤åˆéšæœºå˜é‡$\bar{X}^2$æœ‰$$E(\bar{X}^2)=D(\bar{X})+[E(\bar{X})]^2=\frac{\sigma^2}n+\mu^2$$è¯æ˜Ž$D(\bar{X})=\frac{\sigma^2}n$:$$\begin{split}D(\bar{X})&amp;=D(\frac{X_1+X_2+\cdots+X_n}n)\\&amp;=\frac1{n^2}D(X_1+X_2+\cdots+X_n)\\&amp;=\frac1{n^2}[D(X_1)+D(X_2)+\cdots+D(X_n)]\\&amp;=\frac1{n^2}(\underbrace{\sigma^2+\sigma^2+\cdots+\sigma^2}_{nä¸ª})\\&amp;=\frac{n\sigma^2}{n^2}\\&amp;=\frac{\sigma^2}n\end{split}$$æ‰€ä»¥$$\begin{split}E(\hat{\sigma}^2)&amp;=E(A_2-\bar{X}^2)\\&amp;=E(A_2)-E(\bar{X}^2)\\&amp;=(\sigma^2+\mu^2)-(\frac{\sigma^2}n+\mu^2)\\&amp;=\frac{n-1}n\sigma^2\ne\sigma^2\end{split}$$å³è¯éžä¿®æ­£çš„æ ·æœ¬æ–¹å·®$\hat{\sigma}^2$æ˜¯æ€»ä½“æ–¹å·®çš„$\sigma^2$çš„æœ‰åä¼°è®¡ã€‚ æˆ‘ä»¬ä»¤$$S^2=\frac{n}{n-1}\hat{\sigma}^2=\frac1{n-1}(X_i-\bar{X}^2)$$æ­¤æ—¶æœ‰$$E(S^2)=E(\frac{n}{n-1}\hat{\sigma}^2)=\frac{n}{n-1}E(\hat{\sigma}^2)=\sigma^2$$å³å¾—ä¿®æ­£çš„æ ·æœ¬æ–¹å·®$S^2$æ˜¯æ€»ä½“æ–¹å·®çš„$\sigma^2$çš„æ— åä¼°è®¡ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ ·æœ¬æ–¹å·®ä¸ºä»€ä¹ˆæ€»æ˜¯é™¤ä»¥n-1è€Œä¸æ˜¯nçš„åŽŸå› ~ æœ‰æ•ˆæ€§å½“æˆ‘ä»¬é€šè¿‡æ— åæ€§åˆ¤æ–­å‡ºå¤šä¸ªæ— åä¼°è®¡é‡$\hat{\theta_1}$ã€$\hat{\theta_2}$ã€â€¦æ—¶æˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥ç­›é€‰ã€‚ ç”±äºŽæ— åä¼°è®¡é‡çš„æœŸæœ›æ€»æ˜¯å¾…ä¼°å‚æ•°ï¼Œå› æ­¤æ–¹å·®è¶Šå°è¶Šå¥½ $$\hat{\theta_{opt}}=\mathop{\arg\min}_{i=1,2,\cdots}\hat{\theta_i}â€‹$$ ç›¸åˆæ€§ç›¸åˆæ€§æŒ‡çš„æ˜¯å½“æ ·æœ¬å®¹é‡$n\to\infty$æ—¶$\hat{\theta}(X_1,X_2,\cdots,X_n)$ä¾æ¦‚çŽ‡æ”¶æ•›äºŽ$\theta$ã€‚ ç›¸åˆæ€§æ˜¯ä¼°è®¡é‡æœ€åŸºæœ¬çš„ç‰¹æ€§ï¼Œä¼°è®¡é‡å¯ä»¥æœ‰åä½†ä¸èƒ½ä¸ä¾æ¦‚çŽ‡æ”¶æ•›ã€‚]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>UCASç”Ÿç‰©ç»Ÿè®¡ä¸Žå®žéªŒè®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‚æ•°ä¼°è®¡-ç‚¹ä¼°è®¡]]></title>
    <url>%2Fstat%2F20180921-469f.html</url>
    <content type="text"><![CDATA[å‚æ•°ä¼°è®¡å‚æ•°ä¼°è®¡ä½œä¸ºä¸€ä¸ªåè¯çŸ­è¯­ï¼Œå®žé™…å«ä¹‰æŒ‡çš„æ˜¯ä¼°è®¡å‚æ•°ï¼Œæ„ä¸ºä¼°è®¡æ€»ä½“åˆ†å¸ƒå‚æ•°ã€‚äº‹å®žä¸Šæˆ‘ä»¬èƒ½è§‚æµ‹åˆ°çš„æ•°æ®æˆä¸ºæ ·æœ¬ï¼Œæ‰€ä»¥å‚æ•°ä¼°è®¡çš„å†…å®¹å°±æ˜¯é€šè¿‡æ ·æœ¬å¯¹æ€»ä½“åˆ†å¸ƒçš„æŸäº›æŒ‡æ ‡/å‚æ•°è¿›è¡Œä¼°è®¡ã€‚ å‚æ•°ä¼°è®¡åˆ†ä¸ºç‚¹ä¼°è®¡å’ŒåŒºé—´ä¼°è®¡ã€‚ å…¶ä¸­ç‚¹ä¼°è®¡ä¸»è¦åŒ…å«çŸ©ä¼°è®¡ã€æžå¤§ä¼¼ç„¶ä¼°è®¡ã€‚ çŸ©ä¼°è®¡åŸºäºŽçŸ©çš„æ¦‚å¿µå¯¹æ€»ä½“åˆ†å¸ƒçš„å‡å€¼Î¼å’Œæ–¹å·®Ïƒè¿›è¡Œä¼°è®¡ï¼Œæ€»ä½“åˆ†å¸ƒçš„å…¶ä»–å‚æ•°é€šè¿‡Î¼å’ŒÏƒè¿›è¡ŒæŽ¨æ–­ã€‚ æˆ‘ä»¬ä¸éœ€è¦çŸ¥é“æ€»ä½“åˆ†å¸ƒçš„åˆ†å¸ƒå½¢å¼å°±å¯ä»¥è¿›è¡ŒçŸ©ä¼°è®¡ï¼Œä½†æ˜¯å½“æ€»ä½“åˆ†å¸ƒå·²çŸ¥æ—¶çŸ©ä¼°è®¡å´æ²¡æœ‰å½»åº•åˆ©ç”¨å·²çŸ¥ä¿¡æ¯ï¼Œæ˜¾ç„¶ä¸æ˜¯ä¸€ç§è¾ƒå¥½çš„ä¼°è®¡æ–¹æ³•ã€‚ çŸ©éšæœºå˜é‡Xçš„æœŸæœ›æ˜¯E[X] ä»¤kæ˜¯è‡ªç„¶æ•°ï¼Œaä¸ºä»»æ„å®žæ•°ï¼šæœŸæœ›$E[(X-a)^k]$ç§°ä¸ºéšæœºå˜é‡Xå¯¹å®žæ•°açš„ké˜¶ä¸­å¿ƒçŸ©ï¼ŒæœŸæœ›$E[X^k]$ç§°ä¸ºéšæœºå˜é‡Xçš„ké˜¶åŽŸç‚¹çŸ©ã€‚ çŸ©ä¼°è®¡çŸ©ä¼°è®¡åŸºäºŽæ€»ä½“çš„ké˜¶çŸ©ç­‰äºŽæ ·æœ¬çš„ké˜¶çŸ©ï¼Œå³å‡è®¾æ ·æœ¬çš„æœŸæœ›å’Œæ–¹å·®ä¸Žæ€»ä½“çš„æœŸæœ›ä¸Žæ–¹å·®ç›¸åŒã€‚ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œå¼•ç”¨ä¸€ä¸ªä¸åŠ è¯æ˜Žçš„ä¸“ä¸šè¯´æ³•ï¼š æ ·æœ¬çš„ké˜¶åŽŸç‚¹çŸ©$\frac{1}{n}\sum_{i=1}^nX_i^k$ä¾æ¦‚çŽ‡æ”¶æ•›äºŽæ€»ä½“çš„ké˜¶åŽŸç‚¹çŸ©$\mu_k$åŒç†ï¼Œæ ·æœ¬çŸ©çš„è¿žç»­å‡½æ•°ä¹Ÿå°†ä¾æ¦‚çŽ‡æ”¶æ•›äºŽæ€»ä½“çŸ©çš„è¿žç»­å‡½æ•° ä»€ä¹ˆå«ä¾æ¦‚çŽ‡æ”¶æ•›ï¼Ÿ $X_n$ä¾æ¦‚çŽ‡æ”¶æ•›äºŽ$X$ï¼Œè®°åš$X_n\xrightarrow{P}X$ï¼Œè¡¨ç¤ºï¼šå¯¹$\forall\epsilon&gt;0$ï¼Œå½“$n{\rightarrow}{\infty}$æ—¶ï¼Œ$P(|X_n-X|\leqslant\epsilon)\rightarrow1$ã€‚ å®šä¹‰å¼å¦‚ä¸‹ï¼š æ ·æœ¬ æ€»ä½“ å¯¹$\overline{X}$çš„ké˜¶ä¸­å¿ƒçŸ© $\frac{1}{n}\sum_{i=1}^{n}(X_i-\overline{X})^k$ $E[(X-E[X])^k]$ ké˜¶åŽŸç‚¹çŸ© $\frac{1}{n}\sum_{i=1}^nX_i^k$ $E[X^k]$ åŸºäºŽä¸€é˜¶æ ·æœ¬åŽŸç‚¹çŸ©æŽ¨æµ‹æ€»ä½“æœŸæœ›ï¼š $$EX=E[X]\approx\frac{1}{n}\sum_{i=1}^{n}X_i=\overline{X}$$ åŸºäºŽäºŒé˜¶æ ·æœ¬ä¸­å¿ƒçŸ©æŽ¨æµ‹æ€»ä½“æ–¹å·®ï¼š $$DX=D[X]\approx\frac{1}{n}\sum_{i=1}^{n}(X_i-\overline{X})^2$$ é€šè¿‡ä¸Šå¼æˆ‘ä»¬å‘çŽ°ï¼Œå› ä¸ºåœ¨ä¼°è®¡æœŸæœ›å’Œæ–¹å·®çš„è¿‡ç¨‹ä¸­å¹¶æœªæ¶‰åŠåˆ°æ€»ä½“åˆ†å¸ƒçš„å½¢å¼ï¼Œå› æ­¤ä¸Šè¿°ä¼°è®¡å¼å®žé™…ä¸Šæ˜¯é€šç”¨çš„ã€‚ æžå¤§ä¼¼ç„¶ä¼°è®¡ä½¿ç”¨æžå¤§ä¼¼ç„¶ä¼°è®¡ï¼Œæ€»ä½“çš„åˆ†å¸ƒå½¢å¼ä¸€å®šè¦å·²çŸ¥ï¼Œä¸ç„¶æ²¡æ³•è¿›è¡Œè®¡ç®—ã€‚ æžå¤§ä¼¼ç„¶ä¼°è®¡åŸºäºŽæžå¤§ä¼¼ç„¶åŽŸç†ï¼šæ¦‚çŽ‡æ›´å¤§çš„äº‹ä»¶åœ¨ä¸€æ¬¡è§‚æµ‹ä¸­æ›´å®¹æ˜“å‡ºçŽ°ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æ±‚çš„æ˜¯ä½¿å½“å‰æ ·æœ¬å‡ºçŽ°æ¦‚çŽ‡æœ€å¤§çš„é‚£ç»„å‚æ•°ã€‚ æˆ‘ä»¬è¦æƒ³æ±‚å‡ºè¿™ä¸ª/è¿™ç»„å‚æ•°ï¼Œå°±å¿…é¡»å…ˆæž„å»ºä¸€ä¸ª/ä¸€ç»„æ–¹ç¨‹ã€‚ é€šå¸¸è¿™ä¸ª/è¿™ç»„æ–¹ç¨‹ç”±æŸä¸ªå‡½æ•°æ±‚å¯¼/æ±‚åå¯¼å¾—å‡ºï¼Œè¿™ä¸ªå‡½æ•°å°±å«åšä¼¼ç„¶å‡½æ•°ï¼Œå¸¸è®°åš $L(\theta)$ã€‚ æž„é€ ä¼¼ç„¶å‡½æ•°1.ç¦»æ•£åž‹éšæœºå˜é‡ï¼š$P(X=x)=p(x;\theta)$ è”åˆæ¦‚çŽ‡ $ L(\theta)=\prod_{i=1}^{n}(x_i;\theta)=p(x_1;\theta)p(x_2;\theta){\cdots}p(x_n;\theta) $ 2.è¿žç»­æ€§éšæœºå˜é‡ï¼š$P(X=x)=\int_{-\infty}^{x}f(t;\theta)dt$ è”åˆæ¦‚çŽ‡å¯†åº¦ $ L(\theta)=\prod_{i=1}^{n}f(x_i;\theta)=f(x_1;\theta)f(x_2;\theta){\cdots}f(x_n;\theta) $ æ±‚è§£ä¼¼ç„¶å‡½æ•°å–å¯¹æ•° -&gt; æ±‚å¯¼/æ±‚åå¯¼ -&gt; æ±‚è§£å¾—åˆ°é©»ç‚¹ å¯¹äºŽä¸€èˆ¬å±žäºŽæŒ‡æ•°åˆ†å¸ƒæ—çš„åˆ†å¸ƒå½¢å¼ï¼ˆæ­£æ€åˆ†å¸ƒã€æ³Šæ¾åˆ†å¸ƒã€ä¼¯åŠªåˆ©åˆ†å¸ƒâ€¦ï¼‰ï¼Œä»¤å¯¼å‡½æ•°ä¸º0çš„ç‚¹ï¼ˆé©»ç‚¹ï¼‰ä¸€èˆ¬éƒ½æ˜¯æžå€¼ç‚¹ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¥‡è‘©ç‰¹ä¾‹ã€‚ è´å¶æ–¯ä¼°è®¡è¿™é‡Œåªç®€è¿°è´å¶æ–¯ä¼°è®¡çš„æ€æƒ³ã€‚ æœ€å¤§ä¼¼ç„¶ä¼°è®¡å°†å‚æ•°Î¸çœ‹åšä¸€ä¸ªç¡®å®šå˜é‡ï¼Œè€Œè´å¶æ–¯ä¼°è®¡å°†å‚æ•°Î¸çœ‹åšä¸€ä¸ªæœä»Žä¸€å®šå…ˆéªŒåˆ†å¸ƒçš„éšæœºå˜é‡ã€‚ æˆ‘ä»¬æœŸæœ›é€šè¿‡p(x|Î¸)æ±‚å‡ºåŽéªŒæ¦‚çŽ‡p(Î¸|x)ï¼ŒåŒæ—¶p(Î¸|x)åœ¨çœŸå®žçš„Î¸å¤„æœ‰ä¸€ä¸ªå³°ï¼ŒäºŽæ˜¯ä¹Žæˆ‘ä»¬å°±æ±‚å¾—äº†çœŸæ­£çš„Î¸ï¼Œè€¶è€¶è€¶ æ¬è¿ä¸ªæ›´åŠ ç›´è§‚çš„å›¾ï¼š]]></content>
      <categories>
        <category>stat</category>
      </categories>
      <tags>
        <tag>UCASç”Ÿç‰©ç»Ÿè®¡ä¸Žå®žéªŒè®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonç¼–ç¨‹æ€æƒ³-é—­åŒ…]]></title>
    <url>%2Fpython%2F20180912-a712.html</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯é—­åŒ…ï¼ˆClosureï¼‰ï¼Ÿ å…ˆçœ‹çœ‹wikiç™¾ç§‘æ˜¯æ€Žä¹ˆè§£é‡Šçš„ï¼š In programming languages, a closure(also lexical closure or function closure) is a technique for implementing lexically scoped name binding in a language with first-class functions. Operationally, a closure is a record storing a function together with an environment. The environment is a mapping associating each free variable of the function (variables that are used locally, but defined in an enclosing scope) with the value or reference to which the name was bound when the closure was created. A closure (unlike a plain function) allows the function to access those captured variables through the closureâ€™s copies of their values or references, even when the function is invoked outside their scope. ä¹‹æˆ‘è§ï¼šæˆ‘ä»¬ä¸€èˆ¬è¯´èµ·å°†å±žæ€§å’Œæ–¹æ³•è¿›è¡Œå°è£…å°±ä¼šæƒ³åˆ°ç±»ã€‚é—­åŒ…çš„ä½œç”¨ç±»ä¼¼äºŽç±»ï¼Œåªæ˜¯å®ƒçš„ä¸“èƒ½æ€§ä¼¼ä¹Žæ›´å¼ºã€‚ ç”¨æ —å­æ¥è§£é‡Šé—­åŒ…ä¸ºä»€ä¹ˆä¼šå’Œç±»ç›¸ä¼¼ï¼š 123456def closure_def(x): y = 1 z = 2 def fn(): print((x+y)*z) return fn å¯¹äºŽä¸Šé¢è¿™ä¸ªç®€å•çš„æ —å­ï¼Œæˆ‘ä»¬å‘çŽ°ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š y å’Œ z æ˜¯å‡½æ•° closure_def ä½œç”¨åŸŸä¸‹çš„å±€éƒ¨å˜é‡ å‡½æ•° fn å®šä¹‰åœ¨ å‡½æ•° closure_def çš„å†…éƒ¨ï¼ŒåŒæ—¶å®ƒå°†ç›´æŽ¥è°ƒç”¨ y å’Œ z å‡½æ•° closure_defè¿”å›žçš„æ˜¯å‡½æ•° fn çš„å¼•ç”¨ æˆ‘ä»¬èŽ·å–ä¸€ä¸ªé—­åŒ…ï¼š 123closure_1 = closure_def(4)closure_1()#è¾“å‡ºç»“æžœä¸º 10 ä¸Šè¿°çš„ closure_1 å°±æ˜¯ä¼ è¯´ä¸­çš„é—­åŒ…ã€‚å› æ­¤ï¼Œé—­åŒ…æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªå‡½æ•°,æˆ‘ä»¬é€šè¿‡ closure_1() è°ƒç”¨è¿™ä¸ªå‡½æ•°åŽå°†ä¼šè¾“å‡ºç»“æžœ10. å…¶å®žåˆ°è¿™é‡Œæˆ‘è¿˜æ˜¯æ²¡å¼„æ¸…æ¥šé—­åŒ…ä¸Žç±»åˆ°åº•ç›¸ä¼¼åœ¨å“ªé‡Œã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸ªå¾ˆæœ‰æ„æ€çš„ä¸œè¥¿ï¼šæˆ‘ä»¬é€šè¿‡ closure_def(4) è°ƒç”¨äº†é—­åŒ…å®šä¹‰å‡½æ•°åŽï¼Œè¯¥å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ï¼ˆyå’Œz)åº”è¯¥å°±å¤±æ•ˆäº†ï¼Œä½†æ˜¯å‡½æ•°fnå®žé™…ä¸Šå´è¢«æˆ‘ä»¬ä¿å­˜äº†ä¸‹æ¥ï¼ˆåœ¨closure_1ä¸­)ã€‚ç„¶è€Œï¼Œè¿™ä¸ªclosure_1éœ€è¦ä½¿ç”¨yå’Œzï¼ŒæŒ‰ç…§æˆ‘ä»¬å‰é¢çš„é€»è¾‘ï¼Œè¿™ä¸¤ä¸ªå˜é‡å·²ç»å¤±æ•ˆäº†ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªååˆ†å°´å°¬çš„é—®é¢˜ã€‚ çœŸå®žæƒ…å†µå¹¶éžè¿™æ ·ï¼Œyå’Œzå˜é‡æ˜Žæ˜¾è¿˜å­˜åœ¨äºŽå†…å­˜ä¸­ï¼Œå¹¶ä¸”å®ƒä»¬ä¸Žè¿™ä¸ªfnå‡½æ•°ç»‘å®šåœ¨ä¸€èµ·äº†ã€‚è¿™å°±æ˜¯é—­åŒ…çš„ç‰¹æ€§ï¼šå°†yå’Œzè¿™ä¸¤ä¸ªå˜é‡å’Œå‡½æ•°fnç»‘å®šåœ¨ä¸€èµ·ï¼Œå°±å¥½æ¯”ç±»ä¸­å°†å±žæ€§ä¸Žæ–¹æ³•ç»‘å®šä¸€æ ·ã€‚ åœ¨pythonä¸­ï¼Œå‡½æ•°åŒåŸºæœ¬æ•°æ®ç±»åž‹ä¸€æ ·åŒå±žäºŽä¸€çº§ç±»å¯¹è±¡ï¼Œå‡½æ•°åå°±æ˜¯è¿™ä¸ªä¸€çº§ç±»å®žä¾‹çš„å¼•ç”¨ã€‚å¯¹äºŽé—­åŒ…ï¼Œå‡½æ•°éœ€è¦ç”¨åˆ°çš„å˜é‡å€¼å®žé™…ä¸Šå­˜åœ¨äºŽå…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è®¿é—®è¿™äº›å˜é‡ï¼š .__closure__ è¿”å›žä¸€ç»„å­˜æœ‰å˜é‡å€¼çš„cellå¯¹è±¡ .__closure__[0].cell_centents å°†èŽ·å–ç›¸åº”å˜é‡çš„å€¼ ä»Žä¸Šé¢æˆ‘ä»¬å‘çŽ°ï¼Œé—­åŒ…å°±æ˜¯å°†ä¸€ç»„å˜é‡å’Œä¸€ä¸ªå‡½æ•°è¿›è¡Œå°è£…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æˆ‘ä»¬ä¿å­˜çš„åªæœ‰è“è‰²æ¡†æ¡†éƒ¨åˆ†ï¼Œä½†æ˜¯è“è‰²æ¡†æ¡†éœ€è¦ä½¿ç”¨çº¢è‰²æ¡†æ¡†å†…çš„å˜é‡ï¼Œé—­åŒ…å°±å°†è¿™ä¸¤ä¸ªæ¡†æ¡†è¿›è¡Œå°è£…ã€‚æ©™è‰²æ¡†æ¡†è¿”å›žé—­åŒ…ä¸­çš„é‚£ä¸ªä¸»å‡½æ•°ã€‚ è€Œä¸”ï¼Œå½“æˆ‘ä»¬åªæ˜¯å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œç®€å•çš„å°è£…ï¼ˆä¿®é¥°ï¼‰æ—¶ï¼Œä½¿ç”¨é—­åŒ…å°†æ›´åŠ ä¼˜é›…ã€‚ é—­åŒ…çš„ä¸€ä¸ªé‡è¦åº”ç”¨å°±æ˜¯pythonçš„è£…é¥°å™¨ï¼ˆDecoratorï¼‰ï¼Œä¸”ç­‰ä¸‹å›žä¹‹æˆ‘è§ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[BeautifulSoup]]></title>
    <url>%2Fspider%2F20180911-ef0f.html</url>
    <content type="text"><![CDATA[ä½ çŸ¥é“å—ï¼Ÿå…¶å®žHTMLå°±æ˜¯ä¸€æ£µæ ‘â€¦â€¦ åˆ›å»ºBeautifulSoupå¯¹è±¡å¯¼å…¥BeautifulSoupç±»ï¼š 1from bs4 import BeautifulSoup åˆå§‹åŒ–BeautifulSoupå¯¹è±¡ï¼šä¼ å…¥ä¸€ä¸ªhtmlçº¯æ–‡æœ¬ï¼Œå¯ä»¥openä¸€ä¸ªæœ¬åœ°æ–‡ä»¶æˆ–è€…requestsèŽ·å–ä¸€ä¸ªåœ¨çº¿htmlæ–‡æœ¬ã€‚ 12345678910111213141516171819import requestshtml = requests.get(&lt;URL&gt;, headers = &lt;HEADERS&gt;, cookies = &lt;COOKIES&gt;).textbsobj = BeautifulSoup(html, 'lxml')## ä¸€ä¸ªä¾‹å­def get_html(encoding = 'gbk'): headers = [ 'Mozilla/5.0 (Windows NT 10.0; WOW64)', 'AppleWebKit/537.36 (KHTML, like Gecko)', 'Chrome/70.0.3538.67', 'Safari/537.36' ] headers = &#123;'User-Agent': ' '.join(headers)&#125; def open_url(url): html = requests.get(url = url, headers = headers) html.encoding = encoding html = html.text return(html) return(open_url) æ ¼å¼åŒ–æ‰“å°BeautifulSoupå¯¹è±¡å†…å®¹ï¼š 1print(bsobj.prettify()) bs4åŒ…çš„å››ç§åŸºæœ¬ç±»åž‹ element.Tagï¼šHTMLæ ‡ç­¾ï¼Œå…·æœ‰nameå±žæ€§ï¼ˆæ ‡ç­¾åï¼‰å’Œattrså±žæ€§ ï¼ˆæ ‡ç­¾çš„å±žæ€§å­—å…¸ï¼‰ element.NavigableStringï¼šæ ‡ç­¾åŒ…å«çš„æ–‡æœ¬ BeautifulSoupï¼šåˆå§‹åŒ–çš„å¯¹è±¡ï¼Œnameå±žæ€§å€¼ä¸º[document]ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå­æ ‡ç­¾.html; element.Commentï¼šæ³¨é‡Šå†…å®¹ éåŽ†æ–‡æ¡£æ ‘ç‚¹å·éåŽ† TAG.contentsï¼šlistå¯¹è±¡ï¼Œç›´æŽ¥å­æ ‡ç­¾ TAG.childrenï¼šiteratorå¯¹è±¡ï¼Œç›´æŽ¥å­æ ‡ç­¾ TAG.descendantsï¼šiteratorå¯¹è±¡ï¼Œæ‰€æœ‰å­å­™æ ‡ç­¾ TAG.stringï¼šæ ‡ç­¾å†…åªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒèŽ·å–å®ƒ TAG.stringsï¼šæ ‡ç­¾å†…ä¸æ­¢ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒèŽ·å–å®ƒä»¬ TAG.striped_stringsï¼šæ ‡ç­¾å†…ä¸æ­¢ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒèŽ·å–å®ƒä»¬å¹¶åŽ»æŽ‰ç©ºç™½ç¬¦ TAG.parentï¼šå½“å‰æ ‡ç­¾çš„ç›´æŽ¥çˆ¶æ ‡ç­¾ï¼Œå¾ˆæ˜Žæ˜¾åªä¼šæœ‰ä¸€ä¸ª TAG.parentsï¼šiteratorå¯¹è±¡ï¼Œå½“å‰æ ‡ç­¾çš„æ‰€æœ‰ç¥–å…ˆæ ‡ç­¾ï¼Œå¾ˆæ˜Žæ˜¾å¯èƒ½ä¸æ­¢ä¸€ä¸ª ä¸‹é¢çš„å››ä¸ªæ„Ÿè§‰ç”¨é€”ä¸å¤§ï¼Œå› ä¸ºä¸å¤Ÿç²¾å‡†ï¼š TAG.previous_siblingæˆ–TAG.next_siblingï¼šå¹¶åˆ—çš„ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ TAG.previous_siblingsæˆ–TAG.next_siblingsï¼š TAG.previous_elementæˆ–TAG.next_elementï¼šå‰åŽèŠ‚ç‚¹ TAG.previous_elementsæˆ–TAG.next_elements find/selectæŸ¥æ‰¾$\blacksquare$ è¡¨ç¤ºè¯¥æ–¹æ³•å¾ˆå¸¸ç”¨ï¼Œ$\square$ è¡¨ç¤ºè¯¥æ–¹å¼ä¸æ˜¯å¾ˆå¸¸ç”¨ $\blacksquare$.find_allåœ¨æ‰€æœ‰å­å­™èŠ‚ç‚¹ä¸­æœç´¢ç‰¹å®šæ ‡ç­¾ï¼Œè¿”å›žä¸€ä¸ªlistå¯¹è±¡ 12345678910111213141516TAG.find_all(name, attrs, recursive, text, **kwargs)# name é™åˆ¶æ ‡ç­¾åï¼Œå½¢å¼ä¸°å¯Œå¤šæ ·ï¼š# |- 1. ç‰¹å®šåç§°ï¼Œå¦‚ name = 'title'# |- 2. æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚ name = re.compile(r'^b')# |- 3. æ ‡ç­¾åˆ—è¡¨ï¼Œå¦‚ name = ['a', 'img', 'p']# |- 4. name = True ä¼šè¿”å›žæ‰€æœ‰å­å­™èŠ‚ç‚¹# |- 5. ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼šæŽ¥å—ä¸€ä¸ªTAGï¼Œè¿”å›žå¸ƒå°”å€¼è¡¨ç¤ºè¿™ä¸ªTAGæ˜¯å¦è¢«é€‰æ‹©ï¼Œä¾‹å¦‚# def has_class_but_no_id(tag):# return tag.has_attr('class') and not tag.has_attr('id')# attr ä¸€ä¸ªå­—å…¸ï¼Œæ ¹æ®å±žæ€§è¿›è¡Œè¿‡æ»¤ï¼Œä¾‹å¦‚# attr = &#123;'class': '...', 'id': '...'&#125;# recursive å¸ƒå°”å€¼ï¼ŒTrueæœç´¢å­å­™æ ‡ç­¾ï¼ŒFalseåªæœç´¢ç›´æŽ¥å­æ ‡ç­¾# text åŒ¹é…æ ‡ç­¾å†…çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«äº†NavigableStringå’ŒComment# |- ä¸Žnameç±»ä¼¼ï¼Œå¯ä»¥ä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼ã€å­—ç¬¦ä¸²åˆ—è¡¨ã€ç‰¹æ®Šå‡½æ•°# kwargs ä¸å»ºè®®ä½¿ç”¨# limit é™åˆ¶è¿”å›žç»“æžœçš„æ•°é‡ï¼Œå½“æ–‡æ¡£æ ‘è¿‡å¤§æ—¶æœ‰ç”¨ $\blacksquare$.find12# åªè¿”å›žæœç´¢åˆ°ç¬¬ä¸€ä¸ªç»“æžœTAG.find(name, attrs, recursive, text, **kwargs) $\square$.find_xxx çˆ¶æ ‡ç­¾/ç¥–å…ˆæ ‡ç­¾æŸ¥æ‰¾ï¼š.find_parent / .find_parents ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªå…„å¼Ÿæ ‡ç­¾ï¼š.find_previous_sibling / .find_next_sibling ä¹‹å‰çš„/ä¹‹åŽçš„æ‰€æœ‰å…„å¼Ÿæ ‡ç­¾ï¼š.find_previous_siblings / .find_next_siblings ä¹‹å‰çš„/ä¹‹åŽçš„ä¸€ä¸ªæ ‡ç­¾ï¼š.find_previous / .find_next ä¹‹å‰çš„/ä¹‹åŽçš„æ‰€æœ‰æ ‡ç­¾ï¼š.find_all_previous / .find_all_next $\blacksquare$.selectselectæ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²çš„å½¢å¼åº”æŒ‰ç…§CSSæ ‡ç­¾é€‰æ‹©å™¨çš„è¯­æ³•ä¹¦å†™ã€‚ å¸¸è§çš„CSSæ ‡ç­¾é€‰æ‹©å™¨è¯­æ³•æœ‰ï¼š 12345678910# æ ‡ç­¾åã€æ ·å¼ã€idæ˜¯æŸ¥æ‰¾æ ‡ç­¾çš„ä¸‰ä¸ªå¸¸ç”¨çš„å±žæ€§TAG.select('title') # æŸ¥æ‰¾åä¸ºtitleçš„æ‰€æœ‰æ ‡ç­¾ï¼Œè¿”å›žlistTAG.select('.cls') # æŸ¥æ‰¾æ ·å¼ä¸­åŒ…å«clsçš„æ‰€æœ‰æ ‡ç­¾ï¼Œè¿”å›žlistTAG.select('#myid') # æŸ¥æ‰¾idä¸ºmyidçš„æ‰€æœ‰æ ‡ç­¾ï¼Œè¿”å›žlist# ä¸‰ä¸ªå¸¸ç”¨å±žæ€§å¯ä»¥è¿›è¡Œè‡ªç”±ç»„åˆTAG.select('head &gt; title') # '&gt;'è¿žæŽ¥çš„æ ‡ç­¾ä»Žå±žå…³ç³»TAG.select('table .cls #myid') # å¹¶åˆ—æŸ¥æ‰¾ï¼ŒåŒæ—¶æ»¡è¶³TAG.select('table[class="cls",id="myid"]') #è”åˆæŸ¥æ‰¾çš„å¦ä¸€ç§æ ¼å¼TAG.select('div[class="cls"] &gt; table[id="gold"]') # è”åˆæŸ¥æ‰¾å¯ä»¥å’Œä»Žå±žæ ‡ç­¾ç»“åˆ å…¶å®žæŽŒæ¡ä¸Šé¢çš„å‡ ç§CSSæ ‡ç­¾é€‰æ‹©è¯­æ³•å°±è¶³ä»¥åº”ä»˜å¤§å¤šæ•°æ ‡ç­¾æŸ¥æ‰¾äº†ï¼Œæ›´å¤šCSSé€‰æ‹©å™¨è¯­æ³•å‚è€ƒw3schoolæ•™ç¨‹ã€‚]]></content>
      <categories>
        <category>spider</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[çº¿æ€§ä»£æ•°-é€†çŸ©é˜µçš„å­˜åœ¨æ¡ä»¶]]></title>
    <url>%2Fml%2F20180815-dbe6.html</url>
    <content type="text"><![CDATA[æˆ‘ä»¬çŽ°åœ¨è¦æ±‚è§£ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ç»„ï¼š $$ A{\cdot}x=b $$ å…¶ä¸­$A{\in}R^{m{\times}n}$æ˜¯ä¸€ä¸ªå·²çŸ¥çŸ©é˜µï¼Œ$x{\in}R^{n{\times}1}$æ˜¯ä¸€ä¸ªnç»´æœªçŸ¥åˆ—å‘é‡ï¼Œ$b{\in}R^{m{\times}1}$æ˜¯ä¸€ä¸ªmç»´å·²çŸ¥åˆ—å‘é‡ã€‚ æŒ‰ç…§çŸ©é˜µÃ—å‘é‡çš„å®šä¹‰ï¼ŒAä¸­çš„æ¯ä¸€è¡Œå’Œbä¸­çš„æ¯ä¸€ä¸ªå¯¹åº”å…ƒç´ å½¢æˆçº¦æŸï¼Œå³bä¸­å¯¹åº”å…ƒç´ éƒ½æ˜¯ç”±Aä¸­å¯¹åº”è¡Œå‘é‡å’Œxè¿ç®—ï¼ˆå…§ç§¯ï¼‰è€Œæ¥ã€‚ ä¸Šå¼çš„æœ¬è´¨è¿˜æ˜¯ $ A_{i,:}{\cdot}x=b_i $ å®šä¹‰å•ä½çŸ©é˜µ$I_n{\in}R^{n{\times}n}$ä½¿å¾—å¯¹ä»»æ„çš„$x{\in}R^n$éƒ½æœ‰ $$ I_n{\cdot}x=x $$ å®šä¹‰é€†çŸ©é˜µ$A^{-1}$: $$ A^{-1}{\cdot}A=I_n $$ è¿™æ ·å°±å¯ä»¥å¾—åˆ°$A{\cdot}x=b$çš„è§£ä¸ºï¼š $$ x=A^{-1}{\cdot}b $$ é‚£ä¹ˆé‡ç‚¹æ¥äº†ï¼Œæˆ‘ä»¬æ€Žä¹ˆæ±‚å®šä¹‰çš„$A^{-1}$ï¼Ÿæ¢å¥è¯è¯´ï¼Œ$A^{-1}$ä»€ä¹ˆæ—¶å€™å­˜åœ¨ï¼Ÿï¼ˆæ¯•ç«Ÿå¦‚æžœä¸å­˜åœ¨æˆ‘ä»¬æœŸæœ›çš„è¿™ä¸ª$A^{-1}$çš„è¯æ€Žä¹ˆæ±‚éƒ½æ˜¯å¾’åŠ³çš„ï¼‰å› æ­¤æˆ‘ä»¬éœ€è¦å¯¹$A^{-1}$çš„å­˜åœ¨æ¡ä»¶è¿›è¡Œåˆ†æžã€‚ $A^{-1}$çš„å­˜åœ¨æ¡ä»¶åˆ†æžå¯¹äºŽæ–¹ç¨‹ç»„$A{\cdot}x=b$ï¼Œå¦‚æžœ$A^{-1}$å­˜åœ¨ï¼Œé‚£ä¹ˆ$x$å…·æœ‰å”¯ä¸€è§£ä¸”è¿™ä¸ªè§£ä¸º$x=A^{-1}{\cdot}b$ã€‚ ä½†æ˜¯æˆ‘ä»¬çš„bå‘é‡æ˜¯åœ¨$R^m$ç©ºé—´ä»»æ„å–çš„ï¼Œå¯¹äºŽæŸäº›bå‘é‡å®žé™…å®žé™…ä¸Šå¯èƒ½ä¸å­˜åœ¨è§£ï¼Œè€Œå¯¹å¦ä¸€äº›bå‘é‡åˆ™å¯èƒ½å­˜åœ¨æ— ç©·å¤šçš„è§£ã€‚é‚£ä¹ˆæ˜¯å¦å­˜åœ¨ä¸€äº›$b$å‘é‡ä½¿å¾—xå­˜åœ¨ä¸æ­¢ä¸€ä¸ªä½†æ˜¯åˆæ˜¯æœ‰é™ä¸ªè§£å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸å­˜åœ¨çš„ï¼Œå› ä¸ºå‡è®¾å‘é‡$x_1$å’Œå‘é‡$x_2$æ˜¯æ–¹ç¨‹ç»„$A{\cdot}x=b$çš„è§£ï¼Œé‚£ä¹ˆå‘é‡${\alpha}{\cdot}x_1+(1-{\alpha}){\cdot}x_2$ï¼ˆ$\alpha$æ˜¯ä»»æ„å®žæ•°ï¼‰ä¸€å®šæ˜¯æ–¹ç¨‹ç»„$A{\cdot}x=b$çš„è§£ï¼ ä¸Žç‚¹çš„è¿åŠ¨å…³è”ä»Žç©ºé—´è·¯å¾„çš„è§’åº¦è€ƒè™‘æ–¹ç¨‹ç»„çš„è§£çš„å¯èƒ½ä¸ªæ•°ï¼š $A{\in}R^{m{\times}n}$ï¼Œå³Aæ˜¯ä¸€ä¸ªmè¡Œnåˆ—çš„çŸ©é˜µï¼ŒAçš„åˆ—å‘é‡éƒ½æ˜¯$R^m$ç©ºé—´é‡Œçš„å‘é‡ï¼Œå‘é‡bä¹Ÿæ˜¯$R^m$ç©ºé—´é‡Œçš„ä¸€ä¸ªå‘é‡ã€‚ æˆ‘ä»¬å¯ä»¥è¿™æ ·æƒ³ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ª$R^m$ç©ºé—´ï¼Œå®ƒåº”è¯¥æœ‰mä¸ªåæ ‡è½´ï¼ˆç›´è§’åæ ‡ç³»ï¼‰ï¼ŒAçš„æ¯ä¸€ä¸ªåˆ—å‘é‡åœ¨è¿™ä¸ªåæ ‡ç³»é‡Œé¢å®žé™…ä¸Šéƒ½æŒ‡æ˜Žäº†ä¸€ä¸ªæ–¹å‘ã€‚ ä¸‹å›¾æ˜¯ä¸€ä¸ªä¾‹å­ï¼š $$\begin{pmatrix}A_{1,1} &amp; â€¦ &amp; A_{1,n} \\ â€¦ &amp; â€¦ &amp; â€¦ \\ A_{m,1} &amp; â€¦ &amp; A_{m,n} \\ \end{pmatrix}{\cdot}\begin{pmatrix}x_1 \\ â€¦ \\ x_n \\ \end{pmatrix}=\begin{pmatrix}b_1 \\ â€¦ \\ b_m \\ \end{pmatrix}$$ æ³¨æ„ $$\begin{pmatrix}b_1 \\ â€¦ \\ b_m \\ \end{pmatrix}=\begin{pmatrix} A_{1,1}{\cdot}x_1+â€¦+A_{1,n}{\cdot}x_n \\ â€¦ \\ A_{m,1}{\cdot}x_1+â€¦+A_{m,n}{\cdot}x_n \\\end{pmatrix}=x_1{\cdot}\begin{pmatrix}A_{1,1} \\ â€¦ \\ A_{m,1} \\ \end{pmatrix}+â€¦+x_n{\cdot}\begin{pmatrix}A_{1,n} \\ â€¦ \\ A_{m,n} \\ \end{pmatrix}$$ å…¶ä¸­Açš„æŸä¸ªè¡Œå‘é‡$A_{i,:}$å°†æŽ§åˆ¶å‘é‡bçš„æŸä¸ªåˆ†é‡$b_i$ï¼Œè€ŒAçš„åˆ—å‘é‡$A_{:,j}$çš„å¯¹åº”åˆ†é‡å°†åˆ†åˆ«å½±å“å‘é‡bçš„åˆ†é‡$b_j$ï¼ˆè¿™é‡Œçš„Må½±å“Næ„å‘³ç€Mæ˜¯Nçš„ä¸€éƒ¨åˆ†ï¼ŒMå†³å®šNè¡¨ç¤ºåœ¨å…¶ä»–å› ç´ ä¸å˜çš„æƒ…å†µä¸‹Nå®Œå…¨å¯ä»¥ç”±MæŽ¨å¯¼å‡ºæ¥ï¼ï¼‰ã€‚æœ‰è¶£çš„æ˜¯ï¼ŒAçš„åˆ—å‘é‡åœ¨å½±å“å‘é‡bçš„åˆ†é‡æ—¶éƒ½æ˜¯ä¹˜ä»¥äº†æŸä¸€ä¸ªå¸¸æ•°ï¼ˆxå¯¹åº”çš„åˆ†é‡ï¼‰ï¼Œè¿™å¯ä»¥çœ‹åšæ˜¯å¯¹Açš„åˆ—å‘é‡åœ¨å…¶æœ¬æ¥çš„æ–¹å‘ä¸Šè¿›è¡Œç¼©æ”¾ã€‚ æ ¹æ®ä¸Šé¢è¿™ç§è§£é‡Šï¼ŒAçš„æ‰€æœ‰åˆ—å‘é‡å¯¹bçš„å½±å“çš„å’Œï¼ˆä¸Žxçš„å…§ç§¯ï¼‰å®žé™…ä¸Šå°±å†³å®šäº†å‘é‡bï¼Œå³ç­‰æ•ˆå®Œæˆäº†Açš„è¡Œå‘é‡å¯¹å‘é‡båˆ†é‡çš„æŽ§åˆ¶è¿‡ç¨‹ã€‚ ä¸Šé¢æåˆ°ï¼Œæˆ‘ä»¬åœ¨$R_m$ç©ºé—´é‡Œå»ºç«‹äº†ç›´è§’åæ ‡ç³»ï¼ŒAçš„æ‰€æœ‰åˆ—å‘é‡å’Œå‘é‡bä¹Ÿä½äºŽè¿™ä¸ªç©ºé—´ä¸­ã€‚ä»Žç©ºé—´è½¨è¿¹è§’åº¦æˆ‘ä»¬å¯ä»¥è¿™æ ·æ€è€ƒï¼š Oæ˜¯$R_m$ç©ºé—´ç›´è§’åæ ‡ç³»çš„åŽŸç‚¹ï¼Œå®ƒé¦–å…ˆæ²¿ç€$A_{:,1}$åˆ—å‘é‡æ‰€æŒ‡æ–¹å‘è¿åŠ¨ï¼Œè¿åŠ¨è·ç¦»æ˜¯$x_1{\cdot}|A_{:,1}|$ï¼Œç„¶åŽæ²¿ç€$A_{:,2}$åˆ—å‘é‡æ‰€æŒ‡æ–¹å‘è¿åŠ¨â€¦â€¦ä»¥æ­¤ç±»æŽ¨ï¼Œæœ€ç»ˆåˆ°è¾¾äº†å‘é‡bè¡¨ç¤ºçš„Bç‚¹ã€‚ æ¢ä¸ªè§’åº¦çœ‹ï¼Œä¸Šè¿°è¿‡ç¨‹å®žé™…ä¸Šå°±æ˜¯åœ¨å¯¹Açš„åˆ—å‘é‡è¿›è¡Œçº¿æ€§ç»„åˆï¼Œä½¿ä¹‹ç»“æžœç­‰ä»·äºŽbã€‚ å…³äºŽAçš„å½¢å¼è®¨è®ºåœ¨è¿™é‡Œæˆ‘ä»¬å‘çŽ°å¯ä»¥å¯¹Aè¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œæˆ‘ä»¬è®©Açš„åˆ—å‘é‡ä»…ä»…è¡¨ç¤ºæ–¹å‘è€Œä¸å‚ä¸Žç‚¹çš„è¿åŠ¨è·ç¦»è®¡ç®—ï¼Œè·ç¦»è®¡ç®—å°†ä»…ä»…ä¾èµ–äºŽxçš„åˆ†é‡å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯¹Açš„åˆ—å‘é‡å•ä½åŒ–ï¼ˆä½¿å…¶æ¨¡ä¸º1ï¼‰ï¼Œå½“ç„¶è¿™ä¸æ˜¯å¿…é¡»çš„ã€‚ æˆ‘ä»¬å¯¹Açš„ä¸€äº›å¯èƒ½æƒ…å†µè¿›è¡Œè®¨è®ºï¼šå‡è®¾æˆ‘ä»¬å°†Açš„nä¸ªåˆ—å‘é‡æ²¿$R_m$ç©ºé—´çš„åæ ‡è½´è¿›è¡Œæ­£äº¤åˆ†è§£ å½“n&lt;mæ—¶ï¼ˆå³åˆ—å‘é‡ä¸ªæ•°å°‘äºŽåˆ—å‘é‡çš„ç»´åº¦æ•°ï¼ŒAçš„åˆ—æ•°å°‘äºŽè¡Œæ•°ï¼ŒAæ˜¯ç˜¦çŸ©é˜µï¼‰ï¼šæˆ‘ä»¬åªçŸ¥é“ä¸€ç»´ç©ºé—´æœ€å°‘åªéœ€è¦ä¸€ä¸ªéžé›¶å‘é‡å°±å¯ä»¥é€šè¿‡çº¿æ€§å˜æ¢è¦†ç›–æ•´ä¸ªç©ºé—´ï¼ŒäºŒç»´å¹³é¢æœ€å°‘éœ€è¦ä¸¤ä¸ªçº¿æ€§æ— å…³çš„å‘é‡æ‰èƒ½é€šè¿‡çº¿æ€§ç»„åˆè¦†ç›–æ•´ä¸ªå¹³é¢ï¼Œä¸‰ç»´ç©ºé—´è‡³å°‘éœ€è¦ä¸‰ä¸ªçº¿æ€§æ— å…³çš„å‘é‡æ‰èƒ½é€šè¿‡çº¿æ€§ç»„åˆè¦†ç›–æ•´ä¸ªä¸‰ç»´ç©ºé—´ã€‚Aæœ€å¤šä¹Ÿå°±åªèƒ½æœ‰nä¸ªçº¿æ€§æ— å…³çš„åˆ—å‘é‡ï¼Œå› æ­¤Açš„åˆ—å‘é‡çš„ç”Ÿæˆå­ç©ºé—´æ ¹æœ¬ä¸å¯èƒ½è¦†ç›–æ•´ä¸ª$R_m$ç©ºé—´ï¼Œç»“æžœå°±æ˜¯ï¼Œå¯¹äºŽé‚£äº›åœ¨Aåˆ—å‘é‡ç”Ÿæˆå­ç©ºé—´å¤–çš„å‘é‡bï¼Œæ²¡æœ‰åŠžæ³•é€šè¿‡å¯¹Açš„åˆ—å‘é‡è¿›è¡Œçº¿æ€§ç»„åˆæ¥ç­‰æ•ˆã€‚ç»“è®ºï¼šAåˆ—å‘é‡çš„ç”Ÿæˆå­ç©ºé—´çš„æœ‰æ•ˆç»´åº¦å°‘äºŽAåˆ—å‘é‡çš„ç»´åº¦æ—¶ï¼Œå¯¹äºŽéƒ¨åˆ†å‘é‡bï¼Œxæ— è§£ã€‚ å½“n=mæ—¶ï¼ˆå³åˆ—å‘é‡çš„ä¸ªæ•°ç­‰äºŽåˆ—å‘é‡çš„ç»´åº¦æ•°ï¼ŒAçš„åˆ—æ•°ç­‰äºŽè¡Œæ•°ï¼ŒAæ˜¯æ–¹é˜µï¼‰ï¼šä»Žç¬¬ä¸€ç‚¹æˆ‘ä»¬å¯ä»¥æŽ¨æ–­ï¼Œå½“ä¸”ä»…å½“Açš„åˆ—å‘é‡çº¿æ€§æ— å…³æ—¶å…¶åˆ—å‘é‡çš„ç”Ÿæˆå­ç©ºé—´æ‰èƒ½è¦†ç›–Açš„åˆ—å‘é‡ç©ºé—´ï¼Œæ­¤æ—¶å¯¹äºŽä»»æ„çš„$b{\in}R^{m{\times}1}$éƒ½èƒ½å¤Ÿæ‰¾åˆ°ä¸€ç»„xä½¿å¾—åŽŸç‚¹è¿åŠ¨åˆ°Bç‚¹ã€‚ç»“è®ºï¼šAåˆ—å‘é‡çš„ç”Ÿæˆå­ç©ºé—´çš„æœ‰æ•ˆç»´åº¦ç­‰äºŽAåˆ—å‘é‡çš„ç»´åº¦æ—¶ï¼Œå¯¹äºŽä»»æ„çš„$b{\in}R^{m{\times}1}$éƒ½æœ‰å”¯ä¸€çš„xè§£ã€‚ å½“n&gt;mæ—¶ï¼ˆå³åˆ—å‘é‡çš„ä¸ªæ•°å¤§äºŽåˆ—å‘é‡çš„ç»´åº¦æ•°ï¼ŒAçš„åˆ—æ•°ç­‰äºŽè¡Œæ•°ï¼ŒAæ˜¯èƒ–çŸ©é˜µï¼‰ï¼šæ³¨æ„Açš„åˆ—å‘é‡åœ¨$R_m$ç©ºé—´ä¸­ï¼Œæ‰€ä»¥è¿™ä¸€ç»„nä¸ªåˆ—å‘é‡ä¸­åªèƒ½æ‰¾åˆ°ä¸€ç»„æˆ–å¤šç»„ä¸è¶…è¿‡mä¸ªåˆ—å‘é‡çš„å‘é‡ç»„çº¿æ€§æ— å…³ï¼Œå‰©ä½™åˆ—å‘é‡ä¸€å®šèƒ½è¢«è¿™ç»„é‡Œçš„éƒ¨åˆ†åˆ—å‘é‡æ‰€è¡¨ç¤ºã€‚æœ‰äº†è¿™äº›åˆ—å‘é‡çš„å‚ä¸Žï¼Œåˆ†è§£æ–¹å¼çž¬é—´å˜ä¸ºæ— æ•°ç§ï¼Œå¦‚ä¸‹å›¾(${\alpha}{\in}(0,180^{\circ})$)ï¼š å”¯ä¸€è§£é—®é¢˜å› ä¸ºæˆ‘ä»¬å®šä¹‰çš„$A^{-1}$ï¼ˆå¦‚æžœå­˜åœ¨ï¼‰æ˜¯é€šè¿‡Aå”¯ä¸€ç¡®å®šçš„ï¼ŒåŸºäºŽ$A^{-1}$æˆ‘ä»¬æ±‚å¾—çš„$x=A^{-1}{\cdot}b$ä¹Ÿåº”æ˜¯å”¯ä¸€è§£ã€‚ è¿™å°±æ˜¯è¯´ï¼Œå½“xæœ‰å”¯ä¸€è§£æ—¶æˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€ä¸ª$A^{-1}$ã€‚ ä»Žä¸Šé¢çš„è®¨è®ºä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“ä¸”ä»…å½“Açš„åˆ—å‘é‡çš„ä¸ªæ•°ç­‰äºŽåˆ—å‘é‡çš„ç»´åº¦ä¸”çº¿æ€§æ— å…³æ—¶ï¼Œå³Aæ˜¯æ–¹é˜µä¸”Açš„åˆ—å‘é‡çº¿æ€§æ— å…³æ—¶ï¼Œxå°†æœ‰å”¯ä¸€è§£ã€‚ äºŽæ˜¯ä¹Žæˆ‘ä»¬å¾—åˆ°ç»“è®ºï¼šåªæœ‰çŸ©é˜µAæ˜¯æ–¹é˜µä¸”åˆ—å‘é‡çº¿æ€§æ— å…³æ—¶æ‰å­˜åœ¨$A^{-1}$ã€‚ å¥‡å¼‚çŸ©é˜µï¼ˆæ–¹é˜µï¼‰ï¼šSingular Matrixï¼Œåˆ—å‘é‡ç›¸å…³çš„æ–¹é˜µ äºŽæ˜¯ä¹Žï¼Œåªæœ‰éžå¥‡å¼‚çŸ©ï¼ˆæ–¹ï¼‰é˜µæ‰å­˜åœ¨$A^{-1}$ã€‚]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•-æŽ’åº-é¸¡å°¾é…’æŽ’åº]]></title>
    <url>%2Fml%2F20180814-6125.html</url>
    <content type="text"><![CDATA[é¸¡å°¾é…’æŽ’åºæœ¬è´¨ä¸Šå°±æ˜¯åŒå‘å†’æ³¡æŽ’åºã€‚ å†’æ³¡æŽ’åºï¼ˆBubble Sortï¼‰å…ƒç´ åˆ†ä¸ºå·²ç»æŽ’åºçš„å…ƒç´ å’Œå¾…æŽ’åºçš„å…ƒç´ ï¼Œæ¯è½®æŽ’åºä¹‹å¢žåŠ ä¸€ä¸ªå·²ç»æŽ’åºçš„å…ƒç´ ã€‚ æ¯è½®æŽ’åºéƒ½è¦ä»Žæ•°ç»„ä¸­å¾…æŽ’åºçš„é‚£ä¸€ç«¯è¿›è¡Œç›¸é‚»å…ƒç´ çš„é€ä¸ªæ¯”è¾ƒï¼Œæ¯”è¾ƒçš„ç»“æžœæ˜¯å‡å°‘ä¸€ä¸ªå¾…æŽ’åºå…ƒç´ ï¼Œå› æ­¤æœ€å¤šçš„æ¯”è¾ƒæ¬¡æ•°å°†ä¼šæ˜¯ (n-1)+â€¦+1, æ—¶é—´å¤æ‚åº¦ä¸º o(n^2)ã€‚ å¯¹äºŽå¤§éƒ¨åˆ†æœ‰åºçš„æ•°ç»„å°†ä¼šäº§ç”Ÿå¤§é‡æ²¡æœ‰å¿…è¦çš„æ¯”è¾ƒï¼Œå³å½“ä¸€è½®æ¯”è¾ƒä¸äº§ç”Ÿäº¤æ¢æ—¶è¯´æ˜Žå·²ç»å…¨éƒ¨æœ‰åºï¼Œå› æ­¤éœ€è¦è®¾ç½®ä¸€ä¸ªå˜é‡æ ‡è¯†æ˜¯å¦å…¨éƒ¨æœ‰åºåŠæ—¶é€€å‡ºå¾ªçŽ¯ã€‚ é¸¡å°¾é…’æŽ’åºï¼ˆCocktail Sortï¼‰ç»å…¸çš„å†’æ³¡æŽ’åºå®žé™…ä¸Šæ˜¯å•å‘çš„ï¼Œè€Œé¸¡å°¾é…’æŽ’åºæ˜¯åŒå‘çš„ã€‚ ä½†æ˜¯ï¼Œåœ¨é¸¡å°¾é…’æŽ’åºä¸­æ¯ä¸€è½®åªèƒ½åœ¨å¾…æŽ’åºå…ƒç´ ä¸­ç¡®å®šä¸€ä¸ªæœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œåœ¨æœ€åæƒ…å†µä¸‹å®ƒå¹¶ä¸èƒ½å‡å°‘æ¯”è¾ƒæ¬¡æ•°ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä¸Žç»å…¸çš„å†’æ³¡ç®—æ³•ç›¸åŒï¼Œåªæ˜¯åœ¨å¤§éƒ¨åˆ†æœ‰åºæ—¶å¯èƒ½å°‘äºŽç»å…¸å†’æ³¡æŽ’åºçš„æ¯”è¾ƒæ¬¡æ•°ã€‚ åœ¨å¤§éƒ¨åˆ†å…ƒç´ æ— åºæ—¶ä¸¤ç§æŽ’åºåŠæ–¤å…«ä¸¤ã€‚]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œåŸºç¡€-TCPæ•°æ®åŒ…ç»“æž„åŠTCPå»ºç«‹è¿žæŽ¥æ—¶çš„ä¸‰æ¬¡æ¡æ‰‹]]></title>
    <url>%2Fit%2F20180814-5f47.html</url>
    <content type="text"><![CDATA[ä¸‰æ¬¡æ¡æ‰‹ï¼Œç¤¼å°šå¾€æ¥ï¼ ä»€ä¹ˆæ˜¯Socketï¼ŸSocketæ„ä¸ºâ€œæ’åº§â€ï¼Œå¯ä»¥è¯´è¿™æ˜¯ä¸€ä¸ªååˆ†å½¢è±¡çš„æ¯”å–»äº†ï¼Œæ›´ä¸“ä¸šçš„ç§°å‘¼å«â€œå¥—æŽ¥å­—â€ã€‚ç½‘ç»œä¸Šçš„ä¸¤ä¸ªç¨‹åºï¼ˆä¸€èˆ¬ä½äºŽä¸¤å°æœºå™¨ä¸Šï¼‰éœ€è¦è¿›è¡Œé€šè®¯ï¼Œå°±å¿…é¡»åœ¨å®ƒä»¬ä¹‹é—´å»ºç«‹ä¸€ä¸ªåŒå‘é€šä¿¡é€šé“ï¼šä¸€ç«¯è¿žæŽ¥æœåŠ¡å™¨Serverï¼Œä¸€ç«¯è¿žæŽ¥è€…å®¢æˆ·ç«¯Clientã€‚ä½†æ˜¯ä¸Žä¸€å°Serverï¼ˆæˆ–è€…Clientï¼‰è¿›è¡Œé€šä¿¡çš„ç½‘ç»œç¨‹åºå¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œå®ƒä»¬æ€Žä¹ˆåŒºåˆ†å¼€å‘¢ï¼Ÿç­”æ¡ˆæ˜¯é€šè¿‡ç«¯å£ï¼ˆportï¼‰è¿›è¡ŒåŒºåˆ†ï¼šä¸åŒçš„ç«¯å£äº‹å®žä¸Šä¼šç»‘å®šä¸åŒçš„æœåŠ¡ï¼Œä¸Žè¯¥ä¸»æœºçš„é€šè®¯å®žé™…ä¸Šæ˜¯é€šè¿‡æŸä¸ªç‰¹å®šçš„ç«¯å£ä¸Žè¯¥ä¸»æœºè¿›è¡Œæ•°æ®äº¤æµã€‚ç«¯å£å°±åƒä¸»æœºèº«ä¸Šçš„æ’å­”ï¼Œä¾›å¤–ç•Œå–ç”¨ä¿¡æ¯ã€‚ip:portçš„æ ¼å¼å°±ç§°ä¹‹ä¸ºä¸€ä¸ªå¥—æŽ¥å­—ã€‚æ˜¾ç„¶ï¼Œè¿žæŽ¥ä¸¤ä¸ªç½‘ç»œç¨‹åºçš„è¿™ä¸ªåŒå‘é€šä¿¡é€šé“éœ€è¦æœ‰ä¸¤ä¸ªå¥—æŽ¥å­—ï¼šä¸€ä¸ªè¿žæŽ¥Clientï¼Œä¸€ä¸ªè¿žæŽ¥Serverã€‚ TCPæ•°æ®åŒ…ç»“æž„ æºå§‹ç«¯å£ï¼š16ä½ï¼Œå‘é€æ•°æ®åŒ…çš„ç«¯å£ï¼Œå–å€¼ 0 ~ 65535 ç›®çš„ç«¯å£ï¼š16ä½ï¼ŒæŽ¥å—æ•°æ®åŒ…çš„ç«¯å£ï¼Œå–å€¼ 0 ~ 65535 æ•°æ®åºå·ï¼ˆSeqï¼‰ï¼š32ä½ï¼Œæ•°æ®åŒ…å‘é€ç«¯æŒ‡å®šçš„åºå·ï¼ˆå¯èƒ½æ˜¯éšæœºäº§ç”Ÿçš„ï¼‰ ç¡®è®¤åºå·ï¼ˆAckï¼‰ï¼š32ä½ï¼Œæ•°æ®åŒ…å‘é€ç«¯æŒ‡å®šçš„åºå· å¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡æå‡ºè¿žæŽ¥è¯·æ±‚ï¼Œä¾‹å¦‚Clientè¯·æ±‚è¿žæŽ¥Serverï¼ŒSeqå¯ä»¥éšæœºäº§ç”Ÿï¼Œç”±äºŽæ ‡å¿—ä½Aä¸º0æ‰€ä»¥Ackå€¼æ— æ•ˆ å¦‚ä¸Šï¼Œå¦‚æžœæ˜¯Serverå›žåº”Clientçš„è¿žæŽ¥è¯·æ±‚ï¼Œå½“å‰æ•°æ®åŒ…çš„Seqå¯ä»¥éšæœºäº§ç”Ÿï¼ŒAckå€¼å¿…é¡»æ˜¯ä¸Šè¿°Seqå€¼åŠ 1 UAPRSFï¼šå…­ä¸ªæ ‡å¿—ä½ï¼Œå…±6ä½ Uï¼šURGï¼Œurgentï¼Œä¸º1æ—¶è¡¨ç¤º ç´§æ€¥æŒ‡é’ˆæœ‰æ•ˆ Aï¼šACKï¼Œacknowledgeï¼Œä¸º1æ—¶è¡¨ç¤º ç¡®è®¤åºå·ï¼ˆAckï¼‰æœ‰æ•ˆ Pï¼šPSHï¼Œä¸º1æ—¶è¡¨ç¤º æŽ¥å—ç«¯åœ¨æŽ¥æ”¶åˆ°æ•°æ®åŒ…åŽåº”è¯¥ä¼˜å…ˆå¤„ç†äº¤ä»˜åº”ç”¨ç«¯ Rï¼šRSTï¼Œresetï¼Œä¸º1æ—¶è¡¨ç¤º TCPè¿žæŽ¥å‡ºçŽ°ä¸¥é‡é—®é¢˜éœ€è¦é‡Šæ”¾å½“å‰è¿žæŽ¥åˆ›å»ºæ–°çš„è¿žæŽ¥ Sï¼šSYNï¼Œsynchronousï¼Œä¸º1æ—¶è¡¨ç¤º å½“å‰æ•°æ®åŒ…æ˜¯ä¸€ä¸ªä¸Žå»ºç«‹è¿žæŽ¥æœ‰å…³çš„æ•°æ®åŒ…ï¼ˆè¯·æ±‚æˆ–æŽ¥å—ï¼‰ Fï¼šFINï¼Œfinishï¼Œä¸º1æ—¶è¡¨ç¤º å½“å‰æ•°æ®åŒ…å·²æ˜¯å‘é€ç«¯çš„æœ€åŽä¸€ä¸ªæ•°æ®åŒ…ï¼Œè¿žæŽ¥éœ€è¦å…³é—­ ä¸‰æ¬¡æ¡æ‰‹ å®¢æˆ·ç«¯è°ƒç”¨ socket() å‡½æ•°åˆ›å»ºå¥—æŽ¥å­—ï¼Œå®¢æˆ·ç«¯è¿žæŽ¥å¤„äºŽ CLOSED çŠ¶æ€ã€‚ æœåŠ¡å™¨è°ƒç”¨ listen() å‡½æ•°ä½¿æœåŠ¡å™¨ç«¯çš„å¥—æŽ¥å­—è¿›å…¥ LISTEN çŠ¶æ€ï¼šç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚ å®¢æˆ·ç«¯è°ƒç”¨ connect() å‡½æ•°æž„å»ºæ•°æ®åŒ…ï¼šè¯·æ±‚è¿žæŽ¥æœåŠ¡å™¨ã€‚ è¿™ä¸ªæ•°æ®åŒ…çš„ SYN=1ï¼ŒACK=0ï¼šSYNä¸º1è¡¨ç¤ºå½“å‰æ•°æ®åŒ…ä¸ºä¸€ä¸ªæœ‰å…³å»ºç«‹è¿žæŽ¥çš„æ•°æ®åŒ…ï¼ŒACKä¸º0è¡¨ç¤ºè¯¥æ•°æ®åŒ…çš„ä½œç”¨æ˜¯å®¢æˆ·ç«¯è¯·æ±‚è¿žæŽ¥æœåŠ¡å™¨ã€‚ è¿™ä¸ªæ•°æ®åŒ…çš„ Seq ç”±å®¢æˆ·ç«¯äº§ç”Ÿï¼Œç”¨äºŽæ ‡è¯†å½“å‰æ•°æ®åŒ…çš„åºå·ã€‚ å‘é€ è¯·æ±‚è¿žæŽ¥ æ•°æ®åŒ…åŽå®¢æˆ·ç«¯è¿›å…¥ SYN-SEND çŠ¶æ€ï¼šè¿žæŽ¥è¯·æ±‚å·²å‘é€ã€‚ æœåŠ¡å™¨æ”¶åˆ° SYN=1, ACK=0 çš„æ•°æ®åŒ…ï¼Œåˆ¤æ–­è¿™æ˜¯å®¢æˆ·ç«¯å‘æ¥çš„è¿žæŽ¥è¯·æ±‚ã€‚ æœåŠ¡å™¨æž„å»ºè¡¨ç¤º æŽ¥å—è¿žæŽ¥ çš„æ•°æ®åŒ…ï¼š è¿™ä¸ªæ•°æ®åŒ…çš„ SYN=1ï¼ŒACK=1ï¼šå½“å‰æ•°æ®åŒ…æ˜¯ä¸€ä¸ªå…³äºŽå»ºç«‹è¿žæŽ¥çš„æ•°æ®åŒ…ï¼ŒACKæœ‰æ•ˆæ„ä¸ºç€è¿™æ˜¯ä¸€ä¸ªå›žåº”æ€§çš„æ•°æ®åŒ…ï¼Œå³æŽ¥å—å®¢æˆ·ç«¯çš„è¿žæŽ¥è¯·æ±‚ã€‚ è¿™ä¸ªæ•°æ®åŒ…çš„ Seq ç”±æœåŠ¡å™¨ç”Ÿæˆã€‚ è¿™ä¸ªæ•°æ®åŒ…çš„ACK=1æ„å‘³ç€ç¡®è®¤åºå·æœ‰æ•ˆï¼Œè¿™ä¸ªç¡®è®¤åºå·åº”è¯¥ä¸º æ”¶åˆ°çš„å®¢æˆ·ç«¯çš„è¯·æ±‚æ€§çš„æ•°æ®åŒ…çš„æ•°æ®åºå·åŠ 1ã€‚ å‘é€ æŽ¥å—è¿žæŽ¥ çš„æ•°æ®åŒ…ä¹‹åŽæœåŠ¡å™¨è¿›å…¥ SYN-RECV çŠ¶æ€ï¼šè¿žæŽ¥å·²æŽ¥å—ã€‚ å®¢æˆ·ç«¯æ”¶åˆ° SYN=1ï¼ŒACK=1 çš„æ•°æ®åŒ…ï¼Œåˆ¤æ–­è¿™æ˜¯æŸä¸ªæœåŠ¡å™¨å‘æ¥çš„æŽ¥å—è‡ªå·±è¿žæŽ¥çš„æ•°æ®åŒ…ã€‚ å®¢æˆ·ç«¯æ£€æŸ¥è¿™ä¸ªæ•°æ®åŒ…çš„ç¡®è®¤åºå·æ˜¯å¦æ˜¯è‡ªå·±è¯·æ±‚è¿žæŽ¥æ•°æ®åŒ…çš„æ•°æ®åºå·åŠ 1ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™å®¢æˆ·ç«¯æž„å»º ç¡®è®¤ æ•°æ®åŒ…ï¼šç¡®è®¤æ”¶åˆ°æœåŠ¡å™¨æŽ¥å—äº†è¿žæŽ¥è¿™ä¸€æ¡æ¶ˆæ¯ï¼š è¿™ä¸ªæ•°æ®åŒ…çš„ ACK=1ï¼šå®¢æˆ·ç«¯éœ€è¦æœ€åŽå‘æœåŠ¡å™¨å‘é€ç¡®è®¤æ¶ˆæ¯å› æ­¤éœ€è¦è®¾ç½®ACK=1. è¿™ä¸ªæ•°æ®åŒ…çš„ ç¡®è®¤åºå· å€¼ä¸ºæœåŠ¡å™¨å‘æ¥çš„ æŽ¥å—è¿žæŽ¥ æ•°æ®åŒ…çš„ æ•°æ®åºå·ã€‚ å®¢æˆ·ç«¯è¿›å…¥ ESTABLISED çŠ¶æ€ï¼šé€šé“å®¢æˆ·ç«¯å·²å°±ç»ªã€‚ æœåŠ¡å™¨æ”¶åˆ° ACK=1 çš„æ•°æ®åŒ…ï¼Œåˆ¤æ–­è¿™æ˜¯å®¢æˆ·ç«¯å‘æ¥çš„æœ€åŽçš„ç¡®è®¤åŒ…ã€‚ æœåŠ¡å™¨æ£€æŸ¥è¿™ä¸ªæ•°æ®åŒ…çš„ ç¡®è®¤åºå·ï¼Œæ£€æŸ¥æ˜¯å¦ä¸ºè‡ªå·±å‘é€çš„ æŽ¥å—è¯·æ±‚ æ•°æ®åŒ…çš„ æ•°æ®åºå· åŠ 1ï¼Œå¦‚æžœæ˜¯åˆ™è¿žæŽ¥å»ºç«‹ï¼ŒæœåŠ¡å™¨è¿›å…¥ ESTABLISED çŠ¶æ€ï¼šé€šé“æœåŠ¡å™¨ç«¯å·²å°±ç»ªã€‚ è‡³æ­¤ï¼Œé€šé“ä¸¤ç«¯éƒ½å·²å°±ç»ªï¼Œä¸‹é¢å°±å¯ä»¥æ”¶å‘æ•°æ®äº†ã€‚ ä»Žä¸Šå›¾æˆ‘ä»¬å¯ä»¥å‘çŽ°ï¼Œæ•´ä¸ªè¿žæŽ¥å»ºç«‹çš„è¿‡ç¨‹ä¸€å…±éœ€è¦å‘é€ä¸‰ä¸ªæ•°æ®åŒ…ï¼Œå³ä¸‰æ¬¡æ¡æ‰‹ã€‚ å…¶ä¸­ä¸¤ä¸ªç”±å®¢æˆ·ç«¯å‘é€ï¼Œåˆ†åˆ«è¡¨ç¤ºâ€œè¯·æ±‚è¿žæŽ¥â€å’Œâ€œé€šå‘ŠæœåŠ¡å™¨è‡ªå·±å·²çŸ¥æ™“æœåŠ¡å™¨æŽ¥å—äº†è¯·æ±‚â€ï¼›ä¸€ä¸ªç”±æœåŠ¡å™¨å‘é€ï¼Œè¡¨ç¤ºâ€œæŽ¥å—è¿žæŽ¥â€ã€‚ ä¸‰ä¸ªæ•°æ®åŒ…çš„åŒºåˆ†é€šè¿‡SYNå’ŒACKçš„ç»„åˆæ¥åˆ¤å®šã€‚ æœåŠ¡å™¨åªä¼šæ”¶åˆ°ä¸¤ä¸ªæ•°æ®åŒ…ï¼šä¸€ä¸ªACKä¸º0è¡¨ç¤ºè¿™æ˜¯å§‹å‘åŒ…ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„â€œè¯·æ±‚è¿žæŽ¥â€ï¼›ä¸€ä¸ªACKä¸º1è¡¨ç¤ºè¿™æ˜¯å®¢æˆ·ç«¯çš„ç¡®è®¤åŒ…ã€‚ å®¢æˆ·ç«¯åªä¼šæ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼šä¸Žå»ºç«‹è¿žæŽ¥æœ‰å…³çš„ï¼ˆSYN=1ï¼‰ã€å±žäºŽå›žåº”æ€§ï¼ˆACK=1ï¼‰çš„æ•°æ®åŒ…ã€‚]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonè¯»å–jsonæ–‡ä»¶æ—¶ä¹¦å†™çš„è¯­æ³•å·®å¼‚]]></title>
    <url>%2Fbug%2F20180809-575c.html</url>
    <content type="text"><![CDATA[ä½¿ç”¨jsonæ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶æ—¶å¦‚æžœæ¶‰åŠåˆ°åˆ—è¡¨ï¼ˆlistï¼‰ç±»åž‹ï¼Œæœ€åŽä¸€ä¸ªå…ƒç´ åŽé¢åƒä¸‡ä¸èƒ½åŠ é€—å·ã€‚ å¯¹äºŽè¾ƒå¤šå‚æ•°çš„ç¨‹åºæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œå‚æ•°ä¼ å…¥ï¼Œä¹Ÿå¯ä»¥å®šä¹‰é¢å¤–çš„é…ç½®æ–‡ä»¶ã€‚ è¿™é‡Œæˆ‘ä½¿ç”¨jsonæ ¼å¼çš„æ–‡ä»¶ä½œä¸ºé¢å¤–çš„é…ç½®æ–‡ä»¶ã€‚ json.decoder.JSONDecodeErrorä½¿ç”¨jsonæ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶æ—¶å¦‚æžœæ¶‰åŠåˆ°åˆ—è¡¨ï¼ˆlistï¼‰ç±»åž‹ï¼Œæœ€åŽä¸€ä¸ªå…ƒç´ åŽé¢åƒä¸‡ä¸èƒ½åŠ é€—å·ã€‚ å³ [&quot;a&quot;] æ˜¯æ­£ç¡®çš„ï¼Œ[&quot;a&quot;, ] æ˜¯ä¸æ­£ç¡®çš„ã€‚è¿™ä¸ªè§„åˆ™é€‚ç”¨äºŽæ‰€æœ‰jsonæ–‡ä»¶ã€‚ åŠ é€—å·å°†æŠ¥é”™å¦‚ä¸‹ï¼š Traceback (most recent call last): File "", line 1, in File "......\lib\json\__init__.py", line 268, in load parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw) File "......\lib\json\__init__.py", line 319, in loads return _default_decoder.decode(s) File "......\lib\json\decoder.py", line 339, in decode obj, end = self.raw_decode(s, idx=_w(s, 0).end()) File "......\lib\json\decoder.py", line 357, in raw_decode raise JSONDecodeError("Expecting value", s, err.value) from None json.decoder.JSONDecodeError: Expecting value: line 16 column 9 (char 491) å…¶ä¸­ raise JSONDecodeError(&quot;Expecting value&quot;, s, err.value) from None åº”è¯¥æ˜¯æŒ‡ï¼Œjsonè§£æžå‡½æ•°è®¤ä¸ºé€—å·åŽé¢åº”è¯¥è¿˜æœ‰å…ƒç´ ï¼Œå› æ­¤å°è¯•åŽ»è§£æžåŽé¢çš„å…ƒç´ ï¼Œç»“æžœå´ä»€ä¹ˆä¹Ÿæ²¡å¾—åˆ°ï¼ŒæŠ›å‡º json.decoder.JSONDecodeError é”™è¯¯ï¼Œå‘Šè¯‰ä½ è¿™é‡Œæœ¬è¯¥æœ‰å€¼çš„ï¼ˆâ€Expecting value: â€¦â€ï¼‰ã€‚æ¨¡å—ä½œè€…æœ‰å¯èƒ½å—åˆ°äº†å…¶ä»–è¯­è¨€ä¹ æƒ¯çš„å½±å“ï¼Ÿ]]></content>
      <categories>
        <category>bug</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[warningså†…å»ºæ¨¡å—]]></title>
    <url>%2Fpython%2F20180730-5f87.html</url>
    <content type="text"><![CDATA[ä¸åŒäºŽå¼‚å¸¸ï¼Œä¸æƒ³å½±å“åˆ°ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œï¼ŒåŒæ—¶åˆæƒ³è®©ä½¿ç”¨è€…çŸ¥é“ç‚¹ä»€ä¹ˆ ä½¿ç”¨è­¦å‘Šï¼šwarnings.warn(...) å¿½ç•¥RuntimeWarningè­¦å‘Šï¼šwarnings.filterwarnings(action=&#39;ignore&#39;, category=RuntimeWarning)]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pythonæ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonä¹‹é£˜é€¸çš„formatæ ¼å¼åŒ–å­—ç¬¦ä¸²æŽ§åˆ¶]]></title>
    <url>%2Fpython%2F20180730-ee75.html</url>
    <content type="text"><![CDATA[é™¤äº†ä¼ ç»Ÿçš„ % æ ¼å¼åŒ–å­—ç¬¦ä¸²å¤–ï¼Œpythonè¿˜æä¾›äº†ä¸€ç§è§‚æ„Ÿæžå¼ºçš„æ ¼å¼åŒ–æ–¹æ³•ï¼š{:}.format(...) ä¼ å‚123456789101112131415161718192021222324252627282930313233### 1. æŒ‰ç´¢å¼•å–å€¼&gt;&gt;&gt; '&#123;&#125;-&#123;&#125;'.format(111,222) # é»˜è®¤ç´¢å¼•ï¼Œç­‰ä»·äºŽ '&#123;0&#125;-&#123;1&#125;'.format(111,222)111-222# ç´¢å¼•é¡ºåºå¯ä»¥æ‰‹åŠ¨æŒ‡å®š&gt;&gt;&gt; &#123;0&#125;-&#123;1&#125;-&#123;0&#125;'.format(111,222)111-222-111# ä¼ å…¥åºåˆ—ä¹Ÿå¯ä»¥æŒ‰ç´¢å¼•å–å€¼ï¼Œä½†æ˜¯æ ¼å¼å¾ˆå¥‡è‘©&gt;&gt;&gt; A = [1, 2, 3, 4]&gt;&gt;&gt; B = ['a', 'b', 'c', 'd']&gt;&gt;&gt; '&#123;0[0]&#125;-&#123;1[1]&#125;-&#123;0[2]&#125;-&#123;1[3]&#125;'.format(A, B)1-b-3-d### 2. é€šè¿‡å…³é”®å­—å–å€¼&gt;&gt;&gt; '&#123;k2&#125;-&#123;k1&#125;'.format(k1=111,k2=222)222-111# å…³é”®å­—å’Œåˆ—è¡¨ä¸€èµ·ä½¿ç”¨&gt;&gt;&gt; '&#123;L[0]&#125;-&#123;L[1]&#125;'.format(L=A) # æˆ–è€… '&#123;0[0]&#125;-&#123;0[1]&#125;'.format(A)1-2### 3. ä¼ å…¥å¯¹è±¡&gt;&gt;&gt; '&#123;obj.attr1&#125;-&#123;obj.attr2&#125;'.format(obj)### 4. ä½¿ç”¨*argså’Œ**kwargs&gt;&gt;&gt; args = ['friend', 'You']&gt;&gt;&gt; kwargs = &#123;'whose': 'my', 'how': 'are'&#125;# åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­formatç›´æŽ¥åœ¨**å‚æ•°ä¸­æŸ¥æ‰¾å¯¹åº”çš„é”®&#123;&#125;ï¼Œç´¢å¼•&#123;&#125;æŒ‰ç…§ç´¢å¼•é¡ºåºåœ¨*å‚æ•°ä¸­æŸ¥æ‰¾&gt;&gt;&gt; '&#123;1&#125; &#123;how&#125; &#123;whose&#125; best &#123;0&#125;'.format(*args, **kwargs)You are my best friend æ ¼å¼æŽ§åˆ¶ {:}ï¼ˆå€ŸåŠ©äºŽ:ç¬¦å·ï¼‰å®šå®½&amp;å¡«å……12345678&gt;&gt;&gt; '&#123;:w&gt;8&#125;'.format(1314)wwww1314''': æ ¼å¼æŽ§åˆ¶å¿…é¡»å­—ç¬¦w æ˜¯å¡«å……ç¬¦ï¼Œå¿…é¡»ä¸ºå•å­—ç¬¦ï¼Œå¯ä»¥ä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºç©ºæ ¼ï¼Œä¾‹å¦‚ &#123;:&gt;8&#125;&gt; å·¦å¯¹é½ï¼Œç›¸åº”åœ°'&lt;'ä¸ºå³å¯¹é½, '^'ä¸ºå±…ä¸­å¯¹é½8 åŸŸå®½''' æµ®ç‚¹æ•°ç²¾åº¦1234567&gt;&gt;&gt; '&#123;:.2f&#125;'.format(1.2345) # .2 ä»£è¡¨ä¿ç•™ä¸¤ä½å°æ•°ï¼Œè€Œä¸æ˜¯ä¸¤ä½æœ‰æ•ˆæ•°å­—1.23&gt;&gt;&gt; '&#123;:.&#123;&#125;f&#125;'.format(1.2345, 3) # &#123;&#125;çš„åµŒå¥—ä½¿ç”¨ï¼ŒæŒ‰ç…§ä»Žå·¦è‡³å³ï¼Œä»Žå¤–åˆ°å†…çš„é¡ºåº1.234&gt;&gt;&gt; '&#123;k:.2f&#125;'.format(k=1.2345) # é…åˆå…³é”®å­—ä½¿ç”¨ åŸŸå®½å’Œæµ®ç‚¹æ•°æ ¼å¼æŽ§åˆ¶å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼š 1234567891011&gt;&gt;&gt; '&#123;num:&#123;fill&#125;&#123;align&#125;&#123;width&#125;.&#123;frac&#125;f&#125;'.format( num=3.1415926, fill='-', align='&gt;', width='10', frac='2') # å¸¦å…³é”®å­—çš„å†™æ³•------3.14# ä¸Žä¸‹é¢çš„æ–¹å¼ç­‰æ•ˆ&gt;&gt;&gt; ':-&gt;10.2f'.format(3.1415926)------3.14 è¿›åˆ¶è½¬æ¢1234567891011&gt;&gt;&gt; '&#123;:b&#125;'.format(520) # äºŒè¿›åˆ¶1000001000&gt;&gt;&gt; '&#123;:d&#125;'.format(520) # åè¿›åˆ¶520&gt;&gt;&gt; '&#123;:o&#125;'.format(520) # å…«è¿›åˆ¶1010&gt;&gt;&gt; '&#123;:x&#125;'.format(520) # åå…­è¿›åˆ¶208 æ•°å­—åˆ†éš”ç¬¦12&gt;&gt;&gt; &#123;:,&#125;.format(1234567)1,234,567]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ—¶é—´å†…å»ºæ¨¡å—]]></title>
    <url>%2Fpython%2F20180728-42ac.html</url>
    <content type="text"><![CDATA[åŒ…æ‹¬time, datetime, calendar, business_calendar, pytz, dateutilç­‰ç­‰æ¨¡å—ã€‚ timeæ¨¡å—ticks = time.time() è¿”å›žä¸€ä¸ªè¡¨ç¤ºå½“å‰æ—¶åˆ»çš„æµ®ç‚¹æ•°ï¼Œåªèƒ½è¡¨ç¤º1970å¹´åˆ°2038å¹´ã€‚ struct_time = time.localtime(time.time()) è¿”å›žæœ¬åœ°æ—¶é—´ è¿”å›žæ—¶é—´å…ƒç»„å¯¹è±¡ struct_timeï¼Œå¹¶ä¸èƒ½è‡ªåŠ¨è½¬åŒ–ä¸ºå­—ç¬¦ä¸² è¿”å›žä¾‹å¦‚time.struct_time(tm_year=2016, tm_mon=4, tm_mday=7, tm_hour=10, tm_min=3, tm_sec=27, tm_wday=3, tm_yday=98, tm_isdst=0) tm_wday è¡¨ç¤ºä¸€å‘¨çš„ç¬¬å‡ å¤© tm_yday è¡¨ç¤ºä¸€å¹´çš„ç¬¬å‡ å¤© tm_isdst è¡¨ç¤ºæ˜¯å¦æ˜¯å¤ä»¤æ—¶ time.asctime(struct_time) è¿”å›žç»™å®šæ—¶é—´çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œåªèƒ½ä¼ å…¥æ—¶é—´å…ƒç»„è€Œä¸æ˜¯ticks time.strftime(FORMAT, STRUCT_TIME) å¯ä»¥å®šåˆ¶æ—¶é—´å­—ç¬¦ä¸²æ ¼å¼ æ—¶é—´æ ¼å¼åŒ–ç¬¦å· %y (ä¸¤ä½æ•°å¹´ä»½00-99)ï¼Œ%Y (å››ä½æ•°å¹´ä»½0000-9999) %m (æœˆä»½01-12)ï¼Œ%d (æœˆä¸­çš„ç¬¬å‡ å¤©01-31) %H (24å°æ—¶åˆ¶00-23)ï¼Œ%I (12å°æ—¶åˆ¶01-12) %M (åˆ†é’Ÿæ•°00-59)ï¼Œ%S (ç§’æ•°00-59) %w (å‘¨å‡ 0-6ï¼Œ0ä»£è¡¨å‘¨æ—¥)ï¼Œ%a (æœ¬åœ°ç®€åŒ–æ˜ŸæœŸåç§°ï¼Œå¦‚Sat)ï¼Œ%A (æœ¬åœ°å®Œæ•´æ˜ŸæœŸåç§°ï¼Œå¦‚Saturday) %U (ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨00-53ï¼Œå‘¨æ—¥å§‹)ï¼Œ%W (ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨00-53ï¼Œå‘¨ä¸€å§‹) %a (æœ¬åœ°ç®€åŒ–æœˆä»½åç§°ï¼Œå¦‚Jul)ï¼Œ%A (æœ¬åœ°å®Œæ•´æœˆä»½åç§°ï¼Œå¦‚July) %j (ä¸€å¹´å†…çš„ç¬¬å‡ å¤©001-366) %p (å€¼ä¸ºAMæˆ–è€…PM) å¸¸ç”¨æ ¼å¼ï¼š %Y-%m-%d %H:%M:%S time.strptime(STRING[, FORMAT]) å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºstruct_timeå¯¹è±¡ã€‚å¦‚æžœSTRINGæ˜¯æ ‡å‡†çš„æ—¶é—´å­—ç¬¦ä¸²å¯ä»¥ä¸ç”¨æŒ‡å®šFORMATï¼Œå¦åˆ™è¿˜æ˜¯æŒ‡æ˜Žçš„å¥½ã€‚ time.mktime(struct_time_object) å°†struct_timeå¯¹è±¡è½¬åŒ–ä¸ºä¸€ä¸ªæµ®ç‚¹æ•°ï¼ˆæ—¶é—´æˆ³ï¼‰ time.clock() è¿”å›žå½“å‰CPUæ—¶é—´ï¼Œç”¨äºŽè®¡ç®—ç¨‹åºè€—æ—¶ã€‚ datetimeæ¨¡å—æ˜¯timeæ¨¡å—çš„é«˜çº§å°è£…ï¼ŒåŒæ—¶è§£é™¤äº†timeæ¨¡å—å¯¹å¹´ä»½ï¼ˆ1970 - 2038ï¼‰çš„é™åˆ¶ã€‚ datetimeæ¨¡å—åŒ…å«äº†5ä¸ªç±»ï¼Œå®žé™…å¸¸ç”¨çš„æ˜¯datetimeç±»ã€‚ ddnow = datetime.datetime.now() èŽ·å–å½“å‰æ—¶é—´ï¼Œæ˜¯ä¸€ä¸ªdatetime.datetimeå¯¹è±¡ datetime.datetime(2018, 7, 28, 9, 49, 22, 994058)è¿™ä¸ªå¯æ¯”timeæ¨¡å—èˆ’æœå¤šäº†â€¦ API Function ddnow.year èŽ·å–ç›¸å…³å­—æ®µä¿¡æ¯ï¼Œç±»ä¼¼çš„è¿˜æœ‰.month, .day, .hour, .minute, .second, .tzinfo, .microsecondç­‰ç­‰ ddnow.replace(...) ä¿®æ”¹ä¸Šè¿°å­—æ®µçš„å€¼ ddnow.strftime(FORMAT) æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²ï¼Œä¸Žtime.strftime()ä½œç”¨ç›¸åŒ datetime.datetime.strptime(STRING, FORMAT) ç›¸å¯¹çš„datetimeæ¨¡å—ä¹Ÿèƒ½ä»Žæ—¶é—´å­—ç¬¦ä¸²é‡æž„datetimeå¯¹è±¡ ddnow.date()ddnow.time() å’Œdatetimeæ¨¡å—å…¶ä»–ä¸¤ä¸ªç±»ï¼ˆdateï¼Œtimeï¼‰äº¤äº’ ddnow.timetuple() è¿”å›ž time.struct_time å¯¹è±¡ calendaræ¨¡å—ä¸Žæ—¥åŽ†ç›¸å…³ business_calendaræ¨¡å—å·¥ä½œæ—¥ç›¸å…³ pytzæ¨¡å—æ—¶åŒºç›¸å…³ dateutilæ¨¡å—dateutil.parser éžå¸¸å¼ºå¤§çš„æ—¶é—´å­—ç¬¦ä¸²è§£æžå‡½æ•°ï¼Œè¿”å›ždatetime.datetimeå¯¹è±¡ dateutil.rrule æ ¹æ®å®šä¹‰çš„è§„åˆ™ç”Ÿæˆdatetime.datetimeå¯¹è±¡ pandas.to_datetimeç•¥]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pythonæ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[loggingå†…å»ºæ¨¡å—ï¼ˆå…¥é—¨ï¼‰]]></title>
    <url>%2Fpython%2F20180724-1605.html</url>
    <content type="text"><![CDATA[Pythonç‰ˆæœ¬ï¼šPython 3.7 loggingåŸºç¡€æ•™ç¨‹æ—¥å¿—æŒ‡çš„æ˜¯ä¸€äº›è½¯ä»¶è¿è¡Œæ—¶æˆ‘ä»¬è®°å½•ä¸‹çš„äº‹ä»¶çš„å‘ç”Ÿè½¨è¿¹ã€‚è½¯ä»¶çš„å¼€å‘è€…åœ¨ä»–ä»¬çš„ä»£ç é‡ŒåŠ å…¥æ—¥å¿—è°ƒç”¨æ¥æŸ¥çœ‹å“ªäº›äº‹ä»¶è·Ÿéšç€è½¯ä»¶çš„è¿è¡Œå‘ç”Ÿäº†ã€‚ä¸€ä¸ªäº‹ä»¶é€šè¿‡ä¸€æ¡æè¿°æ€§çš„æ¶ˆæ¯è¿›è¡Œè®°å½•ï¼Œè¿™æ¡æ¶ˆæ¯å¯ä»¥é€‰æ‹©æ€§åœ°åŒ…æ‹¬å„ç§å„æ ·çš„æ•°æ®ï¼ˆä¾‹å¦‚è¿™äº›æ•°æ®å¯èƒ½æè¿°äº†æŸä¸ªäº‹ä»¶åœ¨ä¸åŒæ—¶åˆ»çš„å·®å¼‚ç­‰ï¼‰ã€‚äº‹ä»¶ä¹Ÿæ˜¯å¼€å‘è€…å½’å’Žé”™è¯¯ç­‰çº§çš„é‡è¦æ‰‹æ®µï¼Œè¿™ä¹Ÿå«åšä¸¥é‡ç­‰çº§ï¼ˆæ—¥å¿—ç­‰çº§ï¼‰ã€‚ ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ—¥å¿—ï¼Ÿæ—¥å¿—æ¨¡å—æä¾›äº†ä¸€äº›ç®€å•ä¾¿åˆ©çš„å‡½æ•°ä»¥å®žçŽ°ç®€å•çš„æ—¥å¿—åŠŸèƒ½ï¼Œä»–ä»¬æ˜¯debug(), info(), warning(), error(),å’Œcritical()ã€‚ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ä»€ä¹ˆç­‰çº§çš„æ—¥å¿—å‡½æ•°è§ä¸‹è¡¨ï¼š ä½ æƒ³è¦æ‰§è¡Œçš„ä»»åŠ¡ è¯¥ä»»åŠ¡æœ€é€‚åˆçš„å·¥å…· å‘½ä»¤è¡Œè„šæœ¬æˆ–ç¨‹åºç®€å•åœ°å°†è¾“å‡ºæ˜¾ç¤ºåˆ°æŽ§åˆ¶å° æŠ¥å‘Šåœ¨ç¨‹åºæ­£å¸¸è¿è¡ŒæœŸé—´å‘ç”Ÿçš„äº‹ä»¶ï¼Œä¾‹å¦‚çŠ¶æ€ç›‘æŽ§ã€æ–­å±‚è°ƒæŸ¥ æŠ¥å‘Šåœ¨ç¨‹åºæ­£å¸¸è¿è¡ŒæœŸé—´å‘ç”Ÿçš„äº‹ä»¶ï¼Œä¾‹å¦‚çŠ¶æ€ç›‘æŽ§ã€æ–­å±‚è°ƒæŸ¥ logging.info()ï¼ˆæˆ–è€…ä»¥è¯Šæ–­ä¸ºç›®çš„èŽ·å–æ›´åŠ è¯¦ç»†çš„è¾“å…¥çš„logging.debug() å¯¹ä¸€ä¸ªç‰¹å®šçš„ç¨‹åºè¿è¡Œæ—¶äº§ç”Ÿçš„äº‹ä»¶å‘å‡ºè­¦å‘Š ä½¿ç”¨åº“å‡½æ•°warnings.warn()ï¼Œè­¦å‘Šæ˜¯å¯ä»¥é¿å…çš„ï¼Œåº”è¯¥ä¿®æ”¹ç¨‹åºä»£ç ä»¥æ¶ˆé™¤è¿™æ ·çš„è­¦å‘Šlogging.warning()ï¼Œå½“æˆ‘ä»¬å¯¹è¿™æ ·çš„æƒ…å†µä¸èƒ½ä½œå‡ºä»»ä½•ä¿®æ”¹è€Œä¸”è­¦å‘Šå¿…é¡»è¢«ä¿å­˜ä¸‹æ¥æ—¶å°±éœ€è¦ä½¿ç”¨è¿™ä¸ªå‡½æ•° å°†ç‰¹å®šç¨‹åºè¿è¡Œæ—¶äº§ç”Ÿçš„äº‹ä»¶æŠ¥å‘Šä¸ºé”™è¯¯ æŠ›å‡ºå¼‚å¸¸å³å¯ ä¸æŠ›å‡ºå¼‚å¸¸è€ŒæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ï¼ˆä¾‹å¦‚é•¿æœŸè¿è¡Œçš„æœåŠ¡å™¨éœ€è¦é”™è¯¯å¤„ç†å™¨ï¼‰ logging.error() logging.exception()logging.critical() é»˜è®¤çš„ç­‰çº§æ˜¯logging.WARNINGï¼Œè¿™æ„å‘³ç€åªæœ‰å½“å‰ç­‰çº§ä»¥åŠå¤§äºŽå½“å‰ç­‰çº§çš„äº‹ä»¶æ‰ä¼šè¢«è·Ÿè¸ªï¼Œé™¤éžé¢å¤–é…ç½®æ—¥å¿—å¤„ç†å™¨çš„è¡Œä¸ºã€‚ è¢«è·Ÿè¸ªçš„äº‹ä»¶å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œå¤„ç†è·Ÿè¸ªäº‹ä»¶æœ€ç®€å•çš„æ–¹å¼æ˜¯æŠŠå®ƒä»¬æ‰“å°åœ¨æŽ§åˆ¶å°ä¸Šã€‚è€Œå¦å¤–ä¸€ç§å¸¸è§çš„æ–¹å¼æ˜¯æŠŠå®ƒä»¬å†™å…¥ç£ç›˜æ–‡ä»¶ã€‚ ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸€ä¸ªéžå¸¸ç®€å•åœ°ä¾‹å­å¦‚ä¸‹ï¼š 123import logginglogging.warning('Watch out!') # å°†ä¼šæ‰“å°ä¿¡æ¯åˆ°æŽ§åˆ¶å°logging.info('I told you so') # å°†ä¸ä¼šæ‰“å°ä»»ä½•ä¸œè¥¿ å¦‚æžœä½ å°†è¿™äº›è¯­å¥å†™å…¥è„šæœ¬å¹¶ä¸”è¿è¡Œå®ƒï¼Œä½ å°†çœ‹åˆ°ï¼š WARNING:root:Watch out! å½“æ‰“å°åˆ°æŽ§åˆ¶å°æ—¶ï¼Œ`INFO`ä¿¡æ¯å¹¶æ²¡æœ‰å‡ºçŽ°ï¼ŒåŽŸå› æ˜¯é»˜è®¤çš„ä¸¥é‡ç­‰çº§æ˜¯`WARNING`ã€‚æˆ‘ä»¬çœ‹åˆ°çš„æ‰“å°æ¶ˆæ¯å®žé™…ä¸ŠåŒ…å«äº†ä¸¥é‡ç­‰çº§ä»¥åŠè°ƒç”¨æ—¥å¿—å‡½æ•°æ—¶æä¾›çš„æè¿°ä¿¡æ¯ï¼Œæ¯”å¦‚"Watch out!"ã€‚åˆ«æ‹…å¿ƒæ‰“å°æ¶ˆæ¯ä¸­çš„'root'éƒ¨åˆ†ï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥å°†ä¼šå¯¹å…¶è¿›è¡Œè§£é‡Šã€‚å®žé™…çš„è¾“å‡ºç»“æžœå¯ä»¥çµæ´»åœ°å®šåˆ¶æ ¼å¼ä»¥æ»¡è¶³å„è‡ªçš„éœ€è¦ï¼›æ ¼å¼çš„å®šåˆ¶ä¹Ÿå°†åœ¨åŽé¢éƒ¨åˆ†è¿›è¡Œä»‹ç»ã€‚ ## å°†æ—¥å¿—å†™å…¥åˆ°æ–‡ä»¶ ä¸€ç§éžå¸¸å…¸åž‹çš„æƒ…æ™¯å°±æ˜¯åœ¨æ–‡ä»¶ä¸­è®°å½•æ—¥å¿—äº‹ä»¶ï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥è¯¦ç»†è¯´è¯´è¿™ç§æƒ…å†µã€‚ç¡®ä¿æŽ¥ä¸‹æ¥çš„è¯­å¥åœ¨ä¸€ä¸ªæ–°æ‰“å¼€çš„Pythonè§£é‡Šå™¨ä¸­è¿è¡Œï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨ä¸Šä¸€éƒ¨åˆ†çš„çŽ¯å¢ƒï¼Œå¦åˆ™ä½ å¯èƒ½å¾—åˆ°ä¸Žæˆ‘ä»¬ä¸ä¸€æ ·çš„ç»“æžœï¼š 12345import logginglogging.basicConfig(filename='example.log', level=logging.DEBUG)logging.debug('This message should go to the log file')logging.info('So should this')logging.warning('And this, too') çŽ°åœ¨å¦‚æžœæˆ‘ä»¬æ‰“å¼€æ–‡ä»¶çœ‹çœ‹é‡Œé¢æœ‰ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¼šå‘çŽ°ä»¥ä¸‹æ—¥å¿—ä¿¡æ¯ï¼š DEBUG:root:This message should go to the log file INFO:root:So should this WARNING:root:And this, too è¿™ä¸ªä¾‹å­ä¹Ÿå±•ç¤ºäº†ä½ åº”è¯¥å¦‚ä½•è®¾ç½®æ—¥å¿—çš„ç­‰çº§ï¼Œè¿™ä¸ªç­‰çº§å°†ä½œä¸ºæ˜¯å¦è·Ÿè¸ªäº‹ä»¶çš„é˜€é—¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­å› ä¸ºæˆ‘ä»¬å°†é˜€é—¨è®¾ç½®ä¸ºäº†DEBUGï¼Œæ‰€æœ‰çš„ä¿¡æ¯éƒ½å°†è¢«æ‰“å°å‡ºæ¥ã€‚ å¦‚æžœä½ æƒ³åœ¨å‘½ä»¤è¡Œé€‰é¡¹å‚æ•°é‡Œè®¾ç½®æ—¥å¿—ç­‰çº§ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹æ ¼å¼ï¼š --log=INFO ä½ ä¹Ÿå¯ä»¥é€šè¿‡å˜é‡ *loglevel* èŽ·å–`--log`å‚æ•°ä¼ é€’çš„å€¼ï¼š 1getattr(logging, loglevel.upper()) èŽ·å–ä½ æƒ³è¦ä¼ é€’ç»™`basicConfig()`çš„ *level* å‚æ•°çš„å€¼ï¼Œæ£€æŸ¥ä»¥ä¸‹ç”¨æˆ·ä»Žå‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°æ˜¯å¦åˆæ³•ï¼š 123456# å‡è®¾loglevelä¸€å®šæ˜¯ä»Žå‘½ä»¤è¡Œå‚æ•°èŽ·å–çš„å­—ç¬¦ä¸²ï¼ŒåŽå°è‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºå¤§å†™çš„å½¢å¼ï¼Œ# è¿™æ ·ç”¨æˆ·å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®š --log=DEBUG æˆ–è€… --log=debugnumeric_level = getattr(logging, loglevel.upper(), None)if not isinstance(numeric_level, int): raise ValueError('Invalid log level: %s' % loglevel)logging.basicConfig(level=numeric_level, ...) è°ƒç”¨`basicConfig()`åº”è¯¥åœ¨è°ƒç”¨`debug()`, `info()`ç­‰æ–¹æ³•ä¹‹å‰ã€‚è¿™ç§æ–¹å¼è¢«æœ‰æ„è®¾è®¡æˆä¸€æ¬¡æ€§çš„é…ç½®ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡é…ç½®å‘æŒ¥ä½œç”¨ï¼ŒæŽ¥ä¸‹æ¥å†è¿›è¡Œå­å‚æ•°çš„é…ç½®å°†èµ·ä¸åˆ°ä»»ä½•ä½œç”¨ã€‚ å¦‚æžœä½ å¤šæ¬¡è¿è¡Œä¸Šé¢çš„è„šæœ¬ï¼Œæ¥è‡ªè¿žç»­è¿è¡Œè„šæœ¬çš„æ—¥å¿—ä¿¡æ¯éƒ½å°†è¢«æ·»åŠ åˆ°æ–‡ä»¶ *example.log* ä¸­ã€‚å¦‚æžœä½ æƒ³è¦æ¯ä¸ªç¨‹åºè¿è¡Œæ—¶éƒ½ä½¿ç”¨å…¨æ–°çš„æ—¥å¿—æ–‡ä»¶è€Œä¸æ˜¯è®°ä½ä¹‹å‰çš„æ—¥å¿—ä¿¡æ¯ï¼Œä½ å¯ä»¥æŒ‡å®š *fielmode* å‚æ•°ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸Šé¢å¯¹`basicConfig()`çš„è°ƒç”¨ï¼š 12345logging.basicConfig( filename='example.log', filename='w', level=logging.DEBUG) è¾“å‡ºå°†å’Œä»¥å‰ä¸€æ ·ï¼Œä½†æ˜¯æ—¥å¿—æ–‡ä»¶å°†ä¸å†æ˜¯**æœ«å°¾æ·»åŠ **æ¨¡å¼ï¼Œå…ˆå‰è¿è¡Œçš„æ—¥å¿—ä¿¡æ¯å·²ç»ä¸¢å¤±ã€‚ ## å¤šä¸ªæ¨¡å—çš„æ—¥å¿—ä¿¡æ¯ å¦‚æžœä½ çš„ç¨‹åºæ˜¯ç”±å¤šä¸ªæ¨¡å—ç»„æˆçš„ï¼Œè¿™é‡Œæœ‰ä¸ªä¾‹å­å±•ç¤ºä½ è¯¥å¦‚ä½•åœ¨å¤šä¸ªæ¨¡å—ä¸­ç»„ç»‡çš„ä½ çš„æ—¥å¿—è®°å½•ï¼š 123456789101112# myapp.pyimport loggingimport mylibdef main(): logging.basicConfig(filename='myapp.log', level=logging.INFO) logging.info('Started') mylib.do_something() logging.info('Finished') if __name__ == '__main__': main() 1234# mylib.pydef do_something(): logging.info('Doing something') å¦‚æžœä½ è¿è¡Œ *myapp.py*ï¼Œä½ å°†åœ¨ *myapp.log* ä¸­çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š INFO:root:Started INFO:root:Doing something INFO:root:Finished è§å¿ƒä¹‹æ‰€æƒ³å®žåœ¨æ˜¯ä¸€ä»¶é¼“èˆžäººå¿ƒçš„äº‹æƒ…ã€‚ä½ å¯ä»¥ä½¿ç”¨myapp.pyä¸­çš„æ–¹æ³•å°†è¿™ç§æ¨¡å¼æŽ¨å¹¿åˆ°æ›´å¤æ‚çš„å¤šæ¨¡å—ç¨‹åºä¸­åŽ»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»…ä»…é€šè¿‡è¿™ç§ç®€å•çš„æ–¹å¼ä½ å¹¶ä¸èƒ½æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹æ¥åˆ¤æ–­æ—¥å¿—ä¿¡æ¯æ¥è‡ªå“ªä¸€ä¸ªæ¨¡å—ï¼Œé™¤éžå€ŸåŠ©äºŽæ¶ˆæ¯æè¿°æœ¬èº«ã€‚å¦‚æžœä½ æƒ³è¦è·Ÿè¸ªä½ çš„æ—¥å¿—æ¶ˆæ¯çš„æºä½ç½®ï¼Œä½ éœ€è¦æ”¾ä¸‹è¿™ä¸ªåŸºç¡€æ•™ç¨‹åŽ»çœ‹çœ‹é«˜çº§æ—¥å¿—æ•™ç¨‹ è®°å½•å˜åŒ–çš„æ•°æ®ä¸ºäº‹ä»¶çš„æè¿°ä¿¡æ¯ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²å¹¶å°†å˜é‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ—¥å¿—å‡½æ•°ï¼š 12import logginglogging.warning('%s before you %s', 'look', 'leap!') å°†ä¼šæ˜¾ç¤ºï¼š WARNING:root:Look before you leap! æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå°†å˜é‡ä¸­çš„ä¿¡æ¯åˆå¹¶åˆ°æ—¥å¿—æè¿°ä¿¡æ¯ä¸­å¯ä»¥ä½¿ç”¨è€å¼çš„%é£Žæ ¼çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚äº‹å®žä¸Šï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸²æ˜¯å‘åŽå…¼å®¹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨`str.format()`æˆ–è€…`string,Template`ã€‚è¿™äº›æ–°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¹Ÿè¢«æ”¯æŒï¼Œè¿™é‡Œä¸åšè¯¦ç»†æŽ¢è®¨ã€‚ ## æ”¹å˜æ¶ˆæ¯æ˜¾ç¤ºçš„æ ¼å¼ ä¸ºäº†æ”¹å˜ç”¨äºŽæ˜¾ç¤ºçš„æ¶ˆæ¯çš„æ ¼å¼ï¼Œä½ éœ€è¦æŒ‡å®šä½ æƒ³ç”¨çš„æ ¼å¼ï¼š 12345678import logginglogging.basicConfig( format='%(levelname)s:%(message)s', level=logging.DEBUG)logging.debug('This message should appear on the console')logging.info('So should this')logging.warning('And this, too') å°†æ‰“å°ï¼š DEBUG:This message should appear on the console INFO:So should this WARNING:And this, too æ³¨æ„åœ¨å‰é¢å‡ºçŽ°çš„â€™rootâ€™åœ¨è¿™é‡Œåˆå‡ºçŽ°äº†ã€‚å¯¹äºŽæŽ§åˆ¶æ ¼å¼çš„å­—ç¬¦ä¸²çš„è®¾ç½®å¯ä»¥å‚è§æ–‡æ¡£ã€‚å¦‚æžœåªæ˜¯ç®€å•çš„ä½¿ç”¨æ—¥å¿—ï¼Œä½ åªéœ€è¦æŒ‡å®š levelnameï¼ˆæ—¥å¿—ç­‰çº§ï¼‰ï¼Œmessageï¼ˆäº‹ä»¶æè¿°ï¼Œå¯ä»¥åŒ…å«å˜é‡ï¼‰ä»¥åŠå½“äº‹ä»¶å‘ç”Ÿæ—¶éœ€è¦åœ¨å“ªé‡Œæ˜¾ç¤ºæ¶ˆæ¯ï¼Œè¿™éƒ¨åˆ†å°†åœ¨æŽ¥ä¸‹æ¥è¯¦ç»†ä»‹ç»ã€‚ åœ¨æ¶ˆæ¯ä¸­æ˜¾ç¤ºæ—¶é—´å¦‚æžœéœ€è¦åœ¨æ—¥å¿—æ¶ˆæ¯ä¸­æ˜¾ç¤ºæ—¶é—´ï¼Œä½ éœ€è¦åœ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸­æ”¾ç½® â€˜%(asctime)sâ€™ï¼š 123import logginglogging.basicConfig(format='%(asctime)s %(message)s')logging.warning('is when this event was logged.') å°†æ‰“å°å¦‚ä¸‹æ¶ˆæ¯ï¼š 2010-12-12 11:41:42,612 is when this event was logged.ä¸Šé¢è¿™ç§é»˜è®¤æ—¶é—´æ˜¾ç¤ºæ ¼å¼è¢«ç§°ä¹‹ä¸º ISO8601ã€‚å¦‚æžœä½ æƒ³è¦æ›´åŠ è‡ªç”±çš„æŽ§åˆ¶æ—¶é—´æ ¼å¼ï¼Œè¯·æä¾›ä¸€ä¸ª datefmt å‚æ•°ç»™ basicConfig ï¼š 123456import logginglogging.basicConfig( format='%(asctime)s %(message)s', datefmt='%m/%d/%Y %I:%M:%S %p')logging.warning('is when this event was logged.') å°†æ‰“å°å¦‚ä¸‹æ¶ˆæ¯ï¼š 12/12/2010 11:46:36 AM is when this event was logged.datefmt çš„æ ¼å¼æŽ§åˆ¶åŽŸç†ä¸Ž time.strftime() ç›¸åŒã€‚ å°ç»“ä¸Šé¢çš„ä½œä¸ºåŸºç¡€æ•™ç¨‹ï¼Œåº”è¯¥èƒ½å¤Ÿä½¿ä½ å¼€å§‹å°†æ—¥å¿—åŠŸèƒ½æ·»åŠ åˆ°è‡ªå·±çš„ä»£ç ä¸­ã€‚äº‹å®žä¸Šï¼ŒloggingåŒ…è¿˜æä¾›äº†è®¸å¤šæ›´ä¸ºä¸°å¯Œçš„å†…å®¹ï¼Œå¦‚æžœä½ æƒ³æ›´åŠ ç†Ÿç»ƒçš„åº”ç”¨æ—¥å¿—åŠŸèƒ½ï¼Œä½ éœ€è¦èŠ±ä¸€ç‚¹æ—¶é—´é˜…è¯»é«˜çº§æ•™ç¨‹(è‹±)ã€‚ å¦‚æžœä½ å¯¹æ—¥å¿—åŠŸèƒ½çš„éœ€æ±‚ååˆ†ç®€å•ï¼Œä½ å¯ä»¥é˜…è¯»ä¸Šé¢çš„ä¾‹å­ï¼Œå°†ç®€å•çš„æ—¥å¿—è®°å½•èžå…¥åˆ°è‡ªå·±çš„ä»£ç ä¸­åŽ»ã€‚å¦‚æžœé‡åˆ°ä»»ä½•é—®é¢˜æˆ–è€…å¯¹æŸäº›ä¸œè¥¿ä¸å¤ªç†è§£æ¬¢è¿Žå…‰ä¸´è®ºå›ã€‚ å¦‚æžœä½ çœ‹è¿‡äº†é«˜çº§æ•™ç¨‹ï¼Œä¹Ÿå¯ä»¥è¯»è¯» Logging Cookbookã€‚ æ³¨æ³¨æ³¨ï¼šæœ¬æ–‡æ‰‹æ’¸è‡ªå®˜æ–¹æ–‡æ¡£ Author: Barwe(YinChen)Email: chenyinbarwe@qq.com]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pythonæ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[getpasså†…å»ºæ¨¡å—]]></title>
    <url>%2Fpython%2F20180723-77b1.html</url>
    <content type="text"><![CDATA[getpassæ¨¡å—ç”¨äºŽå‘½ä»¤è¡Œç¨‹åºèŽ·å–å¯†ç ï¼Œè¾“å…¥å¯†ç æ—¶ä¸ä¼šå›žæ˜¾åœ¨å±å¹•ä¸Š è¯¥æ¨¡å—ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªå¯ç”¨çš„å‡½æ•°ï¼š getpass.getpass() getpass.getuser() getpass.getpass(æç¤ºå­—ç¬¦ä¸²)getpass.getuser()è¯¥å‡½æ•°å®žé™…ä¸Šä¼šé¦–å…ˆæ£€ç´¢çŽ¯å¢ƒå˜é‡LOGNAMEï¼ˆLinuxç³»ç»Ÿå¯é€šè¿‡echo $LOGNAMEæŸ¥çœ‹è¯¥å€¼ï¼‰åŠå…¶ä»–çŽ¯å¢ƒå˜é‡çš„å€¼]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pythonæ¨¡å—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®åº“-mysql-åˆ é™¤(DROP+TRUNCATE+DELETE)]]></title>
    <url>%2Fit%2F20180718-3284.html</url>
    <content type="text"><![CDATA[è¿™é‡Œçš„åˆ é™¤åˆ†ä¸ºï¼š åˆ é™¤è¡¨ä¸­çš„éƒ¨åˆ†æ•°æ® åˆ é™¤è¡¨çš„æ‰€æœ‰æ•°æ®ï¼šä¸‹æ¬¡æ·»åŠ æ•°æ®å‰ä¸éœ€è¦æ–°å»ºè¡¨ åŒæ—¶åˆ é™¤è¡¨çš„æ•°æ®å’Œè¡¨çš„å®šä¹‰ï¼šä¸‹æ¬¡æ·»åŠ æ•°æ®ä¹‹å‰å¿…é¡»æ–°å»ºè¡¨ ä¸»è¦å…³é”®è¯æœ‰ï¼šTRUNCATE DROP DELETE ä¸‹é¢æŒ‰åˆ é™¤ç±»åž‹ä»‹ç»æ“ä½œè¯­å¥ï¼š åˆ é™¤ä¸€è¡Œæˆ–éƒ¨åˆ†è¡Œ1.DELETE FROM è¡¨ WHERE å­—æ®µ = å€¼ï¼šé€‰æ‹©æ€§åœ°åˆ é™¤ä¸€è¡Œ æœ‰è¶£çš„æ˜¯ï¼ŒMySQLå¯¹DELETEè¯­å¥æ·»åŠ äº†æ ‡å‡†SQLè¯­å¥æ²¡æœ‰çš„ä¸€äº›åŠŸèƒ½ï¼š 2.DELETE FROM è¡¨ WHERE å­—æ®µ = å€¼ LIMIT æ•°é‡ï¼šå½“WHEREè¿‡æ»¤ç»“æžœæœ‰å¤šä¸ªæ—¶åˆ é™¤å‰é¢çš„å‡ ä¸ªï¼Œå³åˆ é™¤è¿‡æ»¤ç»“æžœä¸­çš„éƒ¨åˆ†æ•°æ® å¦‚æžœä¸Šè¿°è¯­å¥2å¯¹åˆ é™¤éƒ¨åˆ†ç»“æžœçš„æŽ’åºæ ‡å‡†ä¸æ˜Žç¡®å¯ä»¥ä½¿ç”¨ORDER BYæŒ‡å®šæŽ’åºå­—æ®µï¼Œå†ä½¿ç”¨LIMITé™åˆ¶åˆ é™¤éƒ¨åˆ†æ•°æ®ï¼š 3.DELETE FROM è¡¨ WHERE å­—æ®µ = å€¼ ORDER BY æŽ’åºå­—æ®µ LIMIT æ•°é‡ï¼šç”±å°åˆ°å¤§ 4.DELETE FROM è¡¨ WHERE å­—æ®µ = å€¼ ORDER BY æŽ’åºå­—æ®µ DESC LIMIT æ•°é‡ï¼šç”±å¤§åˆ°å° åˆ é™¤ä¸€åˆ—UPDATE åˆ é™¤æ‰€æœ‰è¡Œä½†ä¿ç•™è¡¨çš„å®šä¹‰1.DELETE FROM è¡¨ï¼šè¿”å›žè¢«åˆ é™¤çš„è®°å½•æ•°ï¼Œè‡ªå¢žå­—æ®µèµ·å§‹å€¼æ¢å¤ä¸º1 2.TRUNCATE TABLE è¡¨ï¼šä¸è¿”å›žè¢«åˆ é™¤çš„è®°å½•æ•°ï¼Œè‡ªå¢žå­—æ®µèµ·å§‹å€¼æ¢å¤ä¸º1 3.DELETE FROM è¡¨ WHERE trueï¼šè¿”å›žè¢«åˆ é™¤çš„è®°å½•æ•°ï¼Œè‡ªå¢žå­—æ®µèµ·å§‹å€¼ä¸å˜ æ³¨æ„ï¼š è¯­å¥3ç”±äºŽåŠ äº†WHEREå°†è¿›è¡Œé€è¡Œæ‰«æï¼ˆå°½ç®¡ä¸è¿›è¡ŒWHEREåˆ¤æ–­ï¼‰ï¼Œè€Œè¯­å¥1ç›´æŽ¥åˆ é™¤æ‰€æœ‰æ•°æ®å°±å¥½äº†ï¼Œæ‰€ä»¥è¯­å¥3çš„æ‰§è¡Œæˆæœ¬é«˜äºŽè¯­å¥1 è¯­å¥2ç›¸å¯¹äºŽè¯­å¥1è™½ç„¶ä¸èƒ½è¿”å›žè¢«åˆ é™¤çš„è®°å½•æ•°ï¼Œä½†æ˜¯éžå¸¸å¿« åˆ é™¤æŒ‡å®šè¡¨ï¼ˆåŒ…æ‹¬å†…å®¹å’Œå®šä¹‰ï¼‰DROP TABLE è¡¨ åˆ é™¤æŒ‡å®šæ•°æ®åº“çš„æ‰€æœ‰è¡¨æ•°æ®ï¼ˆä¿ç•™ç»“æž„ï¼‰é¦–å…ˆè¦èƒ½éåŽ†åˆ°æ‰€æœ‰è¡¨ï¼šSELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA=â€™æ•°æ®åº“åâ€™ ç„¶åŽæˆ‘ä»¬ä½¿ç”¨å†…ç½®è¿žæŽ¥è¯­å¥CONCATç”Ÿæˆå¤šä¸ªå‘½ä»¤ï¼š SELECT CONCAT(â€˜TRUNCATE TABLE â€˜, TABLE_NAME, â€˜;â€™) FROM information_schema.TABLES WHERE TABLE_SCHEMA=â€™æ•°æ®åº“åâ€™ï¼šæ³¨æ„TRUNCATE TABLEåŽé¢ç•™ä¸€ä¸ªç©ºæ ¼ å…¶ä»–DROPã€DELETEã€TRUNCATEçš„é€‚ç”¨æƒ…å†µ]]></content>
      <categories>
        <category>it</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[çŽ»å°”å…¹æ›¼æœºå’Œå—é™çŽ»å°”å…¹æ›¼æœº]]></title>
    <url>%2Fdl%2F20180717-601f.html</url>
    <content type="text"><![CDATA[åŽŸæ–‡ï¼šA Tutorial on Energy-Based Learning åŸºäºŽèƒ½é‡çš„æ¨¡åž‹(EBM, Energy Based Model)ï¼šåœ¨ä»¥è®¡ç®—æ¦‚çŽ‡ä¸ºç›®æ ‡æ—¶æˆ‘ä»¬éœ€è¦å°†ç›´æŽ¥è®¡ç®—ç»“æžœè¿›è¡Œå½’ä¸€åŒ–å’Œéžè´Ÿå¤„ç†ï¼Œå®Œæˆè¿™ä¸¤ä¸ªç›®æ ‡çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©è®¡ç®—è¾ƒä¸ºç®€å•çš„ï¼Œæ¯”å¦‚è‡ªç„¶æŒ‡æ•°eã€‚ä¾‹å¦‚ï¼Œå¯¹äºŽç¦»æ•£åž‹éšæœºå˜é‡ï¼Œxç»è¿‡få˜æ¢åŽå†ç»è¿‡è‡ªç„¶æŒ‡æ•°çš„å˜æ¢ï¼Œæœ€åŽå½’ä¸€åŒ–ï¼Œç»“æžœå¯ä»¥è¢«è§†ä¸ºä¸€ç»„æ¦‚çŽ‡å€¼ï¼š å…¶ä¸­ å€Ÿç”¨åŽŸåšä¸»çš„ä¸€å¥è¯ï¼Œâ€œå“‡ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒsoftmaxâ€ çŸ¥ä¹Žå›žç­” ä¸ºä»€ä¹ˆç§°ä¹‹ä¸ºèƒ½é‡ï¼ŸæŒ‰ç…§åŽŸåšä¸»çš„ä»‹ç»ï¼Œâ€œèƒ½é‡â€çš„æ¦‚å¿µåº”è¯¥æ¥è‡ªäºŽç»Ÿè®¡ç‰©ç†å­¦ä¸­ç›¸ä¼¼çš„åˆ†å¸ƒå½¢å¼ï¼š çŽ»å°”å…¹æ›¼æœº(Boltzmann Machine)ï¼šç”±è§‚å¯ŸèŠ‚ç‚¹å’Œéšè—èŠ‚ç‚¹ç»„æˆï¼Œä½†æ˜¯ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹é—´éƒ½æœ‰æ— å‘è¾¹è¿žæŽ¥ï¼Œè¿™æ ·çš„ç»“æž„åœ¨åº”ç”¨ä¸­æ²¡æœ‰å®žé™…æ•ˆæžœã€‚ å—é™çŽ»å°”å…¹æ›¼æœº(RBM, Restricted Boltzmann Machine)ï¼šé¡¾åæ€ä¹‰ï¼Œåœ¨çŽ»å°”å…¹æ›¼æœºçš„åŸºç¡€ä¸ŠåŽ»æŽ‰è§‚å¯ŸèŠ‚ç‚¹é—´å’Œéšè—èŠ‚ç‚¹é—´çš„æ— å‘è¾¹ï¼Œè§‚å¯Ÿå±‚å’Œéšè—å±‚ç”±æ— å‘è¾¹è¿›è¡Œè¿žæŽ¥ã€‚RBMå®šä¹‰äº†ç¥žç»ç½‘ç»œè¿žç»­ä¸¤å±‚çš„å½¢å¼ï¼Œå¯ä»¥è¯´æ˜¯ç¥žç»ç½‘ç»œä¹‹ç –ç“¦äº†ã€‚ å—é™çŽ»å°”å…¹æ›¼æœºå®žé™…ä¸Šæ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ï¼š]]></content>
      <categories>
        <category>dl</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç»Ÿè®¡æ¨¡åž‹ä¼°è®¡-å™ªéŸ³å¯¹æ¯”ä¼°è®¡NCE]]></title>
    <url>%2Fstat%2F20180716-beb2.html</url>
    <content type="text"><![CDATA[å™ªå£°å¯¹æ¯”ä¼°è®¡(NCE, Noise-Contrastive Estimation) æŒ‡æ•°æœ‰ç€ååˆ†å¥½çš„æ€§è´¨ï¼Œéžè´Ÿã€æ±‚å¯¼å¿«â€¦ä½†åŒæ—¶ï¼ŒæŒ‡æ•°æ¦‚çŽ‡åˆ†å¸ƒçš„ é…åˆ†å‡½æ•° æœ‰æ—¶ä¼šå¾ˆéš¾è®¡ç®—ã€‚ $$p(x) = \frac {e^{G(x)}} Z \tag{1}$$ é…åˆ†å‡½æ•°$$Z = \sum_x{ e^{ G(x) } }$$é…åˆ†å‡½æ•°éš¾ä»¥è®¡ç®—ä¸»è¦åŽŸå› æœ‰ä¸¤ä¸ªï¼š ç”±äºŽZéœ€è¦å¯¹æ‰€æœ‰æ ·æœ¬æ±‚åŠ å’Œï¼Œå½“æ ·æœ¬æ•°åºžå¤§æ—¶è®¡ç®—é‡å°†è¶…è¿‡é¢„æœŸ å¯¹äºŽæŸäº› $G(x)$ï¼Œ$Zâ€‹$ å®žé™…ä¸Šæ˜¯ä¸å¯è®¡ç®—çš„ å¦‚æžœæˆ‘ä»¬è¦æ±‚ $p(x)$ å°±å¿…é¡»è®¡ç®—é…åˆ†å‡½æ•°ï¼Œä½†æ˜¯å½“é…åˆ†å‡½æ•°å®žé™…ä¸å¯è®¡ç®—æ—¶ $p(x)$ ä¹Ÿå°±ä¸å¯æ±‚äº†ã€‚æ­¤æ—¶æˆ‘ä»¬å¿…é¡»æ›²çº¿æ•‘å›½ï¼Œç„¶åŽä¸­é—´æ˜¯çœ‹ä¸å¤ªæ‡‚çš„å·´æ‹‰å·´æ‹‰â€¦ã€‚æ€»ä¹‹ï¼ŒNCEçš„æ€æƒ³å°±æ˜¯å°†æ¦‚çŽ‡ç”Ÿæˆé—®é¢˜è½¬åŒ–ä¸ºäºŒåˆ†ç±»é—®é¢˜ï¼šçœŸå®žæ ·æœ¬å’Œä»Žç®€å•åˆ†å¸ƒéšæœºé‡‡æ ·çš„é”™è¯¯æ ·æœ¬è¿›è¡Œå¯¹æ¯”ï¼Œè¯•å›¾æ‰¾åˆ°çœŸå®žæ ·æœ¬ä¸Žé”™è¯¯æ ·æœ¬çš„å·®å¼‚ã€‚$$p(1|x) = \sigma( G(x;\theta)-\gamma ) = \frac1 { 1+e^{ -G(x;\theta)+\gamma } } \tag{4}$$åŽŸæ–‡è¯æ˜Žäº†ä¸ºä»€ä¹ˆ $\gamma$ èƒ½å¤Ÿæ›¿æ¢é…åˆ†å‡½æ•° å½“è´Ÿæ ·æœ¬æ¯”æ­£æ ·æœ¬å¤šçš„å¤šæ—¶å¯ä»¥è€ƒè™‘NCE]]></content>
      <categories>
        <category>stat</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonä»Žrequirements.txtå®‰è£…åŒ…]]></title>
    <url>%2Fpython%2F20180423-48b5.html</url>
    <content type="text"><![CDATA[requirements.txtè®°å½•çš„æ˜¯å½“å‰ç¨‹åºçš„ä¾èµ–åŒ…å’Œç‰ˆæœ¬å·ç”¨æ¥åœ¨å¦ä¸€å°ç”µè„‘ä¸Šé‡æž„è¿è¡ŒçŽ¯å¢ƒã€‚ ç”Ÿæˆrequirements.txtæ–‡ä»¶æŸ¥çœ‹åŒ…åˆ—è¡¨ï¼š pip freeze ä¿å­˜åªéœ€è¦å€ŸåŠ©å®šå‘ç¬¦å³å¯ï¼š pip freeze &gt; requirements.txt ä»Žrequirements.txtæ–‡ä»¶è¿›è¡Œå®‰è£…pip install -r requirements.txt pip freezeä¿å­˜çš„æ˜¯å½“å‰çŽ¯å¢ƒä¸‹æ‰€æœ‰çš„åŒ…å®žé™…ä¸Šæˆ‘ä»¬å¯èƒ½åªéœ€è¦ä¸Žé¡¹ç›®æœ‰å…³çš„åŒ…è¿™é‡Œå»ºè®®ä½¿ç”¨å¦ä¸€ä¸ªå·¥å…·ï¼š pipreqså®‰è£…å®ƒï¼š pip install pipreqs ä½¿ç”¨å®ƒï¼š pipreqs é¡¹ç›®è·¯å¾„ [é€‰é¡¹] é»˜è®¤ä¿å­˜ä¸ºé¡¹ç›®æ ¹è·¯å¾„ä¸‹çš„requirements.txt]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>é’é“œæ´¾æ£®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[win10ä¸‹åœ¨å³é”®èœå•ä¸­æ·»åŠ èŽ·å–ç®¡ç†å‘˜æƒé™å…¥å£]]></title>
    <url>%2Fos%2F20180420-f8ae.html</url>
    <content type="text"><![CDATA[å³é”®èœå•æ”¹é€ ã€‚ æ·»åŠ â€œç®¡ç†å‘˜æƒé™â€æ•ˆæžœå¦‚ä¸‹ï¼š æ–°å»ºREGæ–‡ä»¶ï¼Œå³é”®ç¼–è¾‘å†…å®¹ Windows Registry Editor Version 5.00 ;å–å¾—æ–‡ä»¶ä¿®æ”¹æƒé™ [HKEY_CLASSES_ROOT\*\shell\runas] @=&quot;ç®¡ç†å‘˜æƒé™&quot; &quot;Icon&quot;=&quot;C:\\Windows\\System32\\imageres.dll,102&quot; &quot;NoWorkingDirectory&quot;=&quot;&quot; [HKEY_CLASSES_ROOT\*\shell\runas\command] @=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /grant administrators:F&quot; &quot;IsolatedCommand&quot;=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /grant administrators:F&quot; [HKEY_CLASSES_ROOT\exefile\shell\runas2] @=&quot;ç®¡ç†å‘˜æƒé™&quot; &quot;Icon&quot;=&quot;C:\\Windows\\System32\\imageres.dll,102&quot; &quot;NoWorkingDirectory&quot;=&quot;&quot; [HKEY_CLASSES_ROOT\exefile\shell\runas2\command] @=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /grant administrators:F&quot; &quot;IsolatedCommand&quot;=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /grant administrators:F&quot; [HKEY_CLASSES_ROOT\Directory\shell\runas] @=&quot;ç®¡ç†å‘˜æƒé™&quot; &quot;Icon&quot;=&quot;C:\\Windows\\System32\\imageres.dll,102&quot; &quot;NoWorkingDirectory&quot;=&quot;&quot; [HKEY_CLASSES_ROOT\Directory\shell\runas\command] @=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; /r /d y &amp;&amp; icacls \&quot;%1\&quot; /grant administrators:F /t&quot; &quot;IsolatedCommand&quot;=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; /r /d y &amp;&amp; icacls \&quot;%1\&quot; /grant administrators:F /t&quot; åŒå‡»è¿è¡Œ æ·»åŠ â€œæ¢å¤åŽŸå§‹æƒé™â€ æ–°å»ºREGæ–‡ä»¶ï¼Œå³é”®ç¼–è¾‘å†…å®¹ Windows Registry Editor Version 5.00 ;æ¢å¤åŽŸå§‹æƒé™ [HKEY_CLASSES_ROOT\*\shell\runas-] @=&quot;æ¢å¤åŽŸå§‹æƒé™&quot; &quot;Icon&quot;=&quot;C:\\Windows\\System32\\imageres.dll,101&quot; &quot;NoWorkingDirectory&quot;=&quot;&quot; ; &amp;&amp; takeown /f \&quot;%1\&quot; [HKEY_CLASSES_ROOT\*\shell\runas-\command] @=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /reset &amp;&amp; cacls \&quot;%1\&quot; /e /r \&quot;%%USERNAME%%\&quot;&quot; &quot;IsolatedCommand&quot;=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /reset &amp;&amp; cacls \&quot;%1\&quot; /e /r \&quot;%%USERNAME%%\&quot;&quot; [HKEY_CLASSES_ROOT\exefile\shell\runas2-] @=&quot;æ¢å¤åŽŸå§‹æƒé™&quot; &quot;Icon&quot;=&quot;C:\\Windows\\System32\\imageres.dll,101&quot; &quot;NoWorkingDirectory&quot;=&quot;&quot; [HKEY_CLASSES_ROOT\exefile\shell\runas2-\command] @=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /reset &amp;&amp; cacls \&quot;%1\&quot; /e /r \&quot;%%USERNAME%%\&quot;&quot; &quot;IsolatedCommand&quot;=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; &amp;&amp; icacls \&quot;%1\&quot; /reset &amp;&amp; cacls \&quot;%1\&quot; /e /r \&quot;%%USERNAME%%\&quot;&quot; [HKEY_CLASSES_ROOT\Directory\shell\runas-] @=&quot;æ¢å¤åŽŸå§‹æƒé™&quot; &quot;Icon&quot;=&quot;C:\\Windows\\System32\\imageres.dll,101&quot; &quot;NoWorkingDirectory&quot;=&quot;&quot; [HKEY_CLASSES_ROOT\Directory\shell\runas-\command] @=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; /r /d y &amp;&amp; icacls \&quot;%1\&quot; /reset &amp;&amp; cacls \&quot;%1\&quot; /e /r \&quot;%%USERNAME%%\&quot;&quot; &quot;IsolatedCommand&quot;=&quot;cmd.exe /c takeown /f \&quot;%1\&quot; /r /d y &amp;&amp; icacls \&quot;%1\&quot; /reset &amp;&amp; cacls \&quot;%1\&quot; /e /r \&quot;%%USERNAME%%\&quot;&quot; åŒå‡»è¿è¡Œ å–æ¶ˆä¸Šé¢ä¸¤ä¸ªé€‰é¡¹å–æ¶ˆä¹‹åŽå°±åƒä»Žæœªå‘ç”Ÿè¿‡ä¸€æ ·~~~æ–°å»ºREGæ–‡ä»¶ï¼Œå³é”®ç¼–è¾‘å†…å®¹ Windows Registry Editor Version 5.00 [-HKEY_CLASSES_ROOT\*\shell\runas] [-HKEY_CLASSES_ROOT\exefile\shell\runas2] [-HKEY_CLASSES_ROOT\Directory\shell\runas] [-HKEY_CLASSES_ROOT\*\shell\runas-] [-HKEY_CLASSES_ROOT\exefile\shell\runas2-] [-HKEY_CLASSES_ROOT\Directory\shell\runas-] åŒå‡»è¿è¡Œ]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[win10ä¸‹ç»™ç›®å½•å³é”®èœå•æ·»åŠ cmdå…¥å£]]></title>
    <url>%2Fos%2F20180420-38fd.html</url>
    <content type="text"><![CDATA[ä½ æ˜¯å¦åŽŒå€¦äº†åœ¨cmdä¸­åˆ‡æ¢å·¥ä½œè·¯å¾„ï¼ŸçŽ°åœ¨æ•™ä½ è®¾ç½®åœ¨å›¾å½¢ç•Œé¢ä¸­é€šè¿‡å³é”®èœå•ç›´æŽ¥ä»¥æŸä¸ªç›®å½•ä½œä¸ºå·¥ä½œè·¯å¾„å³ï¼Œåœ¨ç›®å½•çš„å³é”®èœå•ä¸­æ·»åŠ â€œè¿›å…¥cmdâ€é€‰é¡¹æ ¸å¿ƒæ–¹æ³•ï¼Œè¿˜æ˜¯ä¿®æ”¹æ³¨å†Œè¡¨~~~ â… .æ‰“å¼€æ³¨å†Œè¡¨ï¼Œè·¯å¾„æ æœç´¢HKEY_CLASSES_ROOT\Folder\shell â…¡.å³é”®shellæ–°å»ºé¡¹ï¼Œåç§°ä¸ºcmdPromptå®žé™…ä¸Šè¿™ä¸ªåå­—å¯ä»¥éšä¾¿å–ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ·»åŠ å¤šä¸ªé¡¹æ–°å»ºå®Œæˆå¦‚ä¸‹ï¼š â…¢.åŒå‡»cmdPromptä¸‹å³ä¾§çš„åç§°è®¾ç½®å€¼ï¼Œè¯¥å­—ç¬¦ä¸²ç”¨äºŽæ˜¾ç¤ºåœ¨å³é”®èœå•ä¸Šï¼Œæ‰€ä»¥å¯ä»¥å–ä¸ªå“äº®çš„åå­—ï¼Œæ¯”å¦‚â€œåœ¨cmdä¸­æ‰“å¼€â€ â…£.å³é”®cmdPromptæ–°å»ºé¡¹ï¼Œåç§°ä¸ºcommand â…¤.åŒå‡»commandä¸‹å³ä¾§çš„åç§°è®¾ç½®å€¼ï¼Œå€¼ä¸ºcmd.exe /k cd %1 /k è¡¨ç¤ºæ‰§è¡ŒåŽé¢çš„å‘½ä»¤å¹¶ä¿ç•™ç»ˆç«¯ â…¥.ä¿å­˜é€€å‡ºå³å¯ æœ€ç»ˆæ•ˆæžœå¦‚ä¸‹ï¼š]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[win10ä¸‹éšè—èµ„æºç®¡ç†å™¨ä¸­å…­å¤§ç”¨æˆ·æ–‡ä»¶å¤¹]]></title>
    <url>%2Fos%2F20180420-6264.html</url>
    <content type="text"><![CDATA[æ‰“å¼€èµ„æºç®¡ç†å™¨æˆ–è€…æˆ‘çš„ç”µè„‘ä½ ä¼šçœ‹åˆ°ä¸‹é¢è¿™å…­ä¸ªç”¨æˆ·æ–‡ä»¶å¤¹å¦‚æžœä½ æ²¡æœ‰æŠŠæ–‡ä»¶å­˜åœ¨è¿™ä¸ªç›®å½•ä¸‹çš„æ‰“ç®—ï¼Œä»–ä»¬ä¼šæ˜¾å¾—ç‰¹åˆ«ç¢çœ¼è¿™é‡Œæˆ‘ä»¬å¯ä»¥éšè—è¿™å…­ä¸ªç›®å½•éšè—é€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨å®žçŽ°ï¼šæˆ‘ä»¬å³å¯å·²ç›´æŽ¥ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡.regè„šæœ¬ä¿®æ”¹æ³¨å†Œè¡¨å› ä¸ºæ¶‰åŠåˆ°çš„å€¼è¾ƒå¤šï¼Œæˆ‘ä»¬ä½¿ç”¨åŽä¸€ç§æ–¹å¼ä¿®æ”¹æ³¨å†Œè¡¨ éšè—åœ¨ä½ å–œæ¬¢çš„ç›®å½•ä¸‹æ–°å»ºregæ–‡ä»¶ï¼Œæ–‡ä»¶åéšä¾¿å–ï¼Œä½†æ˜¯å¿…é¡»ä»¥.regç»“å°¾å³é”®ç¼–è¾‘ï¼Œåƒä¸‡ä¸èƒ½ç›´æŽ¥åŒå‡»ï¼ï¼è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š Windows Registry Editor Version 5.00 [-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{f86fa3ab-70d2-4fc7-9c99-fcbf05467f3a}] [-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{d3162b92-9365-467a-956b-92703aca08af}] [-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{B4BFCC3A-DB2C-424C-B029-7FE99A87C641}] [-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{3dfdf296-dbec-4fb4-81d1-6a3438bcf4de}] [-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{088e3905-0323-4b02-9826-5d99428e115f}] [-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{24ad3ad4-a569-4530-98e1-ab02f9417aa8}] ä¿å­˜åŽåŒå‡»è¿è¡Œå³å¯ï¼Œå¼¹å‡ºçš„ä¸€åˆ‡æç¤ºå‡ç‚¹å‡»æ˜¯å³å¯ æ¢å¤æ¢å¤åªè¦æŠ¥ä¸Šé¢è¯­å¥çš„è´Ÿå·åŽ»æŽ‰å³å¯æ–°å»ºå¦ä¸€ä¸ª.regæ–‡ä»¶ï¼Œè¾“å…¥ï¼š Windows Registry Editor Version 5.00 [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{f86fa3ab-70d2-4fc7-9c99-fcbf05467f3a}] [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{d3162b92-9365-467a-956b-92703aca08af}] [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{B4BFCC3A-DB2C-424C-B029-7FE99A87C641}] [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{3dfdf296-dbec-4fb4-81d1-6a3438bcf4de}] [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{088e3905-0323-4b02-9826-5d99428e115f}] [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{24ad3ad4-a569-4530-98e1-ab02f9417aa8}] ä¿å­˜åŽåŒå‡»å³å¯æ¢å¤é‚£å…­ä¸ªæ–‡ä»¶å¤¹]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[win10ä¸‹ä½¿ç”¨doskeyåœ¨cmdä¸­å»ºç«‹ç±»ä¼¼äºŽlinuxä¸­aliasçš„å®]]></title>
    <url>%2Fos%2F20180420-1a3f.html</url>
    <content type="text"><![CDATA[åœ¨linuxç³»ç»Ÿä¸­å¯ä»¥é€šè¿‡ä¿®æ”¹.bashrcæ–‡ä»¶ååˆ†ç®€ä¾¿çš„è®¾ç½®aliaså®å‘½ä»¤ï¼ˆmacro)åœ¨win10ä¸‹cmdä¸­å®žçŽ°ç›¸åŒçš„åŠŸèƒ½è¦å¤æ‚ä¸€ç‚¹ æ–°å»ºå®æ–‡ä»¶é¦–å…ˆä½ éœ€è¦ä¸€ä¸ªæ–‡ä»¶å­˜æ”¾å®ï¼Œå‡è®¾æˆ‘ä»¬åœ¨Cç›˜æ ¹ç›®å½•ä¸‹å»ºç«‹äº†æ–‡ä»¶cmd-alias.bat ä¿®æ”¹æ³¨å†Œè¡¨ç„¶åŽä½ éœ€è¦åœ¨å¯åŠ¨cndæ—¶è‡ªåŠ¨åŠ è½½æ–‡ä»¶ä¸­çš„å®ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€Žä¹ˆè‡ªåŠ¨åŠ è½½å®ï¼Ÿä¿®æ”¹æ³¨å†Œè¡¨ï¼š1ã€æ‘ä¸‹win+Rè¾“å…¥regeditå›žè½¦2ã€åœ¨èœå•æ ä¸‹çš„è·¯å¾„æ è¾“å…¥HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Command Processorå›žè½¦3ã€å³ä¾§æ–°å»ºå­—ç¬¦ä¸²å€¼ï¼Œæ•°å€¼åç§°å¡«AutoRunï¼Œæ•°å€¼æ•°æ®å¡«C:\cmd-alias.batï¼ˆç¬¬ä¸€æ­¥é‚£ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼‰4ã€å…³é—­å³å¯ã€‚ã€‚ ä¿®æ”¹å®æ–‡ä»¶å³é”®ç¬¬ä¸€æ­¥çš„æ–‡ä»¶ï¼Œé€‰æ‹©ç¼–è¾‘ï¼ˆé»˜è®¤ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼‰ â—Ž åœ¨windowsç³»ç»Ÿä¸‹ä¸æ˜¯aliaså‘½ä»¤ï¼Œè€Œæ˜¯doskeyå‘½ä»¤ doskeyç¨‹åºè·¯å¾„ä¸ºC:\Windows\System32\doskey.exe â—Ž ä¸Ž.bashrcæ–‡ä»¶ä¸€æ ·ï¼Œä¸€è¡Œä¸€ä¸ªdoskeyï¼Œè¯­å¥ä»¥doskeyå¼€å¤´ â—Ž ä»¥@doskeyå¼€å¤´çš„å®åœ¨cmdæ‰“å¼€æ—¶ä¸ä¼šæ˜¾ç¤ºåœ¨å±å¹•ä¸Š å•ä¸ªå‘½ä»¤çš„å®@doskey ls=dirï¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„å­æ–‡ä»¶/å­ç›®å½•ä¿¡æ¯ win10é»˜è®¤ä¸ºdirï¼Œlinuxé»˜è®¤ä¸ºlsï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®lsèµ·åˆ°ä¸Ždirç›¸åŒçš„ä½œç”¨ @doskey ls=dir $*ï¼š$*è¡¨ç¤ºåŽé¢å¯èƒ½è¿˜æœ‰å…¶ä»–å‚æ•°ï¼Œå‚è€ƒls å¤šä¸ªå‘½ä»¤çš„å®å¤šä¸ªå‘½ä»¤çš„å®ç”¨$téš”å¼€ï¼Œå‘½ä»¤é—´ä¸ç”¨åŠ ç©ºæ ¼@doskey hexocgd=hexo clean$thexo g$thexo dï¼šé¡ºåºæ‰§è¡Œhexo clean, hexo g, hexo d doskeydoskey /MACROS å¯æŸ¥çœ‹æ‰€æœ‰å·²ç»å®šä¹‰çš„å®å‘½ä»¤]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[request.GET/POSTå±žæ€§å€¼ä¸ŽQueryDictç±»]]></title>
    <url>%2FDjango%2F20180317-8d33.html</url>
    <content type="text"><![CDATA[django.http.QueryDictç±»åœ¨HttpRequestå¯¹è±¡ä¸­ï¼ŒGETå’ŒPOSTå±žæ€§çš„å€¼éƒ½æ˜¯QueryDictçš„å®žä¾‹ QueryDictç”¨æ¥å¤„ç†å•é”®å¯¹åº”å¤šå€¼çš„æƒ…å†µ qd = django.http.QueryDict(...) qd.__getitem__(key) è¿”å›žkeyå¯¹åº”å€¼åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå€¼ qd.__setitem__(key, value_list) GETå’ŒPOSTå±žæ€§å€¼å­—å…¸ä¸å…è®¸è¢«ç›´æŽ¥ä¿®æ”¹ï¼Œå› æ­¤æ­¤æ–¹æ³•åªèƒ½ç”¨äºŽè¯¥å­—å…¸çš„æ‹·è´ä¸Š qd.get(key, IF_NONE) å¦‚æžœkeyå­˜åœ¨è¿”å›žkeyå¯¹åº”å€¼åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå€¼ qd.update(d) Dä¸ºQD(æŸ¥è¯¢å­—å…¸)æˆ–è€…D(pythonå­—å…¸)éƒ½å¯ä»¥,å¦‚æžœkeyå­˜åœ¨ï¼Œæ‰§è¡Œæ·»åŠ è€Œä¸æ˜¯æ›¿æ¢ qd.items() è¿”å›žé”®å€¼å¯¹ï¼Œå€¼æ˜¯keyå¯¹åº”çš„å€¼åˆ—è¡¨çš„æœ€åŽä¸€ä¸ªå€¼ï¼ˆå•å€¼ï¼‰ qd.values() è·Ÿitemsä¸€æ ·ä½¿ç”¨å•å€¼é€»è¾‘ //ç‰¹æœ‰æ–¹æ³• qd.copy() è¿”å›žå¯æ›´æ”¹çš„æ‹·è´ï¼ˆæ¯”å¦‚å¯ä»¥ä½¿ç”¨__setitem__) qd.getlist(key) è¿”å›žkeyå¯¹åº”çš„pythonåˆ—è¡¨ qd.setlist(key, value_list) æ— é¡»æ‹·è´ç›´æŽ¥ä¿®æ”¹ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ qd.appendlist(key, value) ç»™å·²ç»å­˜åœ¨çš„keyçš„åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå€¼ qd.setlistdefault(ket, value_list) qd.lists() ä½œç”¨ä¸Žitemsç±»ä¼¼ï¼Œä¸æ‰§è¡Œå•å€¼é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯è¯´é”®å€¼å¯¹çš„å€¼æ˜¯æ‰€æœ‰å€¼çš„åˆ—è¡¨ qd.urlencode(key) è¿”å›žæŸ¥è¯¢å­—ç¬¦ä¸²æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦‚&apos;a=3&amp;a=4&amp;a=5&apos;]]></content>
      <categories>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[HttpRequestå¯¹è±¡]]></title>
    <url>%2FDjango%2F20180317-f755.html</url>
    <content type="text"><![CDATA[æ¯ä¸ªviewå‡½æ•°å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯HttpRequestå¯¹è±¡ï¼ŒåŒ…å«å½“å‰è¯·æ±‚URLçš„ä¸€äº›ä¿¡æ¯HttpRequestå¯¹è±¡å®žä¾‹ï¼š //å±žæ€§ request.path strç±»åž‹ï¼Œè¯·æ±‚é¡µé¢çš„å…¨è·¯å¾„ï¼Œä¸åŒ…æ‹¬åŸŸå request.method strç±»åž‹ï¼Œå€¼ä¸º&apos;GET&apos;æˆ–è€…&apos;POST&apos; request.GET QueryDictå®žä¾‹ request.POST QueryDictå®žä¾‹ï¼Œæ³¨æ„åŒºåˆ†POSTä¸ºç©ºå’ŒPOSTçš„è¯·æ±‚å†…å®¹ä¸ºç©ºï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºPOSTæ–¹æ³•ä½¿ç”¨methodå±žæ€§ request.COOKIES æ ‡å‡†pythonå­—å…¸å¯¹è±¡(ç”¨{}è¡¨ç¤º)ï¼Œ{str:str} request.FILES ç±»å­—å…¸å¯¹è±¡ï¼ˆï¼Ÿï¼‰ï¼ŒåŒ…å«æ‰€æœ‰ä¸Šä¼ æ–‡ä»¶ - å½¢å¼ä¸ºï¼šXxxDict{name: {&apos;filename&apos;:..., &apos;content-type&apos;:..., &apos;content&apos;:...}} - ä¸Šé¢çš„nameå˜é‡çš„å€¼æ˜¯&lt;input type=&quot;file&quot; name=&quot;...&quot;&gt;ä¸­nameå±žæ€§çš„å€¼ - åªæœ‰POSTè¯·æ±‚å¹¶ä¸”å•¥å•¥å•¥çš„FILESå±žæ€§æ‰ä¼šæœ‰å€¼ï¼Œå¦åˆ™ä¸ºç©º request.META å¯ç”¨çš„httpå¤´éƒ¨ä¿¡æ¯å­—å…¸ request.user django.contrib.auth.models.Userå¯¹è±¡å®žä¾‹ï¼Œä»£è¡¨å½“å‰ç™»å½•çš„ç”¨æˆ· - ç”¨æˆ·æœªç™»å½•åˆ™ä¸ºdjango.contrib.auth.models.AnonymousUserå¯¹è±¡å®žä¾‹ - é€šè¿‡ request.user.is_authenticated() åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½• - éœ€è¦æ¿€æ´»djangoçš„AuthenticationMidllewareå±žæ€§ request.session å½“å‰ä¼šè¯çš„å­—å…¸å¯¹è±¡ï¼Œéœ€è¦æ¿€æ´»å•¥å•¥å•¥ request.raw_post_data æœªè§£æžçš„åŽŸå§‹postæ•°æ® //æ–¹æ³• request.__getitem__(key) å–å‡ºGET/POSTä¸­çš„å€¼ï¼Œä¼˜å…ˆPOST request.has_key(key) æ£€æŸ¥GET/POSTæ˜¯å¦åŒ…å«key request.get_full_path() è¿”å›žåŒ…å«æŸ¥è¯¢å­—ç¬¦ä¸²çš„è¯·æ±‚è·¯å¾„å­—ç¬¦ä¸² request.is_secure() å¦‚æžœå‘å‡ºçš„æ˜¯HTTPSå®‰å…¨è¯·æ±‚è¿”å›žTrue]]></content>
      <categories>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ¿ - æ‰©å±•æ¨¡æ¿ç³»ç»Ÿ]]></title>
    <url>%2FDjango%2F20180317-717d.html</url>
    <content type="text"><![CDATA[ã€æ³¨ã€‘ ä¸‹é¢ä¸¤ç±»è¯­å¥ä¸èƒ½æ­£å¸¸ä¹¦å†™ï¼Œæ­£ç¡®å†™æ³•æ—¶éœ€è¦åŽ»æŽ‰å¦‚ä¸‹æ‰€ç¤ºç©ºæ ¼ï¼ˆç©ºæ ¼çš„HTMLå­—ç¬¦å®žä½“ç ä¸º &amp; n b s p ;ï¼‰ï¼š &gt; {&amp;nbsp;{ ... }&amp;nbsp;} &gt; {&amp;nbsp;% ... %&amp;nbsp;} ç»å¤§éƒ¨åˆ†çš„æ¨¡æ¿å®šåˆ¶æ˜¯ä»¥è‡ªå®šä¹‰æ ‡ç­¾/è¿‡æ»¤å™¨çš„æ–¹å¼æ¥å®Œæˆçš„ æ€Žä¹ˆç¼–å†™è‡ªå·±çš„æ¨¡æ¿åº“æ–‡ä»¶ï¼Ÿè¿™é‡Œçš„è‡ªå®šä¹‰æ¨¡æ¿åº“æŒ‡çš„å°±æ˜¯è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾/è¿‡æ»¤å™¨ã€‚ æ¨¡æ¿åº“æ–‡ä»¶æ˜¾ç„¶æœ‰ä»–å›ºå®šçš„ä¹¦å†™æ ¼å¼ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¨¡å—å¼€å¤´å†™ä¸Šï¼š from django import template register = template.Library() æ¨¡å—çº§å˜é‡registeræ˜¯è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾/è¿‡æ»¤å™¨çš„åŸºç¡€æ•°æ®ç»“æž„ã€‚ å®žé™…ä¸Šæˆ‘ä»¬åœ¨å®šä¹‰è‡ªå·±çš„æ¨¡æ¿åº“æ–‡ä»¶æ—¶å¯ä»¥å‚è€ƒå®˜æ–¹çš„å†™æ³•ï¼ŒæŸ¥çœ‹django/template/defaultfilters.pyæ–‡ä»¶æˆ–è€…django/template/defaulttags.pyæ–‡ä»¶ã€‚ ç„¶åŽæˆ‘ä»¬åŸºäºŽregisteræ¥è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾/è¿‡æ»¤å™¨: è‡ªå®šä¹‰æ¨¡æ¿è¿‡æ»¤å™¨ï¼šå®šä¹‰ + æ³¨å†Œè¿‡æ»¤å™¨æœ¬è´¨ä¸Šå°±æ˜¯å¸¦å‚æ•°çš„pythonå‡½æ•°ï¼ˆå“ˆå“ˆï¼Œæ²¡æƒ³åˆ°å§ï¼‰ã€‚ç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥ä¼ é€’ç®¡é“ç¬¦(|)å…¥å£çš„å€¼ï¼Œå…¶ä»–å‚æ•°é€šè¿‡:è¿›è¡Œä¼ é€’ã€‚ä¾‹å¦‚ä¸‹é¢çš„è¿™ä¸ªè¿‡æ»¤å™¨ï¼š def cut(value, arg): return value.replace(arg, &apos;&apos;) åœ¨æ¨¡æ¿ä¸­å¯ä»¥ç”¨æ¥åŽ»æŽ‰æ¨¡æ¿å˜é‡å€¼ä¸­çš„å­—ç¬¦â€™Aâ€™: { { somevalue|cut:&quot;A&quot; } } è¿‡æ»¤å™¨æ€»æ˜¯æœ‰å¯æ­£å¸¸ä½¿ç”¨çš„è¿”å›žå€¼ï¼Œä¸èƒ½è§¦å‘å¼‚å¸¸ï¼ˆå…³äºŽè§¦å‘å¼‚å¸¸æˆ‘çš„ç†è§£æ˜¯ï¼šä½¿ç”¨raiseæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè€Œä¸æ˜¯ä½¿ç”¨try...except...è¿›è¡Œå¼‚å¸¸æ•èŽ·ï¼‰ã€‚ ä¸çŸ¥é“ä½ å‘çŽ°æ²¡æœ‰ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬å®šä¹‰æ¨¡æ¿è¿‡æ»¤å™¨çš„è¿‡ç¨‹ä¸­è¿˜æ²¡æœ‰ç”¨åˆ°registerï¼Œå®žé™…ä¸Šå½“æˆ‘ä»¬å®šä¹‰å¥½æ¨¡æ¿è¿‡æ»¤å™¨åŽéœ€è¦å¯¹ä»–ä»¬è¿›è¡Œæ³¨å†Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä½¿ç”¨ä¸€ä¸‹è¯­å¥æ³¨å†Œï¼š register.filter(&apos;cut&apos;, cut) //(è¿‡æ»¤å™¨åç§°ï¼Œå‡½æ•°æœ¬èº«) å®žé™…ä¸Šæˆ‘ä»¬å¯ä»¥è¿˜å¯ä»¥ä½¿ç”¨@ä¿®é¥°å™¨åœ¨å®šä¹‰çš„æ—¶å€™è¿›è¡Œæ³¨å†Œï¼š //æ— å‚æ—¶ç›´æŽ¥@register.filter @register.filter(name=&apos;cut&apos;) def cut(value, arg): return value.replace(arg, &apos;&apos;) è‡ªå®šä¹‰æ¨¡æ¿æ ‡ç­¾å…ˆç•¥è¿‡,æœ‰éœ€è¦å†ç ”ç©¶ã€‚ã€‚POTAL æ¨¡æ¿åº“æ–‡ä»¶æ”¾åœ¨å“ªé‡Œå¥½ï¼Ÿæ¨¡æ¿åº“æ˜¯Djangoèƒ½å¤Ÿå¯¼å…¥çš„åŸºæœ¬ç»“æž„ã€‚ å»ºè®®çš„ç›®å½•ç»“æž„å¦‚ä¸‹ï¼š ä¸ºè‡ªå®šä¹‰çš„æ¨¡æ¿åº“å•ç‹¬å»ºä¸€ä¸ªappå¹¶åœ¨INSTALLED_APPSä¸­æ³¨å†Œï¼ˆåªæœ‰æ³¨å†Œçš„æ¨¡æ¿åº“æ‰èƒ½è¢«å¯¼å…¥ï¼‰ã€‚ åœ¨åˆé€‚çš„appæ ¹ç›®å½•ä¸‹ä¸ºæ¨¡æ¿ä»¬å»ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å¤¹ã€‚ åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹å»ºç«‹__init__.pyæ–‡ä»¶å’Œè‡ªå®šä¹‰æ¨¡æ¿åº“æ–‡ä»¶ã€‚ è‡ªå®šä¹‰çš„æ¨¡æ¿åº“æ€Žä¹ˆå¯¼å…¥åˆ°æ¨¡æ¿ä¸­ï¼Ÿ è¿™é‡Œæ³¨æ„å¯¹æ¨¡æ¿åº“å’Œæ¨¡æ¿çš„æ¦‚å¿µè¿›è¡ŒåŒºåˆ† æˆ‘ä»¬åœ¨ç¼–å†™æ¨¡æ¿æ—¶å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥æ¥å¯¼å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¨¡æ¿åº“ï¼š { % load æ¨¡æ¿åº“å % } loadæ¨¡æ¿æ ‡ç­¾ä¼šæ£€æŸ¥INSTALLED_APPSï¼Œåªæœ‰å·²å®‰è£…çš„appå†…çš„æ¨¡æ¿åº“æ‰èƒ½è¢«åŠ è½½ã€‚è¿™é‡Œæ¨¡æ¿åº“è™½ç„¶æ˜¯å­˜æ”¾åœ¨æŸä¸ªç‰¹å®šçš„APPå†…çš„ï¼Œä½†æ˜¯loadåŠ è½½æ¨¡æ¿åº“æ—¶å¹¶æ²¡æœ‰æ¶‰åŠåˆ°è¿™ä¸ªAPPã€‚]]></content>
      <categories>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ¿ - è‡ªåŠ¨è½¬ä¹‰]]></title>
    <url>%2FDjango%2F20180317-df12.html</url>
    <content type="text"><![CDATA[ã€æ³¨ã€‘ ä¸‹é¢ä¸¤ç±»è¯­å¥ä¸èƒ½æ­£å¸¸ä¹¦å†™ï¼Œæ­£ç¡®å†™æ³•æ—¶éœ€è¦åŽ»æŽ‰å¦‚ä¸‹æ‰€ç¤ºç©ºæ ¼ï¼ˆç©ºæ ¼çš„HTMLå­—ç¬¦å®žä½“ç ä¸º &amp; n b s p ;ï¼‰ï¼š &gt; {&amp;nbsp;{ ... }&amp;nbsp;} &gt; {&amp;nbsp;% ... %&amp;nbsp;} è‡ªåŠ¨è½¬ä¹‰çš„äº§ç”ŸèƒŒæ™¯å½“å¯¹æ¨¡æ¿å˜é‡è¿›è¡Œæ›¿æ¢æ—¶ï¼Œæ›¿æ¢å­—ç¬¦ä¸²ä¸­å¯èƒ½å«æœ‰èƒ½äº§ç”Ÿéžé¢„æœŸå½±å“çš„å…ƒç´ ã€‚ä¾‹å¦‚&quot;&lt;script&gt;alert(&#39;hellp&#39;)&lt;/script&gt;&quot;å°†å¼¹å‡ºè­¦å‘Šæ¡†ç”¨æˆ·åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹åšä¸€äº›ä¸å¯æè¿°çš„äº‹æƒ… â€”â€” è·¨åŸŸè„šæœ¬ï¼ˆXSSï¼‰æ”»å‡» è‡ªåŠ¨è½¬ä¹‰çš„è¯¦ç»†æ“ä½œä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‡ºçŽ°ï¼Œdjangoå¼•å…¥è‡ªåŠ¨è½¬ä¹‰æœºåˆ¶ï¼Œé»˜è®¤å¼€å¯ã€‚ä»¥ä¸‹5 ä¸ªå­—ç¬¦å°¤å…¶é‡è¦ï¼š &lt;è‡ªåŠ¨è½¬ä¸º&amp;lt &gt;è‡ªåŠ¨è½¬ä¸º&amp;gt &#39;è‡ªåŠ¨è½¬ä¸º&amp;#39 &quot;è‡ªåŠ¨è½¬ä¸º&amp;quot &amp;è‡ªåŠ¨è½¬ä¸º&amp;amp æ‰‹åŠ¨å…³é—­è‡ªåŠ¨è½¬ä¹‰æœ‰æ—¶å€™æˆ‘ä»¬ç¡®å®žæ˜¯å¸Œæœ›æ¨¡æ¿å˜é‡è¢«æ›¿æ¢æˆä¸€æ®µHTMLä»£ç  æ¥è‡ªç”¨æˆ·çš„æ•°æ®å°†è¿›è¡Œè‡ªåŠ¨è½¬ä¹‰ ä½¿ç”¨safeè¿‡æ»¤å™¨å…³é—­å•ä¸ªæ¨¡æ¿å˜é‡çš„è‡ªåŠ¨è½¬ä¹‰åŠŸèƒ½ { { data | safe } } æŽ§åˆ¶æ¨¡æ¿å—çš„è‡ªåŠ¨è½¬ä¹‰ { % autoescape off % } ... { % endautoescape % } æ˜¯å¦è‡ªåŠ¨è½¬ä¹‰å¯æ ¹æ®æ¨¡æ¿é—´çš„ç»§æ‰¿è¿›è¡Œè½¬ç§» defaultè¿‡æ»¤å™¨çš„å‚æ•°ï¼ˆå­—ç¬¦ä¸²ï¼‰çš„è‡ªåŠ¨è½¬ä¹‰å› ä¸ºè¿™ä¸ªå¸¸äº®å­—ç¬¦ä¸²æ˜¯ç”±æ¨¡æ¿ä½œè€…å®šä¹‰çš„ï¼Œé»˜è®¤å·²ç»é€šè¿‡äº†safeè¿‡æ»¤å™¨ã€‚æ‰€ä»¥æ¨¡æ¿ä½œè€…éœ€è¦äººå·¥è½¬ä¹‰ï¼šå®šä¹‰{ { data|default:&quot;3 &amp;lt; 2&quot; } }è€Œä¸æ˜¯{ { data|default:&quot;3 &lt; 2&quot; } }ã€‚]]></content>
      <categories>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ¿ - RequestContextå’ŒContextå¤„ç†å™¨]]></title>
    <url>%2FDjango%2F20180316-836c.html</url>
    <content type="text"><![CDATA[è§†å›¾å‡½æ•°éœ€è¦ä¼ é€’ä¸€ä¸ªcontextç»™æ¨¡æ¿å®Œæˆæ¸²æŸ“ï¼Œç„¶åŽè¿”å›žç»™ç”¨æˆ·å®Œæ•´é¡µé¢ã€‚å½“å‘å¤šä¸ªä¸åŒçš„æ¨¡æ¿ä¸­ä¼ å…¥å¤§é‡ç›¸åŒçš„é”®å€¼å¯¹æ—¶ä¼šå¤šå†™å¾ˆå¤šé‡å¤çš„ä»£ç ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨RequestContext é¦–å…ˆå®šä¹‰è¿™äº›å¯å¤ç”¨çš„é”®å€¼å¯¹ def common_items(request): return {...} è¿™ä¸ªå‡½æ•°æŽ¥å—requestçº¯ç²¹æ˜¯å› ä¸ºé‡Œé¢æž„é€ è¿”å›žå€¼å­—å…¸æ—¶å¯èƒ½ä¼šç”¨åˆ°æ¢è¨€ä¹‹ï¼Œå®ƒä¸æ˜¯å¿…é¡»çš„ï¼šå½“ä½ ç¡®å®šè¿”å›žå€¼å­—å…¸ç”¨ä¸ç€requestå®Œå…¨å¯ä»¥ä¸ä¼ å‚ æž„é€ è§†å›¾å‡½æ•° from django.template import RequestContext def view_1(request, *args, **kwargs): rcontext = RequestContext(request, d{...}, processors=[...]) ... è§†å›¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯requestï¼ˆHttpRequestå¯¹è±¡å®žä¾‹ï¼‰è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨RequestContextå¯¹è±¡ä»£æ›¿Contextå¯¹è±¡æž„é€ RequestContextéœ€è¦æ³¨æ„ï¼š ç¬¬ä¸€ä¸ªå‚æ•°æ—¶request ç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—å…¸ï¼Œä»£è¡¨éžå…¬ç”¨çš„é”®å€¼å¯¹ processorsæ˜¯åŒ…å«Contextå¤„ç†å™¨çš„åˆ—è¡¨/å…ƒç»„ å°†RequestContextå¯¹è±¡ä¼ é€’ç»™render_to_responseæ–¹æ³•è¿›è¡Œæ¸²æŸ“ä¸ŽContextå¯¹è±¡ä¸åŒï¼Œä½¿ç”¨RequestContexté™¤äº†ä¼ é€’å¤„ç†å™¨å¤–è¿˜éœ€è¦ä¼ é€’ä¸€ä¸ªé¢å¤–çš„å­—å…¸ï¼ˆè§ä¸Šç¬¬äºŒä¸ªå‚æ•°ï¼‰ä½¿ç”¨å…³é”®å­—context_instance: return render_to_response(æ¨¡æ¿æ–‡ä»¶, éžå…¬ç”¨å­—å…¸, context_instance=RequestContext(request, processors=[â€¦])) æ³¨æ„ï¼š è¿™é‡Œåœ¨æž„å»ºRequestContextå¯¹è±¡çš„æ—¶å€™å¹¶æ²¡æœ‰ä¼ é€’éžå…¬ç”¨å­—å…¸ï¼Œè€Œæ˜¯å°†è¯¥å­—å…¸ä¼ é€’ç»™äº†render_to_responseæ–¹æ³•ï¼ï¼ï¼ ä½†æ˜¯é¢‘ç¹çš„é”®å…¥processorsè¿˜æ˜¯ä¼šäº§ç”Ÿå¤§é‡çš„ä»£ç ï¼ˆè¿™ä¸ªæ˜¯çœŸçš„æ‡’ã€‚ã€‚ï¼‰ã€‚ã€‚æ‰€ä»¥Djangoè®¾è®¡äº†å…¨å±€contextå¤„ç†å™¨ï¼šä¸€èˆ¬åœ¨settings.pyçš„ç±»ä¼¼äºŽâ€™context_processorsâ€™çš„åˆ—è¡¨ä¸­å£°æ˜Žï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½å…³é”®å­—ä¸ä¸€æ ·æ¿€æ´»ç›¸åº”çš„å¤„ç†å™¨RequestContextå°†è‡ªåŠ¨åŒ…å«ç›¸å¯¹åº”çš„ä¸€éƒ¨åˆ†å˜é‡åˆ°contextä¸­ï¼Œå…·ä½“å¦‚ä¸‹ï¼š django.core.context_processors.auth: userï¼šä¸€ä¸ªdjango.contrib.auth.models.User/AnonymousUserå®žä¾‹ messageï¼šå½“å‰ç™»å½•ç”¨æˆ·çš„æ¶ˆæ¯åˆ—è¡¨ permsï¼šå½“å‰ç™»å½•ç”¨æˆ·çš„æƒé™ django.core.context_processors.debug: debugï¼šsettings.DEBUGå€¼ï¼Œæ£€æµ‹æ˜¯å¦å¤„äºŽdebugæ¨¡å¼ï¼Œè²Œä¼¼ä¸€ç›´ä¸ºTrueï¼Ÿ sql_queriesï¼šé¡ºåºè®°å½•æ¯ä¸ªSQLæŸ¥è¯¢ä»¥åŠè€—è´¹æ—¶é—´ è¿™ä¸ªå¤„ç†å™¨è¿˜éœ€è¦æ»¡è¶³ä¸€äº›å…¶ä»–çš„æ¡ä»¶â€¦ django.core.context_processors.i18n: LANGUAGES LANGUAGE_CODE django.core.context_processors.request django.core.context_processors.messages]]></content>
      <categories>
        <category>Django</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•-åŠ¨æ€è§„åˆ’-é’¢æåˆ‡å‰²ç»å…¸é—®é¢˜]]></title>
    <url>%2Fml%2F20180313-6ba0.html</url>
    <content type="text"><![CDATA[é’¢æ¡åˆ‡å‰²é—®é¢˜ ä»€ä¹ˆæ—¶å€™ç”¨åŠ¨æ€è§„åˆ’?åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰é—®é¢˜çš„æ˜¾è‘—ç‰¹å¾ï¼š æœ€ä¼˜å­ç»“æž„ ï¼ˆoptimal substructureï¼‰ å¦‚æžœä¸€ä¸ªé—®é¢˜çš„è§£ç»“æž„åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æž„é—®é¢˜ã€‚å¦‚ä¸Šçš„é’¢æ¡åˆ‡å‰²é—®é¢˜ï¼Œé•¿åº¦ä¸ºnçš„é’¢æ¡æ˜¾ç„¶å­˜åœ¨æœ€ä¼˜è§£ï¼Œè€Œä¸”æœ€ä¼˜è§£ä¸€å®šå¯ä»¥åˆ†ä¸ºä¸¤ç»„ï¼Œå‡è®¾ä¸ºiå’Œn-iï¼Œé‚£ä¹ˆé•¿åº¦åˆ†åˆ«ä¸ºiå’Œn-içš„é’¢æ¡æ˜¾ç„¶ä¹Ÿå­˜åœ¨æœ€ä¼˜è§£ï¼Œè€Œä¸”å¯ä»¥å¯¹è¿™ä¸¤ç§é’¢æ¡ç‹¬ç«‹æ±‚è§£ï¼ˆå¯¹é•¿åº¦åˆ†åˆ«ä¸ºiå’Œn-içš„é’¢æ¡æ±‚è§£å®Œå…¨æ˜¯å¦å¤–çš„ä¸åŒçš„é—®é¢˜ï¼‰ã€‚å½“ç„¶ï¼Œè¿™é‡Œè¿˜å­˜åœ¨å¦å¤–ä¸€ç§æƒ…å†µï¼Œé•¿åº¦ä¸ºnçš„é’¢æ¡ä¸ä¸€å®šéžè¦åˆ‡å‰²æ‰èƒ½äº§ç”Ÿæœ€ä¼˜è§£ï¼Œäº‹å®žä¸Šå½“pnè¶³å¤Ÿå¤§æ—¶æœ€ä¼˜è§£å‘ç”Ÿåœ¨ä¸åˆ‡å‰²æ—¶ï¼Œå› æ­¤éœ€è¦å–ä¸åˆ‡å‰²å’Œåˆ‡å‰²æˆä¸¤ç»„ä¸­è¾ƒå¤§çš„é‚£ä¸ªå€¼ã€‚äº‹å®žä¸Šæ‰€è°“çš„åˆ‡å‰²æˆä¸¤ç»„å¯èƒ½å­˜åœ¨ä¸æ­¢ä¸€ç§åˆ‡æ³•ï¼šé•¿åº¦ä¸ºnçš„é’¢æ¡å­˜åœ¨n-1ç§åˆ‡æ³•ã€‚å› æ­¤å®žé™…ä¸Šçš„é€’å½’å¼å¯ä»¥å†™ä¸ºï¼š $$r_n=\max{(p_n,r_1+r_{n-1},r_2+r_{n-2},â€¦,r_{n-1}+r_1)},\text{å…±né¡¹}$$ è€ƒè™‘åˆ°é‡å¤å…ƒç´ ï¼Œå¯è¿›ä¸€æ­¥ç²¾ç®€ä¸ºï¼š$[\frac{n}2]$è¡¨ç¤ºå–æ•´ $$r_n=max{(p_n,r_1+r_{n-1},r_2+r_{n-2},â€¦,r_{[frac{n}2]}+r_{n-[\frac{n}2]})},\text{å…±$1+\frac{n}2$é¡¹}$$ é‡å å­é—®é¢˜ï¼ˆoverlapping subproblemsï¼‰ å½“æ ¹æ®é€’å½’å¼è‡ªé¡¶å‘åº•è¿›è¡Œè®¡ç®—æ—¶ï¼Œå¦‚æžœä¸è¿ç”¨ä»»ä½•æŠ€å·§ï¼ˆå¦‚å¤‡å¿˜å½•ï¼‰ï¼Œå°†ä¼šæµªè´¹å¤§é‡çš„èµ„æºé‡å¤è®¡ç®—ç›¸åŒçš„å­é—®é¢˜ï¼Œå¾ˆæ˜Žæ˜¾è¿™äº›å­é—®é¢˜æ˜¯é‡å çš„ã€‚é€’å½’æœ¬æ¥å°±éœ€è¦é¢å¤–çš„ç©ºé—´å¯¹ä¸­é—´çŠ¶æ€è¿›è¡Œå­˜å‚¨ï¼Œå¦‚æžœè¿˜è¦æµªè´¹å¤§é‡æ—¶é—´é‡å¤è®¡ç®—é‡å å­é—®é¢˜ï¼Œå¤§å¤§çš„ä¸åˆ’ç®—ã€‚è§£å†³é‡å å­é—®é¢˜å¤§æ¦‚æœ‰ä¸¤ç§æ–¹æ³•ï¼š å¤‡å¿˜å½•ï¼šè‡ªé¡¶å‘ä¸‹è®¡ç®—æ—¶å°†ä¸­é—´ç»“æžœå­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡é‡åˆ°æ—¶ç›´æŽ¥æŸ¥è¯¢å³å¯ã€‚å¤‡å¿˜å½•è§£å†³äº†é‡å å­é—®é¢˜çš„è®¡ç®—ã€‚ è‡ªåº•å‘é¡¶è®¡ç®—ï¼šè¿™ä¸ªå°±åŽ‰å®³äº†ï¼Œè¿žé€’å½’æ ˆä¹Ÿçœç•¥äº†ã€‚åˆ©ç”¨é€’æŽ¨å¼ä»Žæœ€å°çš„åŒç±»é—®é¢˜å¼€å§‹è®¡ç®—ï¼Œä½ ä¼šå‘çŽ°æ„å¤–çš„æƒŠå–œã€‚åœ¨é’¢æ¡åˆ‡å‰²é—®é¢˜ä¸­æœ€ç®€å•çš„åŒç±»é—®é¢˜ä¸å¤–ä¹Ž$r_0=0$æˆ–è€…$r_1=r_p$ã€‚ javaä¸­å¯ä»¥ä½¿ç”¨ Arrays.stream(ARRAY).max().getAsInt() èŽ·å–æœ€å¤§å€¼ åŠ¨æ€è§„åˆ’çš„ç»å…¸æ¨¡åž‹çº¿æ€§æ¨¡åž‹çŠ¶æ€çš„æŽ’å¸ƒå‘ˆçº¿æ€§ï¼šï¼Ÿï¼Ÿ ã€ä¾‹é¢˜ã€‘åœ¨ä¸€ä¸ªå¤œé»‘é£Žé«˜çš„æ™šä¸Šï¼Œæœ‰nï¼ˆn &lt;= 50ï¼‰ä¸ªå°æœ‹å‹åœ¨æ¡¥çš„è¿™è¾¹ï¼ŒçŽ°åœ¨ä»–ä»¬éœ€è¦è¿‡æ¡¥ï¼Œä½†æ˜¯ç”±äºŽæ¡¥å¾ˆçª„ï¼Œæ¯æ¬¡åªå…è®¸ä¸å¤§äºŽä¸¤äººé€šè¿‡ï¼Œä»–ä»¬åªæœ‰ä¸€ä¸ªæ‰‹ç”µç­’ï¼Œæ‰€ä»¥æ¯æ¬¡è¿‡æ¡¥çš„ä¸¤ä¸ªäººéœ€è¦æŠŠæ‰‹ç”µç­’å¸¦å›žæ¥ï¼Œiå·å°æœ‹å‹è¿‡æ¡¥çš„æ—¶é—´ä¸ºT[i]ï¼Œä¸¤ä¸ªäººè¿‡æ¡¥çš„æ€»æ—¶é—´ä¸ºäºŒè€…ä¸­æ—¶é—´é•¿è€…ã€‚é—®æ‰€æœ‰å°æœ‹å‹è¿‡æ¡¥çš„æ€»æ—¶é—´æœ€çŸ­æ˜¯å¤šå°‘ã€‚ åŒºé—´æ¨¡åž‹èƒŒåŒ…æ¨¡åž‹]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å‚æ•°æ¨¡åž‹å’Œéžå‚æ•°æ¨¡åž‹]]></title>
    <url>%2Fml%2F20180312-62c1.html</url>
    <content type="text"><![CDATA[ä»»ä½•æ¨¡åž‹çš„å»ºç«‹éƒ½ä¼šåšå‡ºä¸€å®šçš„å‡è®¾ å‚æ•°æ¨¡åž‹(parametric models)è¦å…ˆå‡è®¾æ€»ä½“æœä»ŽæŸä¸ªåˆ†å¸ƒï¼ˆä¸åŒçš„åˆ†å¸ƒæœ‰è‡ªå·±çš„åˆ†å¸ƒå‚æ•°ï¼Œæ¯”å¦‚é«˜æ–¯åˆ†å¸ƒçš„å‚æ•°æ˜¯å‡å€¼å’Œæ–¹å·®ï¼‰ï¼Œç„¶åŽé€šè¿‡æ ·æœ¬æ¥ä¼°è®¡æ€»ä½“åˆ†å¸ƒçš„å‚æ•° å‚æ•°æ¨¡åž‹é€šè¿‡ä¼°è®¡å‡ºçš„åˆ†å¸ƒè¿›è¡Œæ£€éªŒå’Œé¢„æµ‹ã€‚ éžå‚æ•°æ¨¡åž‹(nonparametric models)æœ‰æ—¶å€™æ ·æœ¬ä¸è¶³ä»¥æ”¯æ’‘æˆ‘ä»¬å–ä¼°è®¡æ€»ä½“ï¼Œæˆ–è€…æ€»ä½“æœ¬èº«æ²¡æœ‰æ˜Žæ˜¾çš„ç‰¹å¾ã€‚ éžå‚æ•°æ¨¡åž‹å¯¹æ€»ä½“çš„åˆ†å¸ƒæ²¡æœ‰è¦æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è®¡ç®—åˆ†æžè¿‡ç¨‹ä¸­ä¸ä¼šç”¨åˆ°æ€»ä½“çš„æ¦‚çŽ‡åˆ†å¸ƒè¡¨è¾¾å¼ã€‚ ä½†æ˜¯æ•°æ®å¿…é¡»å¯ä»¥è¿›è¡ŒæŽ’åºï¼Œå› æ­¤èƒ½å½±å“æŽ’åºçš„å› ç´ ï¼ˆæ•°æ®ä¸­æœ‰ç›¸ç­‰å€¼ï¼‰å¯¹æ¨¡åž‹ä¼°è®¡ç»“æžœå½±å“å·¨å¤§ã€‚ éžå‚æ•°æ¨¡åž‹é€šè¿‡æ•°æ®æœ¬èº«è¿›è¡Œæ£€éªŒå’Œé¢„æµ‹ã€‚]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pandasæ¨¡å—-åŠ è½½æ•°æ®]]></title>
    <url>%2Fpython%2F20180308-ca22.html</url>
    <content type="text"><![CDATA[æ–‡æœ¬æ–‡ä»¶è¯»å–pd.read_csv(â€¦)è¯¦ç»†è®°å½•pandasè¯»å–è¡¨æ ¼åž‹æ•°æ®æ–‡ä»¶çš„æ–¹æ³•ï¼špd.read_csv() å…¶å®žpytohnå†…ç½®äº†ä¸€ä¸ªå¯ä»¥å¤„ç†ç®€å•è§„æ•´csvæ–‡ä»¶çš„æ¨¡å—ï¼šimport csvç»™ csv.reader() ä¼ å…¥æ–‡ä»¶åž‹å¯¹è±¡å³å¯ä»€ä¹ˆï¼Ÿä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯æ–‡ä»¶åž‹å¯¹è±¡ï¼Ÿ open(fp,&#39;r&#39;) è¿”å›žçš„å°±æ˜¯æ–‡ä»¶åž‹å¯¹è±¡ é‡è¦å‚æ•°è§£æžï¼š path: è¿™ä¸ªå‚æ•°ä¸è§£é‡Šï¼Œå¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯URL sep: è¡Œå†…å­—æ®µ(åˆ—)åˆ†éš”ç¬¦ï¼Œcsvæ–‡ä»¶é»˜è®¤ä¸ºé€—å·ï¼Œè¿˜å¯ä»¥ä¸ºæ­£åˆ™è¡¨è¾¾å¼ header: æ ‡è¯†åˆ—åçš„è¡Œå·ã€‚é»˜è®¤ä¸º0ï¼Œä»£è¡¨æ–‡ä»¶ç¬¬ä¸€è¡Œæ˜¯åˆ—åï¼Œæ²¡æœ‰åˆ—åæ—¶éœ€è¦è®¾ä¸ºNone //å½“header=Noneæ—¶: names: å­—ç¬¦ä¸²ç»„æˆçš„åˆ—è¡¨ï¼ŒæŒ‡å®šåˆ—å index_col: æ ‡è¯†è¡Œç´¢å¼• ç®€å•è¡Œç´¢å¼•ï¼šåˆ—ç¼–å·ï¼ˆæ•´æ•°ï¼‰æˆ–è€…åˆ—åï¼ˆå­—ç¬¦ä¸²ï¼‰ å±‚æ¬¡åŒ–ç´¢å¼•ï¼šåˆ—ç¼–å·/åˆ—åzuchengçš„åˆ—è¡¨ ä»€ä¹ˆæ˜¯å±‚æ¬¡åŒ–ç´¢å¼•ï¼Ÿå°†å¤šä¸ªåˆ—ä½œä¸ºç´¢å¼•ï¼Œåˆ—ä¹‹é—´å°†äº§ç”Ÿå±‚æ¬¡å…³ç³» a a1 a2 b b1 b2 b3 ... skiprows: å¦‚æžœä¼ å…¥æ•´æ•°ï¼Œè¡¨ç¤ºéœ€è¦ä»Žæ–‡ä»¶å¼€å§‹å‡ºç®—èµ·éœ€è¦å¿½ç•¥çš„è¡Œæ•° å¦‚æžœä¼ å…¥æ•´æ•°åˆ—è¡¨ï¼Œè¡¨ç¤ºéœ€è¦è·³è¿‡çš„è¡Œå·åˆ—è¡¨ï¼ˆä»Ž0å¼€å§‹ï¼‰ skip_footer: æ•´åž‹ï¼Œä»Žæ–‡ä»¶æœ«å°¾ç®—èµ·éœ€è¦å¿½ç•¥çš„è¡Œæ•° nrows: æ•´åž‹ï¼Œéœ€è¦è¯»å–çš„è¡Œæ•°ï¼ˆä»Žå¼€å§‹ç®—èµ·ï¼‰ na_value: ç”¨äºŽæ›¿æ¢NaNçš„å€¼ comment: å½“è¡Œæœ«æœ‰æ³¨é‡Šä¿¡æ¯æ—¶æŒ‡å®šæ³¨é‡Šä¿¡æ¯æ ‡å¿—å­—ç¬¦ parse_dates: å°è¯•å°†æ•°æ®è§£æžä¸ºæ—¥æœŸï¼Œé»˜è®¤ä¸ºFalse ä¼ å…¥Trueï¼šå°è¯•å°†æ‰€æœ‰åˆ—éƒ½è§£æžä¸ºæ—¥æœŸï¼ˆä¸€èˆ¬æ˜¯è¡Œä¸é€šçš„ï¼‰ ä¼ å…¥åˆ—å·/åˆ—åçš„åˆ—è¡¨ï¼šä»…å°è¯•å°†æŒ‡å®šçš„ï¼ˆä¸€äº›ï¼‰åˆ—è§£æžä¸ºæ—¥æœŸ ä¼ å…¥ä¸Šä¸€è¡Œåˆ—è¡¨çš„åˆ—è¡¨ï¼šå°è¯•å°†å¤šä¸ªåˆ—è¿›è¡Œç»„åˆåŽè¿›è¡Œè§£æžï¼ˆå½“æ—¥æœŸä¸åŒéƒ¨åˆ†åˆ†æ•£åœ¨ä¸åŒçš„åˆ—ä¸­æ—¶ï¼‰ keep_date_col: å½“ç»„åˆå¤šåˆ—è§£æžæ—¶æ˜¯å¦ä¿ç•™åŽŸå§‹åˆ—ï¼Œé»˜è®¤ä¸ºFalse dayfirst: å½“æ—¥æœŸå‡ºçŽ°æ­§ä¹‰æ—¶ï¼ˆå¦‚7/6/2018ç©¶ç«Ÿæ˜¯6æœˆè¿˜æ˜¯7æœˆï¼Ÿ)æŒ‡å®šdayçš„ä½ç½®ï¼Œé»˜è®¤ä¸ºFalse date_parser: æˆ–è€…ä¼ å…¥ä¸€ä¸ªç”¨äºŽè§£æžæ—¥æœŸçš„å‡½æ•° converters: åˆ—å€¼é¢„å¤„ç†ï¼Œä¼ å…¥ä¸€ä¸ªå­—å…¸d={åˆ—å·/åˆ—å: å‡½æ•°, ...}ï¼Œè¡¨ç¤ºå¯¹ç›¸åº”åœ°åˆ—çš„å€¼å°†æ‰§è¡Œç›¸åº”åœ°å‡½æ•° iterator: ç”¨äºŽé€å—è¯»å–æ–‡ä»¶ chunksize: æ–‡ä»¶å—çš„å¤§å° verbose: æ˜¯å¦æ‰“å°æ—¥å¿— encoding: æ–‡æœ¬ç¼–ç æ ¼å¼ squeeze: æ•°æ®ç»è¿‡è§£æžåŽåªå‰©ä¸‹ä¸€åˆ—ï¼Œè¿”å›žSeriesè€Œä¸æ˜¯DataFrame thousands: åƒåˆ†ä½åˆ†éš”ç¬¦ é€å—è¯»å–å½“æ–‡ä»¶ç‰¹åˆ«å¤§æ—¶æˆ‘é—¨å¯èƒ½åªæ˜¯æƒ³è¯»å–æ–‡ä»¶çš„ä¸€å°éƒ¨åˆ†æˆ–è€…é€å—è¿­ä»£ å¦‚æžœæˆ‘ä»¬åªæ˜¯æƒ³è¯»æ–‡ä»¶å¼€å§‹å‡ è¡Œï¼Œä½¿ç”¨å…³é”®å­—å‚æ•° nrowsã€‚ï¼ˆQ: é‚£ä¸­é—´å‡ è¡Œå‘¢ï¼Ÿï¼‰ é€å—è¿­ä»£ï¼šread_csgv æŒ‡å®š chunksize åŽå°†è¿”å›žä¸€ä¸ªTextParserç”¨äºŽåŽç»­è¿­ä»£Q: æŒ‰å›ºå®šå­—ç¬¦æ•°è¯»å–ï¼ŸIf so, è²Œä¼¼åªé€‚ç”¨äºŽè¡Œå­—ç¬¦æ•°ç›¸åŒçš„æ–‡ä»¶? XMLæ–‡ä»¶è¯»å–ç•¥ äºŒè¿›åˆ¶æ–‡ä»¶è¯»å–pickleåºåˆ—åŒ–é¦–å…ˆå¾—äº†è§£pythonå†…ç½®çš„pickleåºåˆ—åŒ–ä¿å­˜pandaså¯¹è±¡åˆ°ç£ç›˜ï¼šPD_OBJ.save(FILE_NAME)ä»Žç£ç›˜å–å›žpandaså¯¹è±¡ï¼šPD_OBJ.load(FILE_NAME) HDF5æ ¼å¼ é«˜æ•ˆè¯»å†™ç£ç›˜ä¸Šä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨çš„ç§‘å­¦æ•°æ®HDF: Hierarchical Data Formaté«˜æ•ˆåˆ†å—è¯»å†™pythonä¸­æœ‰ä¸¤ä¸ªæŽ¥å£ï¼šPyTables + h5pypandaså»ºç«‹HDFStoreç±»ï¼Œé€šè¿‡PyTableså­˜å‚¨å¯¹è±¡ å­˜å‚¨HDFStoreç±»ç±»ä¼¼äºŽå­—å…¸ï¼Œåˆ›å»ºHDFStoreå¯¹è±¡åŽæŒ‰ç…§å­—å…¸æ–¹å¼èµ‹å€¼å³å¯ã€‚ //&lt;class &apos;pandas.io.pytables.HDFStore&apos;&gt; store = pd.HDFStore(OUTPUT_FILE) store[&apos;obj1&apos;] = dataframe store[&apos;obj1_col&apos;] = dataframe[&apos;a&apos;] å¯¹äºŽIOå¯†é›†åž‹æ•°æ®ï¼ˆè€ŒéžCPUå¯†é›†åž‹æ•°æ®ï¼‰ï¼Œä½¿ç”¨HDF5èƒ½å¤Ÿå¤§å¤§æå‡æ•ˆçŽ‡ Excelæ ¼å¼pandaä¸­ç›¸å…³çš„ç±»ï¼šExcelFileä¾èµ–åŒ…ï¼šxlrd, openpyxl åˆ›å»ºå®žä¾‹ï¼šxls_file = pd.ExcelFile(XLS_FILE) è¯»å–æ•°æ®ï¼štable = xls_file.parse(&#39;Sheet1&#39;) ä½¿ç”¨HTMLå’ŒWeb APIä½¿ç”¨æ•°æ®åº“å­˜å–MongoDBä¸­çš„æ•°æ®]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pandasæ¨¡å—-Seriesç±»å’ŒDataFrameç±»]]></title>
    <url>%2Fpython%2F20180307-3057.html</url>
    <content type="text"><![CDATA[pandasæ˜¯åŸºäºŽnumpyæž„å»ºçš„é«˜çº§æ•°æ®ç»“æž„å’Œæ“ä½œå·¥å…·ã€‚ pandasçš„æ•°æ®ç»“æž„Seriesç±»ä¼¼äºŽä¸€ç»´æ•°ç»„çš„å¯¹è±¡ï¼Œç´¢å¼•å³æ ‡ç­¾å¯¼å…¥ï¼š from pandas import Seriesåˆå§‹åŒ–ï¼š obj = Series([-1, 3, 1, 4]) obj = Series([-1, 3, 1, 4], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])pandaså¯ä»¥è¢«å½“åšå­—å…¸ä½¿ç”¨~ obj = Series({&#39;a&#39;:-1, &#39;b&#39;:3, &#39;c&#39;:1})ï¼šä¸æŒ‡å®šindexä½¿ç”¨ä¼ å…¥å­—å…¸çš„é”® obj = Series({&#39;a&#39;:-1, &#39;b&#39;:3, &#39;c&#39;:1}, index=[&#39;a&#39;,&#39;b&#39;])ï¼šä½¿ç”¨indexæ—¶å°†æŒ‰ç…§indexåŽ»å­—å…¸ä¸­æŒ‘é€‰ï¼Œå¦‚æžœè¯¥å­—å…¸ä¸­é”®å€¼å¯¹ä¸å­˜åœ¨åˆ™è®¾ä¸ºNaNï¼ˆç¼ºå¤±å€¼ï¼‰ã€‚ ä½¿ç”¨ obj.isnull() å’Œ obj.notnull() æ£€æµ‹æ˜¯å¦ä¸ºç¼ºå¤±å€¼ obj.isnull() ç­‰ä»·äºŽ pd.isnull(obj) , notnull() ç±»ä¼¼ åŸºæœ¬å±žæ€§ï¼š obj.values æŸ¥çœ‹å€¼ obj.index æŸ¥çœ‹ç´¢å¼• obj.name obj.index.name DataFrameè¡¨æ ¼åž‹æ•°æ®ç»“æž„æ•°æ®ä»¥äºŒç»´å—å­˜æ”¾ï¼Œè¡Œåˆ—æ“ä½œæ¯”è¾ƒå¹³è¡¡ï¼Œå› ä¸ºå­˜æ”¾ç»“æž„å¹¶ä¸æ˜¯ç®€å•çš„å¤åˆä¸€ç»´æ•°æ®ç»“æž„ï¼ˆå¦‚åŽŸç”Ÿçš„åµŒå¥—åˆ—è¡¨ï¼Œè¡Œçš„æ“ä½œæ¯”åˆ—ç®€å•ï¼‰å¯¼å…¥ï¼šfrom pandas import DataFrameåˆå§‹åŒ–ï¼š ä¼ å…¥å­—å…¸ï¼šé”®ä¸ºåˆ—çš„åç§°ï¼Œå€¼ä¸ºç­‰é•¿çš„åˆ—è¡¨æˆ–è€…ndarrayæ­¤æ—¶ç´¢å¼•é»˜è®¤ä¸ºè‡ªç„¶æ•°0åˆ°N-1ï¼›æˆ–è€…é€šè¿‡ index ä¼ å…¥ç´¢å¼•å€¼ã€‚ç´¢å¼•å€¼å¯¹åº”çš„åˆ—å¦‚æžœæ²¡æœ‰å€¼å°†è®¾ä¸ºNaN â†“â†“â†“ æœªæŒ‡å®šåˆ—çš„é¡ºåºï¼Œå°†æŒ‰ç…§åˆ—åç§°è‡ªåŠ¨æŽ’åºï¼šä¼ å…¥çš„åˆ—åæ˜¯name age, å®žé™…å­˜å‚¨çš„é¡ºåºæ˜¯age nameframe = DataFrame({&#39;name&#39;:[&#39;aa&#39;,&#39;cc&#39;,&#39;bb&#39;], &#39;age&#39;:[21, 24, 18]}) â†“â†“â†“ æˆ–è€…é€šè¿‡ columns æŒ‡å®šåˆ—çš„é¡ºåºï¼šæŒ‰ç…§columnszhidingçš„é¡ºåºè¿›è¡Œå­˜å‚¨frame = DataFrame({&#39;name&#39;:[&#39;aa&#39;,&#39;cc&#39;,&#39;bb&#39;], &#39;age&#39;:[21, 24, 18]}, columns=[&#39;name&#39;, &#39;age&#39;]) ä¼ å…¥åµŒå¥—å­—å…¸ï¼šå¤–é”®è¢«è§£é‡Šä¸ºåˆ—å(columns)ï¼Œå†…é”®è¢«è§£é‡Šä¸ºç´¢å¼•(index)ï¼Œè‡ªåŠ¨å¡«å……ç¼ºå¤±æ•°æ®å†…é”®å°†ä¼šè¢«é‡æ–°æŽ’åºå½¢æˆæœ‰åºçš„ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨index=æ˜¾ç¤ºæŒ‡å®šç´¢å¼•çš„é¡ºåºï¼ŒåŒæ—¶è¿˜èƒ½èµ·åˆ°ç­›é€‰çš„ä½œç”¨ å®žé™…ä¸Šå¯ä»¥ä¼ å…¥ç”±åˆ—è¡¨ã€å…ƒç»„ã€ndarrayã€Seriesã€å­—å…¸å¤åˆè€Œæˆçš„å¤šç§æ•°æ®ç»“æž„ åŸºæœ¬æ“ä½œï¼š èŽ·å–åˆ—ï¼šframe[&#39;name&#39;] or frame.nameï¼Œå®žé™…ä¸Šæ˜¯ä¸€ä¸ªSeriesç´¢å¼•èŽ·å–çš„åˆ—æ˜¯åŽŸæ•°æ®çš„è§†å›¾ï¼Œä¿®æ”¹Serieså°†åé¦ˆåˆ°åŽŸæ•°æ®ï¼Œå¤åˆ¶è¯·ä½¿ç”¨Series.copy() ä¿®æ”¹åˆ—ï¼šç›´æŽ¥ç»™åˆ—èµ‹å€¼æ ‡é‡æˆ–è€…å‘é‡ èµ‹æ ‡é‡å°†è‡ªåŠ¨å¹¿æ’­ èµ‹åˆ—è¡¨æˆ–è€…æ•°ç»„ä¸€å®šè¦ä¿è¯é•¿åº¦ä¸€è‡´ èµ‹Seriesä¼šå¯¹ç´¢å¼•è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œç©ºä½å¡«ä¸ŠNaN æ·»åŠ åˆ—ï¼šç”¨frame[&quot;new_column_name&quot;]=...è¿›è¡Œèµ‹å€¼å°†è‡ªåŠ¨æ·»åŠ æ–°åˆ—ï¼Œframe.new_column_nameä¸å¯ä»¥ åˆ é™¤åˆ—ï¼šdel frame[&quot;existed_column_name&quot;]ï¼Œdel frame.existed_column_nameä¸å¯ä»¥ èŽ·å–åˆ—åï¼šframe.columns è¡¨çš„è½¬ç½®ï¼šframe.Tï¼ŒQ:æ˜¯å¦æ˜¯è§†å›¾ï¼Ÿ èŽ·å–ndarrayæ•°ç»„ï¼šframe.valueså½“åˆ—çš„æ•°æ®ç±»åž‹ä¸ä¸€è‡´æ—¶è¿”å›žæ•°ç»„çš„æ•°æ®ç±»åž‹å°†ä½¿ç”¨èƒ½å…¼å®¹æ‰€æœ‰åˆ—çš„æ•°æ®ç±»åž‹çš„ç±»åž‹ ç´¢å¼•å¯¹è±¡ç®¡ç†è½´æ ‡ç­¾ã€è½´åç§°ç­‰é¢å¤–æ•°æ®å­—ç¬¦ä¸²ç´¢å¼•ï¼š&lt;class &#39;pandas.core.indexes.base.Index&#39;&gt;è‡ªç„¶æ•°ç´¢å¼•ï¼š&lt;class &#39;pandas.core.indexes.range.RangeIndex&#39;&gt; indexå¯ä»¥æ•´ä½“æ›¿æ¢æŽ‰ï¼Œä½†ä¸èƒ½å•ä¸ªä¿®æ”¹(immutable) â†’ å®‰å…¨å…±äº« ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ æ“ä½œSeieså’ŒDataFrameä¸­çš„æ•°æ®é‡æ–°ç´¢å¼• obj.reindex(â€¦) å¦‚æžœæ–°ç´¢å¼•ä¸­åŒ…å«åŽŸç´¢å¼•ä¸­æ²¡æœ‰çš„å€¼å°†äº§ç”Ÿç¼ºå¤±å€¼ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­—fill_valueæŒ‡å®šç¼ºå¤±é»˜è®¤å€¼ æ—¶é—´åºåˆ—çš„å‰å‘æ’å€¼ï¼šæ—¶é—´è½´ä¸Šç¼ºå¤±çš„ç´¢å¼•å¯¹åº”çš„å€¼ä¸Žæ¯”å®ƒå¤§çš„åŽŸæ¥å­˜åœ¨çš„ç´¢å¼•å¯¹åº”çš„å€¼çš„ç›¸åŒï¼ˆå‰å‘æ’å€¼ï¼‰ ä½¿ç”¨å‰å‘å·®å€¼ï¼šobj.reindex(NEW_INDEX, method=&#39;ffill&#39;) ä½¿ç”¨åŽå‘å·®å€¼ï¼šobj.reindex(NEW_INDEX, method=&#39;bfill&#39;) å®žé™…ä¸Šè¿˜æœ‰æ›´ç²¾ç¡®çš„æ’å€¼æ–¹å¼â€¦ DataFrameçš„é‡æ–°ç´¢å¼• è¡Œé‡æ–°ç´¢å¼•: frame.reindex(NEW_INDEX) åˆ—é‡æ–°ç´¢å¼•: frame.reindex(columns=NEW_INDEX) è¡Œåˆ—åŒæ—¶é‡æ–°ç´¢å¼•ï¼šframe.reindex(NEW_ROW_INDEX, columns=NEW_COLUMN_INDEX) æ’å€¼ï¼šåªèƒ½æŒ‰è¡Œæ’ï¼Œå³æŒ‰è¡Œç´¢å¼•æ’ ä¸¢å¼ƒæŒ‡å®šè½´ä¸Šçš„é¡¹ obj.drop(â€¦)å°†è¿”å›žä¸€ä¸ªæ–°å¯¹è±¡ï¼ï¼ åŽŸæ¥çš„ç´¢å¼•ï¼š[â€˜aâ€™,â€™bâ€™,â€™câ€™,â€™dâ€™,â€™eâ€™]ä¸¢å¼ƒï¼šobj.drop(&#39;c&#39;)ï¼Œæ–°ç´¢å¼•ï¼š[â€˜aâ€™,â€™bâ€™,â€™dâ€™,â€™eâ€™]ä¸¢å¼ƒï¼šobj.drop([&#39;c&#39;,&#39;d&#39;])ï¼Œæ–°ç´¢å¼•ï¼š[â€˜aâ€™,â€™bâ€™,â€™eâ€™] ç´¢å¼•ã€é€‰å–ã€è¿‡æ»¤ ç›´æŽ¥ç´¢å¼•ï¼šobj[&#39;c&#39;] åˆ‡ç‰‡åŒ…å«æœ«ç«¯ï¼ï¼ï¼ ç»“åˆåˆ—çš„åˆ‡ç‰‡å’Œå¸ƒå°”è¿ç®—æ¥é€‰å–è¡Œ frame[frame[&#39;three&#39;] &gt; 3]å°†ä»¥â€threeâ€åˆ—ä¸ºä¾æ®é€‰å–â€threeâ€åˆ—ä¸­æ‰€æœ‰å€¼å¤§äºŽ3çš„è¡Œ â†’ æ‰€ä»¥å®žé™…é€‰å–çš„æ˜¯ç‰¹å®šçš„æŸäº›è¡Œ frame[frame &lt; 5 = 0]ç»™è¡¨ä¸­æ‰€æœ‰å°äºŽ5çš„ä½ç½®é‡æ–°èµ‹å€¼ä¸º0 frame &lt; 5 æœ¬èº«åº”è¯¥æ˜¯å¸ƒå°”å€¼ï¼ˆé€»è¾‘è¿ç®—ï¼‰ï¼Œæ‰€ä»¥ä¼šå¾—åˆ°ä¸€ä¸ªç”±å¸ƒå°”å€¼ç»„æˆçš„æ–°DataFrameå¸ƒå°”è¿ç®—çš„ç‰¹æ€§å®žé™…ä¸Šåº”è¯¥ç»§æ‰¿è‡ªnumpy ç´¢å¼•å…³é”®å­—ix ç®—æ•°è¿ç®—å’Œæ•°æ®å¯¹é½æ•°æ®å¯¹é½ï¼šSeriesæˆ–è€…DataFrameå¯¹è±¡é—´çš„åŠ æ³•ä¼šè‡ªåŠ¨åˆå¹¶ç›¸åŒè½´ä¸Šçš„ç´¢å¼•å¹¶è‡ªåŠ¨å¡«å……NaN â†’ å–å¹¶é›† DataFrameå¯¹è±¡çš„ç®—æ•°è¿ç®—ï¼ˆä»¥åŠ æ³•ä¸ºä¾‹ï¼‰* `df = df1 + df2` ä»¥df1ä¸ºä¸»è¡¨ï¼Œå°†df2çš„è¡Œã€åˆ—ç´¢å¼•åŠ åˆ°df1é‡Œé¢åŽ»ï¼šdf1ä¸­å­˜åœ¨çš„å°†æ‰§è¡ŒåŠ æ³•ï¼Œä¸å­˜åœ¨çš„ä¸ºNaN * `df = df1.add(df2, fill_value=0)` å¯ä»¥è¿™æ ·ç†è§£ï¼š * å…ˆå°†df2çš„è¡Œåˆ—ç´¢å¼•åˆå¹¶åˆ°df1ä¸­å¾—åˆ°å¹¶é›†è¡¨dfï¼ˆæš‚æ—¶å‡è®¾å°†æ‰€æœ‰å€¼è®¾ä¸ºNaNï¼‰ * å†å°†ä¸»è¡¨df1ä¸­çš„å­˜åœ¨çš„å€¼å¡«å…¥dfï¼ˆåŽ»æŽ‰ä¸€éƒ¨åˆ†NaNï¼‰ * å†å°†dfä¸­å‰©ä½™çš„NaNä½ç½®æ”¹æˆ`fill_value`ï¼ˆåŽ»æŽ‰æ‰€æœ‰NaNï¼‰ * å†å°†df2ä¸­æ‰€æœ‰å…ƒç´ åŠ åˆ°dfçš„ç›¸å…³ä½ç½®ï¼ˆdf2ä¸­æ‰€æœ‰ç´¢å¼•å¿…å®šå·²ç»å­˜åœ¨äºŽdfä¸­ï¼‰ * ï¼ˆæ‹¬å·å†…çš„å†…å®¹çº¯å±žæ–¹ä¾¿ç†è§£ï¼Œå°šæœªéªŒè¯ï¼Œç®—ä¸å¾—æ•°ï¼‰ * å…¶ä»–è¿ç®—ç±»ä¼¼ï¼š * å‡æ³• sub - * ä¹˜æ³• mul * * é™¤æ³• div / DataFrameå’ŒSeriesé—´çš„è¿ç®—æ¶‰åŠå¹¿æ’­æœºåˆ¶ï¼ˆbroadcastingï¼‰ï¼Œç†Ÿæ‚‰numpyçš„è¯åº”è¯¥ä¹Ÿç†Ÿæ‚‰å¹¿æ’­æœºåˆ¶ã€‚ã€‚ã€‚ * æœ€ç®€å•çš„å¹¿æ’­ï¼šSeriesçš„ç´¢å¼•ä¸ŽDataFrameçš„è¡Œ/åˆ—ç´¢å¼•ç›¸åŒ * ä¸Šè¿°ç´¢å¼•ä¸å®Œå…¨ç›¸åŒæ—¶ï¼Œå…ˆå¯¹ç´¢å¼•å–å¹¶é›†ï¼Œå†è¿›è¡Œå¹¿æ’­ å‡½æ•°åº”ç”¨å’Œæ˜ å°„* numpyä¸­æ“çºµæ•°ç»„å…ƒç´ çš„æ–¹æ³•ï¼ˆå¦‚np.abs)ä¹Ÿå¯ä»¥ç”¨æ¥æ“çºµpandaså¯¹è±¡ * æ“çºµpandaså¯¹è±¡çš„è¡Œ/åˆ—æ•°ç»„ä½¿ç”¨ `obj.apply(lambda x: x.min(), axis=1)`ï¼ˆä¸€èˆ¬ç”¨ä¸ä¸Šï¼‰ * ä½¿ç”¨å…ƒç´ çº§çš„pythonå‡½æ•°æ“çºµpandaså…ƒç´ ï¼šä¾‹å¦‚`obj.applymap(lambda x: &quot;{:.2f}&quot;.format(x))` æŽ’åº* SeriesæŒ‰indexæŽ’åºï¼š`obj.sort_index()` * SeriesæŒ‰valuesæŽ’åºï¼š`obj.order()`,ç¼ºå¤±å€¼å°†æŒ‰indexæŽ’åºåŽä¸¢åˆ°æœ«å°¾ * DataFrameæŒ‰æŒ‡å®šè½´çš„indexæŽ’åºï¼š`df.sort_index(axis=0)`,é»˜è®¤ä¸º0 * DataFrameæŒ‰æŸåˆ—å€¼æŽ’åºï¼šä¾‹å¦‚ `df.sort_index(by=&apos;a&apos;)` * DataFrameæŒ‰å¤šåˆ—å€¼æŽ’åºï¼šä¾‹å¦‚ `df.sort_index(by=[&apos;a&apos;,&apos;b&apos;])` * é»˜è®¤å‡åºï¼Œé™åºè®¾ç½® `ascending=False` æŽ’å(ranking)æ ¹æ®æŸç§è§„åˆ™ç ´åè¯„çº§å…³ç³»ã€‚åŽŸè‘—æ˜¯è¿™ä¹ˆè¯´çš„ï¼Œä¸è¿‡å¾ˆè´¹è§£ä¸æ˜¯å— ä»¥ obj = Series([7, -5, 7, 4, 2, 0, 4]) ä¸ºä¾‹ï¼Œobj.rank() è¿”å›žçš„å®žé™…ä¸Šæ˜¯ Series([6.5, 1.0, 6.5, 4.5, 3.0, 2.0, 4.5])ã€‚é¦–å…ˆæˆ‘ä»¬å¯ä»¥èŽ·å–ä¸€ä¸ªç±»ä¼¼äºŽargsortçš„åºåˆ—[6, 1ï¼Œ7, 4, 3, 2, 5]ï¼Œç„¶åŽè€ƒè™‘ç›¸åŒçš„å€¼ï¼šä¸¤ä¸ªâ€˜7â€™çš„ä½ç½®åˆ†åˆ«ä¸º7å’Œ6ï¼Œå› æ­¤éƒ½æ”¹ä¸ºå‡å€¼(7+6)/2=6.5ï¼Œä¸¤ä¸ªâ€˜4â€™çš„ä½ç½®åˆ†åˆ«ä¸º7å’Œ6ï¼Œå› æ­¤éƒ½æ”¹ä¸ºå‡å€¼(5+4)/2=4.5ï¼Œå› æ­¤ç®—å‡ºç»“æžœã€‚ï¼ˆè‡³äºŽæœ‰ä»€ä¹ˆç”¨ï¼ŒçŽ°åœ¨æˆ‘è¿˜ä¸çŸ¥é“ã€‚ã€‚ã€‚ï¼‰ å…³é”®è¯ method : {&#39;average&#39;, &#39;min&#39;, &#39;max&#39;, &#39;first&#39;, &#39;dense&#39;} æŒ‡å®šæŽ’åæ–¹æ³•ï¼š averageï¼šé»˜è®¤å€¼ï¼Œå¦‚ä¸Šå–ç›¸åŒå€¼ç´¢å¼•çš„å¹³å‡å€¼ä»¥ä¿è¯æ¯ä¸ªç›¸åŒçš„å…ƒç´ å…·æœ‰ç›¸åŒçš„æŽ’å return Series([6.5, 1.0, 6.5, 4.5, 3.0, 2.0, 4.5]) firstï¼šä¸ŽargsortåŠŸèƒ½ç›¸åŒï¼ŒæŒ‰å€¼å‡ºçŽ°é¡ºåºæŽ’åï¼Œç»“æžœåº”è¯¥æ˜¯è¿žç»­çš„æ­£æ•´æ•° return Series([6.0, 1.0, 7.0, 4.0, 3.0, 2.0, 5.0]) minï¼šç›¸åŒå€¼çš„æŽ’åå…¨éƒ¨å–æœ€å°çš„é‚£ä¸ª return Series([6.5, 1.0, 6.0, 4.0, 3.0, 2.0, 4.0]) maxï¼šç›¸åŒå€¼çš„æŽ’åå…¨éƒ¨å–æœ€å¤§çš„é‚£ä¸ª return Series([7.0, 1.0, 7.0, 5.0, 3.0, 2.0, 5.0]) denseï¼šminå’Œmaxä¼šè·³å€¼ï¼Œdenseä¸ä¼š return Series([5.0, 1.0, 5.0, 4.0, 3.0, 2.0, 4.0]) å¸¦æœ‰é‡å¤å€¼çš„è½´ç´¢å¼•ä¸€èˆ¬æƒ…å†µä¸‹è½´ç´¢å¼•çš„å€¼å”¯ä¸€ï¼ˆç±»ä¼¼äºŽâ€œé”®â€çš„æ¦‚å¿µï¼‰ï¼Œä½†è¿™å¹¶ä¸æ˜¯ç¡¬æ€§è¦æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½´ç´¢å¼•å¯ä»¥é‡å¤@_@ã€‚ï¼ˆä¸€èˆ¬åº”è¯¥ä¹Ÿç”¨ä¸ä¸Šå§ï¼Ÿï¼‰ åˆ¤æ–­pandaså¯¹è±¡çš„ç´¢å¼•å€¼æ˜¯å¦å”¯ä¸€ï¼šobj.index.is_unique: boolã€‚ï¼ˆpandaså¯¹è±¡æŒ‡çš„æ˜¯Serieså¯¹è±¡æˆ–è€…DataFrameå¯¹è±¡ï¼‰ å¯¹ä¸å”¯ä¸€çš„ç´¢å¼•è¿›è¡Œè®¿é—®å°†è¿”å›žæ‰€æœ‰ç¬¦åˆå€¼æž„æˆçš„pandaså¯¹è±¡ï¼Œè®¿é—®å”¯ä¸€ç´¢å¼•è¿”å›žæ ‡é‡ å¸¸ç”¨çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•çº¦ç®€æ–¹æ³• æ±‚å’Œï¼šé»˜è®¤æŒ‰åˆ—æ±‚å’Œï¼Œè‡ªåŠ¨æŽ’é™¤NaNå€¼ï¼šdf.sum(axis=0, skipna=True)ã€‚æŒ‰è¡Œæ±‚å’ŒæŒ‡å®š axis=1;ç¦ç”¨è‡ªåŠ¨è·³è¿‡NaNæŒ‡å®š skipna=False count,min,max,argmin,argmax,idxmin,idxmax,sum,mean,media,mad,var,std,â€¦ ç´¯è®¡æ–¹æ³• ç´¯è®¡æ±‚å’Œï¼šdf.cumsum() ç‰¹æ®Šæ–¹æ³• df.describe()ï¼šä¸€æ¬¡æ€§äº§ç”Ÿå¤šä¸ªç»Ÿè®¡ç»“æžœï¼ˆç»Ÿè®¡é‡) æœ‰è¶£çš„ç»Ÿè®¡é‡ corrã€corrwithï¼šç›¸å…³ç³»æ•° covï¼šåæ–¹å·®ï¼ˆçŸ©é˜µï¼‰ ã€‚ã€‚ã€‚ã€‚ æ”¹å¤©å†çœ‹ï¼Œé¡ºä¾¿ç»ƒä¹ ç›²æ‰“ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å›žå½’æ¨¡åž‹ç»“æžœåº¦é‡æŒ‡æ ‡]]></title>
    <url>%2Fml%2F20180306-c444.html</url>
    <content type="text"><![CDATA[å›žå½’æ¨¡åž‹å› ä¸ºé¢„æµ‹å€¼è¿žç»­ï¼Œå¾ˆéš¾ç”¨â€˜å‡†ç¡®åº¦â€™è¿™ç±»æŒ‡æ ‡åŽ»è¡¡é‡ã€‚å›žå½’æ¨¡åž‹è¯„ä¼°æ–¹æ³•ä¸»è¦æœ‰ï¼š MAE (Mean Absolute Error, å¹³å‡ç»å¯¹è¯¯å·®)sklearn API: from sklearn.metrics import mean_absolute_errorformula:$$MAE=\frac1n\sum_{i=1}^n{|f_i-y_i|}$$ è¿™ä¸ªå¾ˆçŸ¬ï¼Œä¸€èˆ¬ä¸ç”¨ï¼ MSE (Mean Squre Error, å‡æ–¹è¯¯å·®)sklearn API: from sklearn.metrics import mean_squared_errorformula:$$MSE=\frac1n\sum_{i=1}^n{(f_i-y_i)^2}$$ è¿™ä¸ªå¾ˆæµè¡Œï¼ RMSE (Rooted Mean Square Error, å‡æ–¹æ ¹è¯¯å·®)formula:$$RMSE=\sqrt{MSE}$$ ä¸Žä¸Šé¢çš„MSEæ²¡æœ‰åŒºåˆ«ï¼Œä¸€èˆ¬ä½¿ç”¨MSEå³å¯ï¼æ³¨æ„ï¼šå¦‚æžœæ˜¯åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä½œä¸ºlosså‡½æ•°ï¼Œéœ€è¦åˆç†é€‰æ‹©MSE/RMSE R2 (R-Squared)sklearn API: from sklearn.metrics import r2_scoreformula:$$y_m=\frac1n\sum_{i=1}^n{y_{t_i}}$$$$R^2=1-\frac{\sum_{i=1}^n{(y_{p_i}-y_{t_i})^2}}{\sum_{i=1}^n{(y_{t_i}-y_m)^2}}$$$y_p$ means prediction while $y_t$ means truth. å°†é¢„æµ‹å€¼ä¸Žåªä½¿ç”¨å‡å€¼çš„æƒ…å†µè¿›è¡Œæ¯”è¾ƒ å½“ $y_{p_i}=y_m$æ—¶ï¼Œ$R^2=0$ $\rightarrow$ å®Œå…¨ä¸æ²¾è¾¹ï¼Œè¿˜ä¸å¦‚ä½¿ç”¨å‡å€¼ å½“ $y_{p_i}=y_{t_i}$ æ—¶ï¼Œ$R^2=1$ $\rightarrow$ å®Œå…¨åŒ¹é…ï¼ˆå®žé™…ä¸Šåº”è¯¥æ˜¯è¾¾ä¸åˆ°çš„ï¼‰ æ®è¯´ $0{\le}R^2{\le}1$ï¼Œå°šæœªäº²èº«éªŒè¯]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[èšç±»ç»“æžœè¯„ä¼°]]></title>
    <url>%2Fml%2F20180302-90e6.html</url>
    <content type="text"><![CDATA[ä¸€ä¸ªå¥½çš„èšç±»ç»“æžœè¦æ±‚è¾ƒé«˜çš„ç°‡å†…ç›¸ä¼¼åº¦ (intra-) å’Œè¾ƒä½Žçš„ç°‡é—´ç›¸ä¼¼åº¦ (inter-) ã€‚æ ¹æ®æ¨¡åž‹æ¯”è¾ƒçš„å¯¹è±¡ä¸åŒï¼Œèšç±»ç»“æžœè¯„ä¼°æŒ‡æ ‡å¯ä»¥åˆ†ä¸ºå¤–éƒ¨æŒ‡æ ‡ (external) å’Œå†…éƒ¨æŒ‡æ ‡ (internal) ä¸¤ç±»ï¼š å¤–éƒ¨æŒ‡æ ‡ï¼šéœ€è¦å‚è€ƒæ¨¡åž‹ï¼Œæ¯”è¾ƒæ ·æœ¬åœ¨ä¸åŒæ¨¡åž‹ä¸­çš„åˆ†ç±»æƒ…å†µï¼› å†…éƒ¨æŒ‡æ ‡ï¼šåŸºäºŽè‡ªå·±çš„èšç±»ç»“æžœï¼Œä¸å€ŸåŠ©æ¨¡åž‹é—´çš„æ¯”è¾ƒã€‚ å¤–éƒ¨æŒ‡æ ‡å¤–éƒ¨æŒ‡æ ‡ä¸€èˆ¬åŸºäºŽæ ·æœ¬å¯¹çš„åˆ†ç±»ä¸€è‡´æ€§æƒ…å†µå¯¼å‡ºã€‚ é›†åˆè¡¨ç¤º $n$ ä¸ªæ ·æœ¬çš„é›†åˆå…±æœ‰ $\mathrm{C}_n^2$ ä¸ªæ ·æœ¬å¯¹ï¼ŒæŒ‰ç…§æ¯ä¸ªæ ·æœ¬å¯¹åœ¨æœ¬æ¨¡åž‹å’Œå‚è€ƒæ¨¡åž‹ä¸­çš„åˆ†ç±»ä¸€è‡´æ€§å¯ä»¥å°†æ‰€æœ‰æ ·æœ¬å¯¹åˆ†ä¸ºå››ç±»ï¼š$$a=|SS|, \quad SS = \left\lbrace{ \left({\boldsymbol{x}_i,\boldsymbol{x}_j}\right)\;|\; \lambda_i = \lambda_j, \; \lambda_i^\ast = \lambda_j^\ast, \; i &lt; j}\right\rbrace \\b=|SD|, \quad SD = \left\lbrace{ \left({\boldsymbol{x}_i,\boldsymbol{x}_j}\right)\;|\; \lambda_i = \lambda_j, \; \lambda_i^\ast \neq \lambda_j^\ast, \; i &lt; j}\right\rbrace \\c=|DS|, \quad SD = \left\lbrace{ \left({\boldsymbol{x}_i,\boldsymbol{x}_j}\right)\;|\; \lambda_i \neq \lambda_j, \; \lambda_i^\ast = \lambda_j^\ast, \; i &lt; j}\right\rbrace \\b=|DD|, \quad DD = \left\lbrace{ \left({\boldsymbol{x}_i,\boldsymbol{x}_j}\right)\;|\; \lambda_i \neq \lambda_j, \; \lambda_i^\ast \neq \lambda_j^\ast, \; i &lt; j}\right\rbrace$$ä¸Šé¢çš„å®šä¹‰ä¸­ï¼Œ$\lambda_i$ è¡¨ç¤ºæ ·æœ¬ $i$ åœ¨æœ¬æ¨¡åž‹ä¸­çš„ç±»åˆ«ï¼Œ$\lambda_i^\ast$ è¡¨ç¤ºæ ·æœ¬ $i$ åœ¨å‚è€ƒæ¨¡åž‹ä¸­çš„ç±»åˆ«ã€‚ å› æ­¤ç›´è§‚ç†è§£ä¸Šé¢çš„å®šä¹‰ï¼š $SS$ æ˜¯åœ¨æœ¬æ¨¡åž‹ä¸­å±žäºŽåŒä¸€ç±»ã€åœ¨å‚è€ƒæ¨¡åž‹ä¸­ä¹Ÿå±žäºŽåŒä¸€ç±»çš„æ ·æœ¬å¯¹çš„é›†åˆï¼Œ$a$ æ˜¯é›†åˆ $SS$ çš„å…ƒç´ ä¸ªæ•°ï¼› $SD$ æ˜¯åœ¨æœ¬æ¨¡åž‹ä¸­å±žäºŽåŒä¸€ç±»ã€åœ¨å‚è€ƒæ¨¡åž‹ä¸­ä¸å±žäºŽåŒä¸€ç±»çš„æ ·æœ¬å¯¹çš„é›†åˆï¼Œ$b$ æ˜¯é›†åˆ $SD$ çš„å…ƒç´ ä¸ªæ•°ï¼› $DS$ æ˜¯åœ¨æœ¬æ¨¡åž‹ä¸­ä¸å±žäºŽåŒä¸€ç±»ã€åœ¨å‚è€ƒæ¨¡åž‹ä¸­å±žäºŽåŒä¸€ç±»çš„æ ·æœ¬å¯¹çš„é›†åˆï¼Œ$c$ æ˜¯é›†åˆ $DS$ çš„å…ƒç´ ä¸ªæ•°ï¼› $DD$ æ˜¯åœ¨æœ¬æ¨¡åž‹ä¸­ä¸å±žäºŽåŒä¸€ç±»ã€åœ¨å‚è€ƒæ¨¡åž‹ä¸­ä¹Ÿä¸å±žäºŽåŒä¸€ç±»çš„æ ·æœ¬å¯¹çš„é›†åˆï¼Œ$d$ æ˜¯é›†åˆ $DD$ çš„å…ƒç´ ä¸ªæ•° å½“å‚è€ƒåˆ†å¸ƒæ˜¯çœŸå®žåˆ†å¸ƒæ—¶ï¼Œæ­¤æ—¶å‚è€ƒæ¨¡åž‹æ˜¯ç†æƒ³æ¨¡åž‹ï¼Œå³$$SS = TP \; \text{(çœŸé˜³æ€§)ï¼› } SD = FP \; \text{(å‡é˜³æ€§)ï¼› }DS = FN \; \text{(å‡é˜´æ€§)ï¼› } SS = TN \; \text{(çœŸé˜´æ€§)ï¼› }$$çŸ©é˜µè¡¨ç¤º æ ·æœ¬å¯¹çš„åˆ†ç±»ä¸€è‡´æ€§ä¹Ÿå¯ä»¥é€šè¿‡ä¸¤ä¸ªçŸ©é˜µè¡¨ç¤º$$X_{pair}=\left[\begin{matrix}I(x_1,x_1) &amp; I(x_1,x_2) &amp; \cdots &amp; I(x_1,x_n) \\I(x_2,x_1) &amp; I(x_2,x_2) &amp; \cdots &amp; I(x_2,x_n) \\\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\I(x_n,x_1) &amp; I(x_n,x_2) &amp; \cdots &amp; I(x_n,x_n)\end{matrix}\right]$$ $$Y_{pair}=\left[\begin{matrix}I^\ast(x_1,x_1) &amp; I^\ast(x_1,x_2) &amp; \cdots &amp; I^\ast(x_1,x_n) \\I^\ast(x_2,x_1) &amp; I^\ast(x_2,x_2) &amp; \cdots &amp; I^\ast(x_2,x_n) \\\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\I^\ast(x_n,x_1) &amp; I^\ast(x_n,x_2) &amp; \cdots &amp; I^\ast(x_n,x_n)\end{matrix}\right]$$ $I(x_i,x_j) \in \lbrace 0, \; 1 \rbrace$ ï¼š0è¡¨ç¤ºæœ¬æ¨¡åž‹å°† $x_i$ å’Œ $x_j$ ä¸¤ä¸ªæ ·æœ¬åˆ†ä¸ºåŒä¸€ç±»ï¼Œ1è¡¨ç¤ºåˆ†ä¸ºä¸åŒç±»ï¼› $I^\ast(x_i,x_j) \in \lbrace 0, \; 1 \rbrace$ ï¼š0è¡¨ç¤ºå‚è€ƒæ¨¡åž‹å°† $x_i$ å’Œ $x_j$ ä¸¤ä¸ªæ ·æœ¬åˆ†ä¸ºåŒä¸€ç±»ï¼Œ1è¡¨ç¤ºåˆ†ä¸ºä¸åŒç±»ï¼› æ‰€ä»¥ $X_{pair}(n \times n)$ å’Œ $Y_{pair}(n \times n)$ æ˜¯äºŒå€¼çŸ©é˜µã€‚ ä»ŽçŸ©é˜µå¯ä»¥å¯¼å‡ºå››ä¸ªé›†åˆï¼ˆçŸ©é˜µä¸­1å¯¹åº”çš„æ ·æœ¬å¯¹å±žäºŽè¯¥é›†åˆï¼‰ï¼š$$\begin{split}SS &amp;= 1 - X_{pair} \; | \; Y_{pair} \\SD &amp;= \frac{Y_{pair} - X_{pair} + 1}2 \\DS &amp;= \frac{X_{pair} - Y_{pair} + 1}2 \\DD &amp;= X_{pair} \; \&amp; \; Y_{pair}\end{split}$$ Jaccardç³»æ•°æ°å¡å¾·ç³»æ•° (Jaccard Coefficient, JC) ç”¨äºŽæ¯”è¾ƒ æœ‰é™ é›†åˆ$X$å’Œ$Y$ä¹‹é—´çš„ç›¸ä¼¼æ€§ä¸Žå·®å¼‚æ€§ã€‚$$\mathrm{JC} = \frac{|DD|}{|SD|+|DS|+|DD|} = \frac{|DD|}{1-|SS|} = \frac{X_{pair} \; \&amp; \; Y_{pair}}{X_{pair} \; | \; Y_{pair}}$$é€‚ç”¨äºŽ ç¨€ç– &amp; äºŒå€¼ çŸ©é˜µã€‚ ç³»æ•° &amp; å¤šå€¼çŸ©é˜µå¯ç”¨Tanimotoç³»æ•°ã€‚ Tanimotoç³»æ•°Tanimotoç³»æ•°åˆå«å¹¿ä¹‰Jaccardç³»æ•°ï¼Œç”¨æ¥è®¡ç®—ä¸¤ä¸ªç¨€ç–å‘é‡é—´çš„ç›¸ä¼¼æ€§ï¼Œå‘é‡å„åˆ†é‡å–å€¼0åˆ°1ã€‚$$\mathrm{EJ}(A,B) = \frac{A \cdot B}{||A|| + ||B|| - A \cdot B}$$$\mathrm{EJ}$ ç³»æ•°å¸¸è§çš„è®¡ç®—æ–¹å¼è¿˜æœ‰å¦ä¸€ç§ å‡è®¾ $k$ ä¸ªç‰¹å¾ï¼Œå³ $A=(a_1,\;a_2,\;\cdots,\;a_k)$ï¼Œ$B=(b_1,\;b_2,\;\cdots,\;b_k)$$$\mathrm{EJ}(A,B) = \frac{\sum_{i=1}^k \min{(a_i,b_i)}}{\sum_{i=1}^k \max{(a_i,b_i)}}$$è¿žç»­æƒ…å†µå®šä¹‰å¦‚ä¸‹$$\mathrm{EJ}(f,g) = \frac{\int \min(f,g)dx}{\int \max(f,g)dx}$$ FMæŒ‡æ•°FMæŒ‡æ•° (Fowlkes and Mallows lndexï¼ŒFMI) å¤šç”¨äºŽè¡¡é‡ä¸¤ä¸ªå±‚æ¬¡èšç±»é—´æˆ–è€…ä¸ŽåŸºå‡†å‚è€ƒèšç±»æ¨¡åž‹é—´çš„ç›¸ä¼¼åº¦ã€‚ ä¸ŽåŸºå‡†èšç±»æ¨¡åž‹æ¯”è¾ƒ$$\mathrm{FMI}=\sqrt{\frac{|TP|}{|TP|+|FP|} \times \frac{|TP|}{|TP|+|FN|}}$$ å±‚æ¬¡èšç±»æ¨¡åž‹æ¯”è¾ƒâ€¦ RI å’Œ ARIç»™å®š $n$ ä¸ªæ ·æœ¬çš„é›†åˆ $S$ï¼Œ$X={X_1,X_2,{\cdots},X_r}$ å’Œ $Y={Y_1,Y_2,{\cdots},Y_s}$ æ˜¯å…³äºŽ $S$ çš„ä¸¤ä¸ªçš„åˆ’åˆ†ã€‚å› ä¸ºèšç±»çš„è¿‡ç¨‹å°±æ˜¯å†å¯¹æ•°æ®é›†è¿›è¡Œåˆ’åˆ†ï¼Œæ‰€ä»¥ä¸€ä¸ªåˆ’åˆ†å°±ç­‰æ•ˆäºŽä¸€ä¸ªèšç±»æ¨¡åž‹ã€‚Xå’ŒYåŒæ—¶ä¹Ÿæ„å‘³ç€ä¸¤ä¸ªèšç±»æ¨¡åž‹ (clustering)ã€‚ RIå®šä¹‰å…°å¾·æŒ‡æ•° (Rand Index, RI)ï¼š$$RI = \frac{|SS|+|DD|}{|SS|+|SD|+|DS|+|DD|} = \frac{||SS|+|DD|}{C_n^2}$$ç›´è§‚ä¸Šç†è§£ï¼Œåˆ†å­æ˜¯Xå’ŒYè®¤å¯ä¸€è‡´çš„é…å¯¹ï¼Œåˆ†æ¯æ˜¯æ‰€æœ‰å¯èƒ½çš„é…å¯¹ã€‚å½“Yæ˜¯åŸºå‡†åˆ’åˆ†æ—¶ï¼ŒRIè¡¨ç¤ºçœŸé˜³æ€§æ•°æ®å’ŒçœŸé˜´æ€§æ•°æ®æ‰€å çš„æ¯”é‡ã€‚ ARIä¸ºäº†å®žçŽ°â€œåœ¨èšç±»ç»“æžœéšæœºäº§ç”Ÿçš„æƒ…å†µä¸‹ï¼ŒæŒ‡æ ‡åº”è¯¥æŽ¥è¿‘é›¶â€æå‡ºäº† è°ƒæ•´å…°å¾·æŒ‡æ•° (Adjusted Rand Index, ARI) ã€‚ æž„å»ºåˆ—è”è¡¨ (contingency table):å…¶ä¸­ $n_{ij}$ è¡¨ç¤ºXçš„ç¬¬iç°‡ä¸ŽYçš„ç¬¬jç°‡å…±æœ‰çš„å…ƒç´ ï¼Œå³ $n_{ij}=|X_i{\cap}Y_j|$ã€‚ ARI å®šä¹‰å¦‚ä¸‹ï¼š$$\mathrm{ARI} = \frac { \mathrm{RI} - E[\mathrm{RI}] } { \max {(\mathrm{RI})} - E[\mathrm{RI}] }= \frac{ \overbrace{ \sum_{ij}{C_{n_{ij}}^2} }^{\text{Index}} - \overbrace{ \frac{\sum_i C_{a_i}^2\sum_j C_{b_i}^2}{C_n^2} }^{\text{Expected Index}}}{ \underbrace{ \frac{\sum_i C_{a_i}^2+\sum_j C_{b_i}^2}2 }_{\text{Max Index}} - \underbrace{ \frac{\sum_i C_{a_i}^2\sum_j C_{b_i}^2}{C_n^2} }_{\text{Expected Index}}}$$ARI çš„å–å€¼èŒƒå›´æ‰©å±•åˆ°äº†[-1, 1]ï¼Œèµ·åˆ°äº†è¡¡é‡ ä¸¤ç»„æ•°æ®åˆ†å¸ƒçš„å»åˆç¨‹åº¦ çš„ä½œç”¨ã€‚ MI å’Œ NMIäº’ä¿¡æ¯ (Mutual Information, MI)$$MI(X,Y)=\sum_{x,y}{ p(x,y)\log{ \frac{p(x,y)}{p(x)p(y)} } }$$ æ ‡å‡†äº’ä¿¡æ¯ (Normalized Mutual Information, NMI)$$U(X,Y)=2R=2\frac{I(X;Y)}{H(X)+H(Y)}$$ $$H(X)= \sum_{i=1}^{n}{p(x_i)I(x_i)} = \sum_{i=1}^{n}{p(x_i)\log_b{\frac1{p(x_i)}}} = -\sum_{i=1}^{n}{p(x_i)\log_b{p(x_i)}}$$ å†…éƒ¨æŒ‡æ ‡æ‰€è°“çš„å†…éƒ¨æŒ‡æ ‡å°±æ˜¯åŸºäºŽæœ¬æ¨¡åž‹çš„èšç±»ç»“æžœè¿›è¡Œè®¡ç®—ã€‚ ä¸ºäº†è¡¡é‡æ ·æœ¬ä¹‹é—´çš„ç›¸ä¼¼æ€§å’Œå·®å¼‚æ€§ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®šä¹‰ä¸€ä¸ªè·ç¦»å…¬å¼ dist(a, b) ï¼Œè·ç¦»çš„å®šä¹‰éœ€è¦æ»¡è¶³ä¸‹é¢å››ä¸ªåŸºæœ¬æ€§è´¨ï¼š $dist(a, b) {\ge} 0$ æ’æˆç«‹ å½“ä¸”ä»…å½“ a = b æ—¶ $dist(a, b) = 0$ å¯¹ç§°ï¼š$dist(a, b) = dist(b, a)$ ä¸‰è§’ä¸ç­‰å¼ï¼š $dist(a, b) {\le} dist(a, c) + dist(c, b)$ å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç»å…¸è·ç¦»ï¼Œä¾‹å¦‚æ¬§å¼è·ç¦»ã€ä½™å¼¦è·ç¦»ã€Hammingè·ç¦»ç­‰ç­‰ã€‚åŸºäºŽè·ç¦»ï¼Œæˆ‘ä»¬å®šä¹‰ä»¥ä¸‹é‡ï¼š $avg(C)$ï¼šç°‡å†…ä¸¤ç‚¹é—´çš„å¹³å‡è·ç¦» $diam(C)$ï¼šç°‡å†…æ ·æœ¬é—´çš„æœ€å¤§è·ç¦» $d_{min}(C_i,C_j)$ï¼šä¸¤ä¸ªç°‡æœ€è¿‘æ ·æœ¬é—´çš„è·ç¦» $d_{cen}(C_i,C_j)$ï¼šä¸¤ä¸ªç°‡ä¸­å¿ƒç‚¹ï¼ˆç°‡çš„é‡å¿ƒï¼‰é—´çš„è·ç¦» Davies-Bouldin Indexæˆ´ç»´æ£®å ¡ä¸æŒ‡æ•° (Davies-Bouldin Index, DBI)$$\mathrm{DB} = \frac1k \sum_{i=1}^k \max \limits_{j \neq i}\left ( \frac { \overline{C_i} + \overline{C_j} } { || w_i - w_j ||_2 }\right )$$ é‚“æ©æŒ‡æ•°é‚“æ©æŒ‡æ•° (Dunn Validity Index, DVI) å¯¹çŽ¯çŠ¶ç­‰å¥‡è‘©åˆ†å¸ƒæ•ˆæžœå¾ˆå·®$$\mathrm{DVI} = \frac{\min \limits_{0&lt;m \neq n&lt;K}\left\lbrace \min \limits_{\forall x_i \in \Omega_m \\ \forall x_j \in \Omega_n } \left\lbrace || x_i - x_j || \right\rbrace\right\rbrace}{\max \limits_{0&lt;m \le K} \max \limits_{\forall x_i,x_j \in \Omega_m}\left\lbrace ||x_i - x_j|| \right\rbrace}$$ è½®å»“ç³»æ•° (Silhouette coefficient)]]></content>
      <categories>
        <category>ml</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[tensorflow-åŸºäºŽTFRecordåŠ è½½å›¾åƒæ•°æ®]]></title>
    <url>%2Fdl%2F20180301-e69e.html</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯TFRecordæ–‡ä»¶ï¼Ÿå°†ä¸€ç»„å›¾åƒæ•°æ®å’Œå®ƒä»¬å¯¹åº”çš„æ ‡ç­¾å­˜åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶é‡Œï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯TFRecordæ–‡ä»¶ã€‚ åˆ›å»ºè‡ªå®šä¹‰çš„ç‰™éª¨é¡¹ç›®æ•°æ®åŠ è½½å™¨ æ ¸å¿ƒæ­¥éª¤ï¼š å£°æ˜Žä¸€ä¸ªç”¨äºŽç”ŸæˆTFRecordæ–‡ä»¶çš„writer with tf.python_io,TFRecordWriter(tfr_fp) as writer: â€¦# tfr_fpæ˜¯ç”Ÿæˆæ–‡ä»¶è·¯å¾„ èŽ·å–å›¾åƒçš„äºŒè¿›åˆ¶æ•°æ®ï¼šä¾‹å¦‚ PIL::Image å¯¹è±¡ img å¯ä»¥ä½¿ç”¨ img.tobytes() èŽ·å–äºŒè¿›åˆ¶ä¿¡æ¯ ç„¶åŽå¥—ç”¨tensorflowæä¾›çš„APIï¼š çº¢è‰²ä¸‹åˆ’çº¿ä¸ºå…³é”®APIAï¼šæ ‡è¯†å›¾åƒæ ‡ç­¾çš„keyï¼ŒåŠ è½½TFRecordæ–‡ä»¶çš„æ—¶å€™ä¼šç”¨åˆ°Bï¼šæ³¨æ„ç±»åž‹å¯¹åº”ï¼šå›¾åƒæ ‡ç­¾ä¸ºintç±»åž‹ï¼Œå›¾åƒå†…å®¹ä¸ºbytesç±»åž‹å½¢å‚ value çš„å€¼æ³¨æ„åŠ  [] ä½¿ç”¨1.è€è§„çŸ©ï¼Œå…ˆå®šä¹‰é˜Ÿåˆ—123q = tf.train.string_input_producer([tfr_fp])è¿™é‡Œä¼ å…¥çš„æ˜¯ `[tfr_fp]` ï¼Œä»£è¡¨å»ºç«‹çš„å®žé™…ä¸Šæ˜¯ä¸€ä¸ªæ–‡ä»¶åé˜Ÿåˆ— 2.å®šä¹‰è¯»å–TFRecordæ–‡ä»¶çš„é˜…è¯»å™¨1reader = tf.TFRecordReader() 3.ç”¨è¿™ä¸ªreaderè¯»å–TFRecordæ–‡ä»¶çš„æ–‡ä»¶åé˜Ÿåˆ—å¾—åˆ°åºåˆ—åŒ–çš„æ ·ä¾‹ï¼š1_, serialized_example = reader.read(q) 4.ä»Žæ ·ä¾‹ä¸­è§£æžå‡ºå›¾åƒæ•°æ®å’Œå›¾åƒæ ‡ç­¾1234567features = tf.parse_single_example( serialized_example, features = &#123; 'label': tf.FixedLenFeature([], tf.int64), 'img_raw': tf.FixedLenFeature([], tf.string) &#125;) 5.ä»ŽäºŒè¿›åˆ¶æ•°æ®ä¸­è§£ç å›¾åƒ12img = tf.decode_raw(features[&apos;img_raw&apos;], tf.uint8)img = tf.reshape(img, SHAPE) 6.åƒä¸‡åˆ«å¿˜äº†åœ¨sessionä¸­å¼€å¯çº¿ç¨‹ï¼Œè¢«å‘å‚»äº†ä¼ é€é—¨]]></content>
      <categories>
        <category>dl</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å‡è®¾æ£€éªŒåŽŸç†2-å¡æ–¹æ£€éªŒ]]></title>
    <url>%2Fstat%2F20180228-5746.html</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯$\chi^2$åˆ†å¸ƒï¼Ÿè‹¥kä¸ªç‹¬ç«‹éšæœºå˜é‡ $Z_1,Z_2,â€¦,Z_k$ æœä»Žæ ‡å‡†æ­£æ€åˆ†å¸ƒN(0,1)ï¼Œåˆ™è¿™kä¸ªéšæœºå˜é‡çš„å¹³æ–¹å’Œ$X=\sum{Z_i^2}$ æœä»Žè‡ªç”±åº¦ä¸ºkçš„å¡æ–¹åˆ†å¸ƒã€‚è®°ä½œ $X\sim\chi^2(k)$ã€‚å¡æ–¹åˆ†å¸ƒçš„æœŸæœ›ä¸ºnï¼Œæ–¹å·®ä¸º2nã€‚ $\chi^2$é€‚åˆæ€§æ£€éªŒé€‚ç”¨èŒƒå›´ï¼šæ¯”è¾ƒè§‚æµ‹æ•°ä¸Žç†è®ºæ•°æ˜¯å¦ç¬¦åˆ æ£€éªŒå‡è®¾ï¼š$H_0$: O - E = 0 (è§‚æµ‹æ•°ä¸Žç†è®ºæ•°é—´æ²¡æœ‰å·®å¼‚) $\chi^2$ç‹¬ç«‹æ€§æ£€éªŒé€‚ç”¨èŒƒå›´ï¼šå¸¸ç”¨æ¥åˆ¤å®šä¸¤ä¸ªå˜é‡ä¹‹é—´æ˜¯ç‹¬ç«‹çš„è¿˜æ˜¯ç›¸äº’å½±å“çš„ åˆ—è”è¡¨çš„ç‹¬ç«‹æ€§æ£€éªŒ2x2åˆ—è”è¡¨æ£€éªŒå‡è®¾ï¼š$H_0$: äº‹ä»¶Aå’Œæ—¶é—´Bæ— å…³$H_1$: äº‹ä»¶Aå’Œæ—¶é—´Bæœ‰å…³ è¿žç»­æ€§çŸ«æ­£ $r{\times}c$ åˆ—è”è¡¨è¿™æ˜¯ä¸€ä¸ª $2{\times}3$ åˆ—è”è¡¨ï¼šä¸Šè¡¨ä¸­ä¸€å…±æœ‰ä¸¤ä¸ªå˜é‡ï¼š æ€§åˆ«ï¼šæœ‰2ä¸ªå–å€¼ï¼ˆç”·ã€å¥³ï¼‰ è‚¥èƒ–ç¨‹åº¦ï¼šæœ‰3ä¸ªå–å€¼ï¼ˆä¸è‚¥èƒ–ã€è½»åº¦è‚¥èƒ–ã€ä¸­/é‡åº¦è‚¥èƒ–ï¼‰ $\chi^2$æ£€éªŒéªŒè¯çš„æ˜¯ä¸¤ä¸ªå˜é‡æ˜¯å¦ç‹¬ç«‹ï¼Œå³â€æ€§åˆ«å’Œè‚¥èƒ–ç¨‹åº¦æ— å…³â€]]></content>
      <categories>
        <category>stat</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonè‡ªç”¨è¿›åº¦æ¡]]></title>
    <url>%2Fpython%2F20180201-ffef.html</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰ä¸€ä¸ªç®€å•çš„è¿›åº¦æ¡ã€‚ 123456789101112def progress_bar(x, max, msg='', std_max=100, new_line=False, interval=1, done_mark='â–ˆ', undone_mark='â–‘'): assert isinstance(new_line, bool) if new_line: interval = 1 x = int(x * std_max / max) done_marks = done_mark * x undone_marks = undone_mark * (std_max-x) r_mark = '' if new_line else '\r' end_mark = '' if not new_line and ( x - std_max ) else '\n' if x % interval == 0 or x - std_max == 0: string = "&#123;&#125;&#123;&#125; &#123;&#125;&#123;&#125; &#123;:&gt;3&#125;%&#123;&#125;" string = string.format(r_mark, msg, done_marks, undone_marks, x*100/std_max, end_mark) print(string, end='')]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>é’é“œæ´¾æ£®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tensorflow-åŸºäºŽé˜Ÿåˆ—å’Œå¤šçº¿ç¨‹åŠ è½½æ•°æ®]]></title>
    <url>%2Fdl%2F20180126-f29a.html</url>
    <content type="text"><![CDATA[å»ºæ–‡ä»¶å»ºè®®é‡‡ç”¨ csvæ ¼å¼ï¼Œç¬¬ä¸€åˆ—æ˜¯å›¾åƒè·¯å¾„ï¼Œç¬¬äºŒåˆ—æ˜¯æ ‡ç­¾ï¼ˆå»ºè®®æ ‡ç­¾é¢„å¤„ç†æˆæ•°å­—ï¼‰ï¼Œåˆ†éš”ç¬¦ä¸º , æŒ‰è¡ŒåŠ è½½æ–‡ä»¶12with open('fileslist.csv','r') as fin: imgNames = fin.read().strip().split('\n') å»ºç«‹æ–‡ä»¶åé˜Ÿåˆ—å»ºé˜Ÿ 1234567fn_queue = tf.train.string_input_producer(imgNames)#Other opt-parameters# num_epochs: è¯»å–æ–‡ä»¶ä¸€æ¬¡ä¸ºä¸€ä¸ªepochï¼Œé»˜è®¤æ— é™æ¬¡è¯»å–# shuffle: è¯»å–æ–‡ä»¶æ—¶æ˜¯å¦ä¹±åº# seed: å½“shuffleä¸ºTrueæ—¶è®¾ç½®éšæœºæ•°ç§å­(å¯é€‰)# capacity: é˜Ÿåˆ—å®¹é‡ï¼Œé»˜è®¤ä¸º32(å¾ˆæ˜¾ç„¶éœ€è¦å¤§äºŽbatch-size)# share_name, name, cancel_op å‡ºé˜Ÿ 1item = fn_queue.dequeue() æ³¨ï¼š å‡ºé˜Ÿçš„åªæ˜¯ä¸€ä¸ªç¬¦å·(å‚è€ƒtensorflowè®¡ç®—å›¾çš„æ¦‚å¿µ)ï¼ŒçœŸæ­£çš„å€¼è¦åœ¨Sessionä¸­èŽ·å– æ­¤æ—¶ item ç›¸å½“äºŽ fileslist.csv ä¸­çš„ä¸€è¡Œï¼ˆä¸€ä¸ªè®°å½•ï¼‰ï¼Œæ¯ä¸ªè®°å½•å…·æœ‰ç›¸åŒçš„å½¢å¼ï¼ æ˜¾ç„¶ item ä¸æ˜¯æ ‡å‡†å½¢å¼ï¼Œè¿˜éœ€è¦åœ¨åŽé¢è¿›è¡Œè¿›ä¸€æ­¥åŠ å·¥ å•ä¸ªè®°å½•(item)æ•°æ®æ ‡å‡†åŒ–ï¼šæ ¹æ®å›¾åƒ è·¯å¾„å­—ç¬¦ä¸² è§£æžå‡º æ•°ç»„å¯¹è®°å½• item è§£ç å¾—åˆ°è·¯å¾„ img_path å’Œæ ‡ç­¾ img_label1img_path, img_label = tf.decode_csv(item, [[''],[1]], field_delim=',') å‚æ•°è§£é‡Š records : å¿…é¡»å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»åž‹çš„å¼ é‡ï¼Œè¿™é‡Œå°±æ˜¯ fn_queue å‡ºé˜Ÿçš„ç»“æžœ item record_defaults : å¿…é¡»å‚æ•°ï¼ŒæŒ‡å®šè¿”å›žå€¼çš„ç±»åž‹(è¿™é‡Œè¿”å›žå€¼ç±»åž‹çš„å®šä¹‰å¾ˆæœ‰æ„æ€~~)è¿™é‡Œç›´è§‚è¿”å›žå€¼ç±»åž‹ä¸º str, int , å› æ­¤å½¢å‚èµ‹å€¼ [[&#39;&#39;], [1]] (æƒŠå¥‡)ç¬¬ä¸€ä¸ª [] å†…å¯ä»¥æ˜¯ä»»æ„ str å¯¹è±¡ï¼Œç¬¬äºŒä¸ª [] å†…å¯ä»¥æ˜¯ä»»æ„ int å¯¹è±¡ field_delim : å»ºè®®æ˜¾ç¤ºå£°æ˜Žï¼Œcsvæ–‡ä»¶åˆ—é—´åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º , use_quote_delim : unknown, unimportant name na_value : NA/NaNæ ¼å¼é€‰æ‹©ï¼Œæ²¡å•¥ç”¨ è§£æž img_path çš„å†…å®¹1img_str = tf.read_file(img_path) img_dtr å®žé™…ä¸Šè¿˜æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸ŽåŒ…å«æ–‡ä»¶åå†…å®¹çš„ img_path ä¸åŒï¼Œimg_str åŒ…å«çš„æ˜¯æ–‡ä»¶å†…å®¹ã€‚ å¯¹å›¾åƒå†…å®¹å­—ç¬¦ä¸² img_str è¿›è¡Œè§£æžï¼ŒèŽ·å–å›¾åƒçš„æ•°å­—ä¿¡æ¯1img_data = tf.image.decode_jpeg(img_str, channels=3) å‚æ•°è§£é‡Š content : å¿…é¡»ï¼Œå­—ç¬¦ä¸²å¼ é‡ï¼Œæ­¤å¤„ä¸º img_str channels=0 ï¼š å¿…é¡»æŒ‡å®šï¼Œå¸¸è§å›¾åƒé€šé“æ•°å¯èƒ½å–å€¼æœ‰ 1, 3, 4 ratio=1 fancy_upscaling=True try_recover_truncated=False acceptable_fraction=1 dct_method=&#39;&#39; name=None ç”±flattenåŒ–çš„æ•°å­—ä¿¡æ¯ç¡®å®šå›¾åƒçŸ©é˜µå°ºå¯¸ï¼ˆè¯´ç™½äº†å°±æ˜¯reshapeï¼‰1img_array = tf.image.resize_images(img_data, [HEIGHTï¼Œ WIDTH]) å¯é€‰å‚æ•° method=ResizeMethod.BILINEAR : å˜å½¢æ–¹æ³• align_corners=False èŽ·å–æ‰¹æ¬¡æ•°æ®ï¼ˆbatch subsetï¼‰123456images, labels = tf.train.shuffle_batch( [img_array, img_label], batch_size=8, capacity=100, min_after_dequeue=20) å®Œæ•´å‚æ•°è§£é‡Š tensors : å¿…é¡»ï¼Œå¾…æ‰“åŒ…çš„è®°å½•åˆ—è¡¨ï¼Œæ­¤å¤„ä¸º [img_array, img_label]å› ä¸º img_array å’Œ img_label åœ¨è¿™é‡Œéƒ½åªæ˜¯ä¸ªç¬¦å·ï¼Œä¹Ÿå°±ä¸éš¾ç†è§£ä¸Šè¿°èµ‹å€¼äº†~ batch_size : å¿…é¡»ï¼Œä¸Žè®­ç»ƒè¿‡ç¨‹çš„ batch_size ç›¸åŒå› æ­¤åœ¨ä½¿ç”¨é˜Ÿåˆ—è®­ç»ƒæ¨¡åž‹æ—¶ï¼Œbatch_sizeéœ€è¦ä½œä¸ºè¶…å‚è¿›è¡Œé¢„èµ‹å€¼ capacity : å»ºè®®ï¼Œé˜Ÿåˆ—å®¹é‡æ³¨æ„è¿™é‡Œçš„é˜Ÿåˆ—ä¸Žå‰é¢çš„æ–‡ä»¶åé˜Ÿåˆ—ä¸åŒ min_after_dequeue : å»ºè®®ï¼Œæ¯æ¬¡å‡ºé˜ŸåŽé˜Ÿåˆ—ä¸­å‰©ä½™çš„è®°å½•æ­¤å‚æ•°å¯ç”¨æ¥è¡¡é‡shuffleæ°´å¹³ï¼Œå‰©ä½™è®°å½•æ•°é‡è¶Šå¤§ï¼Œshuffleç¨‹åº¦è¶Šé«˜ num_threads=1 ï¼š å¯é€‰ï¼Œå…¥é˜Ÿçº¿ç¨‹æ•°ï¼Œé€šå¸¸æƒ…å†µä¸‹1ä¸ªå°±å¤Ÿç”¨äº† seed=None : å¯é€‰ï¼Œè®¾ç½®shuffleéšæœºç§å­ enqueue_many=False : å¯é€‰ï¼Œä¸€ä¸ªè®°å½•ä¸€ä¸ªè®°å½•çš„å…¥é˜Ÿè¿˜æ˜¯å¤šä¸ªä¸€èµ·å…¥é˜Ÿ shapes=None allow_smaller_final_batch=False : å½“æ¯ä¸ªepochæœ€åŽä¸€ä¸ªbatchæ•°ç›®ä¸è¶³æ—¶æ˜¯å¦å…è®¸çµæ´»è°ƒæ•´batchå¤§å° share_name=None : å¤šä¸ªSessionå…±ç”¨æ•°æ®åŠ è½½é˜Ÿåˆ—æ—¶ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨ä¸ä¸Š name=None ç„¶è€Œï¼Œä»¥ä¸Šéƒ½æ˜¯åœ¨å®šä¹‰é˜Ÿåˆ—åŠ è½½çš„ å›¾ ã€‚ã€‚ã€‚ Sessioné‡Œé¢å¦‚ä½•ä½¿ç”¨å¼€å¯é˜Ÿåˆ—ï¼Ÿ12345678with tf.Session(...) as sess: coord = tf.train.Coordinator() threads = tf.train.start_queue_runners(sess=sess, coord=coord) sess.run(tf.global_variables_initializer()) X, y = sess.run([images, labels]) # åˆ©ç”¨feed_dictä¼ å…¥X,yè¿›è¡Œè®­ç»ƒ... coord.request_stop() coord.join(threads=threads)]]></content>
      <categories>
        <category>dl</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[win10ç³»ç»Ÿå°†Cç›˜çš„ç”¨æˆ·æ–‡ä»¶å¤¹è¿ç§»è‡³Dç›˜]]></title>
    <url>%2Fos%2F20180125-f59f.html</url>
    <content type="text"><![CDATA[Cç›˜ç»ˆæžæ¸…ç†ï¼ æ¿€æ´»ç®¡ç†å‘˜è´¦æˆ·win10é»˜è®¤ç¦ç”¨ç®¡ç†å‘˜è´¦æˆ·ã€‚ æ‰“å¼€â€œè®¡ç®—æœºç®¡ç†â€ å³é”®â€œæˆ‘çš„ç”µè„‘â€- ç®¡ç† cmd - é”®å…¥â€œè®¡ç®—æœºç®¡ç†â€- æ‰“å¼€ æ¿€æ´»ç®¡ç†å‘˜è´¦æˆ·ï¼š å³é”®â€œè®¡ç®—æœºç®¡ç†ï¼ˆæœ¬åœ°ï¼‰&gt;ç³»ç»Ÿå·¥å…·&gt;æœ¬åœ°ç”¨æˆ·å’Œç»„&gt;ç”¨æˆ·&gt;Administratorâ€é€‰æ‹©å±žæ€§ åŽ»æŽ‰â€œè´¦æˆ·å·²ç¦ç”¨â€çš„å¯¹å‹¾ åˆ‡æ¢è‡³ç®¡ç†å‘˜ æ³¨é”€å½“å‰ç”¨æˆ·ï¼Œåˆ‡æ¢è‡³Administratorç”¨æˆ· æ‰“å¼€cmdï¼Œæ‰§è¡Œ 1`robocopy &quot;C:\Users\USERNAME&quot; &quot;D:\Users\USERNAME&quot; /E /COPYALL /XJ` å¯èƒ½éœ€è¦å®‰è£…æ–‡ä»¶è§£é”å·¥å…· LockHunterï¼šç¨‹åºæŽ¥å£ä½äºŽå³é”®èœå•ä¸­ï¼ è§£é” â€œC:\Users\USERNAMEâ€ï¼šå³é”®èœå•é€‰æ‹©APIè¿›å…¥è§£é”ç•Œé¢ åˆ é™¤â€C:\Users\USERNAMEâ€ï¼šcmdä¸­æ‰§è¡Œ 1rmdir &quot;C:\Users\USERNAME&quot; /S /Q å»ºç«‹è½¯è¿žæŽ¥ï¼šcmdä¸­æ‰§è¡Œ 1mklink /J &quot;C:\Users\USERNAME&quot; &quot;D:\Users\USERNAME&quot;]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[tensorflow-è®¡ç®—èµ„æºæŽ§åˆ¶]]></title>
    <url>%2Fdl%2F20180125-ff54.html</url>
    <content type="text"><![CDATA[æŽ§åˆ¶GPUå’ŒCPUçš„ä½¿ç”¨ã€‚ tf.ConfigProto()çš„å‚æ•°ä½¿ç”¨CPUè®¡ç®—æ—¶æŒ‡å®šæ ¸æ•°1device_count = &#123;'CPU': 4&#125; ä½¿ç”¨GPUè¿›è¡Œè®¡ç®—:123gpu_options = tf.GPUOptions( per_process_gpu_memory_fraction = 0.25, allow_growth = True) per_process_gpu_memory_fraction æŒ‡å®šæ¯ä¸ªæ˜¾å­˜å ç”¨æ¯”ä¾‹ allow_growth å…è®¸æ˜¾å­˜å ç”¨è‡ªé€‚åº”å¢žé•¿ å¹¶è¡Œè®¡ç®—ç›¸å…³è®¾ç½®ç‹¬ç«‹opé—´å¹¶è¡Œè®¡ç®—1inter_op_parallelism_threads = 1 opå†…éƒ¨ï¼ˆå¦‚çŸ©é˜µä¹˜æ³•ï¼‰å¹¶è¡Œè®¡ç®—1intra_op_parallelism_threads = 1 å…¶ä»–å‚æ•°æ˜¯å¦æ‰“å°è®¾å¤‡åˆ†é…æ—¥å¿—1log_device_placement = True å¦‚æžœä½ æŒ‡å®šçš„è®¾å¤‡ä¸å­˜åœ¨ï¼Œå…è®¸TFè‡ªåŠ¨åˆ†é…è®¾å¤‡1allow_soft_placement = True æž„å»ºconfigé€‰æ‹©å¿…è¦å‚æ•°123config = tf.ConfigProto( device_count = ... ä½¿ç”¨CPUæ ¸å¿ƒï¼Œå¯é€‰ gpu_options = ... GPUæ˜¾å­˜æŽ§åˆ¶ï¼Œå¯é€‰ å°†configä¼ é€’ç»™Session1session = tf.Session(config=config)]]></content>
      <categories>
        <category>dl</category>
      </categories>
  </entry>
</search>
